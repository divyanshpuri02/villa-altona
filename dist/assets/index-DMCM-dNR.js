(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function OA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s1={exports:{}},Hc={},o1={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ya=Symbol.for("react.element"),LA=Symbol.for("react.portal"),MA=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),$A=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),sv=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=sv&&t[sv]||t["@@iterator"],typeof t=="function"?t:null)}var a1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l1=Object.assign,u1={};function Js(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c1(){}c1.prototype=Js.prototype;function $p(t,e,n){this.props=t,this.context=e,this.refs=u1,this.updater=n||a1}var zp=$p.prototype=new c1;zp.constructor=$p;l1(zp,Js.prototype);zp.isPureReactComponent=!0;var ov=Array.isArray,h1=Object.prototype.hasOwnProperty,Hp={current:null},d1={key:!0,ref:!0,__self:!0,__source:!0};function f1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)h1.call(e,r)&&!d1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ya,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function KA(t,e){return{$$typeof:Ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ya}function GA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var av=/\/+/g;function rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GA(""+t.key):e.toString(36)}function _u(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ya:case LA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rd(o,0):r,ov(i)?(n="",t!=null&&(n=t.replace(av,"$&/")+"/"),_u(i,e,n,"",function(c){return c})):i!=null&&(Wp(i)&&(i=KA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(av,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ov(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rd(s,a);o+=_u(s,e,n,l,i)}else if(l=qA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rd(s,a++),o+=_u(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $l(t,e,n){if(t==null)return t;var r=[],i=0;return _u(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},wu={transition:null},YA={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Hp};function p1(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:$l,forEach:function(t,e,n){$l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $l(t,function(){e++}),e},toArray:function(t){return $l(t,function(e){return e})||[]},only:function(t){if(!Wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Js;se.Fragment=MA;se.Profiler=FA;se.PureComponent=$p;se.StrictMode=jA;se.Suspense=zA;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;se.act=p1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)h1.call(e,l)&&!d1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ya,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:BA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UA,_context:t},t.Consumer=t};se.createElement=f1;se.createFactory=function(t){var e=f1.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:$A,render:t}};se.isValidElement=Wp;se.lazy=function(t){return{$$typeof:WA,_payload:{_status:-1,_result:t},_init:QA}};se.memo=function(t,e){return{$$typeof:HA,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};se.unstable_act=p1;se.useCallback=function(t,e){return Nt.current.useCallback(t,e)};se.useContext=function(t){return Nt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Nt.current.useEffect(t,e)};se.useId=function(){return Nt.current.useId()};se.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Nt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};se.useRef=function(t){return Nt.current.useRef(t)};se.useState=function(t){return Nt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Nt.current.useTransition()};se.version="18.3.1";o1.exports=se;var P=o1.exports;const Xa=OA(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=P,JA=Symbol.for("react.element"),ZA=Symbol.for("react.fragment"),eP=Object.prototype.hasOwnProperty,tP=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nP={key:!0,ref:!0,__self:!0,__source:!0};function m1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eP.call(e,r)&&!nP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JA,type:t,key:s,ref:o,props:i,_owner:tP.current}}Hc.Fragment=ZA;Hc.jsx=m1;Hc.jsxs=m1;s1.exports=Hc;var p=s1.exports,sf={},g1={exports:{}},Qt={},y1={exports:{}},v1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var Z=$.length;$.push(G);e:for(;0<Z;){var Q=Z-1>>>1,le=$[Q];if(0<i(le,G))$[Q]=G,$[Z]=le,Z=Q;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],Z=$.pop();if(Z!==G){$[0]=Z;e:for(var Q=0,le=$.length,fe=le>>>1;Q<fe;){var ht=2*(Q+1)-1,Fe=$[ht],Ge=ht+1,It=$[Ge];if(0>i(Fe,Z))Ge<le&&0>i(It,Fe)?($[Q]=It,$[Ge]=Z,Q=Ge):($[Q]=Fe,$[ht]=Z,Q=ht);else if(Ge<le&&0>i(It,Z))$[Q]=It,$[Ge]=Z,Q=Ge;else break e}}return G}function i($,G){var Z=$.sortIndex-G.sortIndex;return Z!==0?Z:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,m=3,y=!1,T=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=$)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function N($){if(S=!1,w($),!T)if(n(l)!==null)T=!0,we(O);else{var G=n(c);G!==null&&re(N,G.startTime-$)}}function O($,G){T=!1,S&&(S=!1,x(_),_=-1),y=!0;var Z=m;try{for(w(G),d=n(l);d!==null&&(!(d.expirationTime>G)||$&&!b());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,m=d.priorityLevel;var le=Q(d.expirationTime<=G);G=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),w(G)}else r(l);d=n(l)}if(d!==null)var fe=!0;else{var ht=n(c);ht!==null&&re(N,ht.startTime-G),fe=!1}return fe}finally{d=null,m=Z,y=!1}}var M=!1,k=null,_=-1,I=5,A=-1;function b(){return!(t.unstable_now()-A<I)}function D(){if(k!==null){var $=t.unstable_now();A=$;var G=!0;try{G=k(!0,$)}finally{G?C():(M=!1,k=null)}}else M=!1}var C;if(typeof v=="function")C=function(){v(D)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ke=pe.port2;pe.port1.onmessage=D,C=function(){Ke.postMessage(null)}}else C=function(){R(D,0)};function we($){k=$,M||(M=!0,C())}function re($,G){_=R(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,we(O))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Z=m;m=G;try{return $()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=m;m=$;try{return G()}finally{m=Z}},t.unstable_scheduleCallback=function($,G,Z){var Q=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Q+Z:Q):Z=Q,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,$={id:h++,callback:G,priorityLevel:$,startTime:Z,expirationTime:le,sortIndex:-1},Z>Q?($.sortIndex=Z,e(c,$),n(l)===null&&$===n(c)&&(S?(x(_),_=-1):S=!0,re(N,Z-Q))):($.sortIndex=le,e(l,$),T||y||(T=!0,we(O))),$},t.unstable_shouldYield=b,t.unstable_wrapCallback=function($){var G=m;return function(){var Z=m;m=G;try{return $.apply(this,arguments)}finally{m=Z}}}})(v1);y1.exports=v1;var rP=y1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=P,Kt=rP;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _1=new Set,ya={};function Bi(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(ya[t]=e,t=0;t<e.length;t++)_1.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=Object.prototype.hasOwnProperty,sP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},uv={};function oP(t){return of.call(uv,t)?!0:of.call(lv,t)?!1:sP.test(t)?uv[t]=!0:(lv[t]=!0,!1)}function aP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lP(t,e,n,r){if(e===null||typeof e>"u"||aP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ct[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qp,Kp);ct[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var i=ct.hasOwnProperty(e)?ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lP(e,n,i,r)&&(n=null),r||i===null?oP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),ls=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),w1=Symbol.for("react.provider"),x1=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),E1=Symbol.for("react.offscreen"),cv=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,id;function $o(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||""}return`
`+id+t}var sd=!1;function od(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$o(t):""}function uP(t){switch(t.tag){case 5:return $o(t.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 2:case 15:return t=od(t.type,!1),t;case 11:return t=od(t.type.render,!1),t;case 1:return t=od(t.type,!0),t;default:return""}}function cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case ls:return"Portal";case af:return"Profiler";case Qp:return"StrictMode";case lf:return"Suspense";case uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x1:return(t.displayName||"Context")+".Consumer";case w1:return(t._context.displayName||"Context")+".Provider";case Yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xp:return e=t.displayName||null,e!==null?e:cf(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return cf(t(e))}catch{}}return null}function cP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(e);case 8:return e===Qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hP(t){var e=T1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hl(t){t._valueTracker||(t._valueTracker=hP(t))}function I1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=T1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hf(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S1(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function df(t,e){S1(t,e);var n=Wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&ff(t,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ff(t,e,n){(e!=="number"||zu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zo=Array.isArray;function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(zo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wr(n)}}function k1(t,e){var n=Wr(e.value),r=Wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wl,P1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wl=Wl||document.createElement("div"),Wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dP=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){dP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function C1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function R1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var fP=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gf(t,e){if(e){if(fP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function yf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=null;function Jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _f=null,As=null,Ps=null;function mv(t){if(t=el(t)){if(typeof _f!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Qc(e),_f(t.stateNode,t.type,e))}}function b1(t){As?Ps?Ps.push(t):Ps=[t]:As=t}function N1(){if(As){var t=As,e=Ps;if(Ps=As=null,mv(t),e)for(t=0;t<e.length;t++)mv(e[t])}}function D1(t,e){return t(e)}function V1(){}var ad=!1;function O1(t,e,n){if(ad)return t(e,n);ad=!0;try{return D1(t,e,n)}finally{ad=!1,(As!==null||Ps!==null)&&(V1(),N1())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=Qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var wf=!1;if(nr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){wf=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{wf=!1}function pP(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Zo=!1,Hu=null,Wu=!1,xf=null,mP={onError:function(t){Zo=!0,Hu=t}};function gP(t,e,n,r,i,s,o,a,l){Zo=!1,Hu=null,pP.apply(mP,arguments)}function yP(t,e,n,r,i,s,o,a,l){if(gP.apply(this,arguments),Zo){if(Zo){var c=Hu;Zo=!1,Hu=null}else throw Error(U(198));Wu||(Wu=!0,xf=c)}}function $i(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gv(t){if($i(t)!==t)throw Error(U(188))}function vP(t){var e=t.alternate;if(!e){if(e=$i(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gv(i),t;if(s===r)return gv(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function M1(t){return t=vP(t),t!==null?j1(t):null}function j1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j1(t);if(e!==null)return e;t=t.sibling}return null}var F1=Kt.unstable_scheduleCallback,yv=Kt.unstable_cancelCallback,_P=Kt.unstable_shouldYield,wP=Kt.unstable_requestPaint,Me=Kt.unstable_now,xP=Kt.unstable_getCurrentPriorityLevel,Zp=Kt.unstable_ImmediatePriority,U1=Kt.unstable_UserBlockingPriority,qu=Kt.unstable_NormalPriority,EP=Kt.unstable_LowPriority,B1=Kt.unstable_IdlePriority,Wc=null,kn=null;function TP(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Wc,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:kP,IP=Math.log,SP=Math.LN2;function kP(t){return t>>>=0,t===0?32:31-(IP(t)/SP|0)|0}var ql=64,Kl=4194304;function Ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ho(a):(s&=o,s!==0&&(r=Ho(s)))}else o=n&~i,o!==0?r=Ho(o):s!==0&&(r=Ho(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gn(e),i=1<<n,r|=t[n],e&=~i;return r}function AP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $1(){var t=ql;return ql<<=1,!(ql&4194240)&&(ql=64),t}function ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ja(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function CP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function em(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function z1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H1,tm,W1,q1,K1,Tf=!1,Gl=[],Vr=null,Or=null,Lr=null,wa=new Map,xa=new Map,kr=[],RP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vv(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function bo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=el(e),e!==null&&tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bP(t,e,n,r,i){switch(e){case"focusin":return Vr=bo(Vr,t,e,n,r,i),!0;case"dragenter":return Or=bo(Or,t,e,n,r,i),!0;case"mouseover":return Lr=bo(Lr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wa.set(s,bo(wa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xa.set(s,bo(xa.get(s)||null,t,e,n,r,i)),!0}return!1}function G1(t){var e=yi(t.target);if(e!==null){var n=$i(e);if(n!==null){if(e=n.tag,e===13){if(e=L1(n),e!==null){t.blockedOn=e,K1(t.priority,function(){W1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=If(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vf=r,n.target.dispatchEvent(r),vf=null}else return e=el(n),e!==null&&tm(e),t.blockedOn=n,!1;e.shift()}return!0}function _v(t,e,n){xu(t)&&n.delete(e)}function NP(){Tf=!1,Vr!==null&&xu(Vr)&&(Vr=null),Or!==null&&xu(Or)&&(Or=null),Lr!==null&&xu(Lr)&&(Lr=null),wa.forEach(_v),xa.forEach(_v)}function No(t,e){t.blockedOn===e&&(t.blockedOn=null,Tf||(Tf=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,NP)))}function Ea(t){function e(i){return No(i,t)}if(0<Gl.length){No(Gl[0],t);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&No(Vr,t),Or!==null&&No(Or,t),Lr!==null&&No(Lr,t),wa.forEach(e),xa.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)G1(n),n.blockedOn===null&&kr.shift()}var Cs=dr.ReactCurrentBatchConfig,Gu=!0;function DP(t,e,n,r){var i=me,s=Cs.transition;Cs.transition=null;try{me=1,nm(t,e,n,r)}finally{me=i,Cs.transition=s}}function VP(t,e,n,r){var i=me,s=Cs.transition;Cs.transition=null;try{me=4,nm(t,e,n,r)}finally{me=i,Cs.transition=s}}function nm(t,e,n,r){if(Gu){var i=If(t,e,n,r);if(i===null)vd(t,e,r,Qu,n),vv(t,r);else if(bP(i,t,e,n,r))r.stopPropagation();else if(vv(t,r),e&4&&-1<RP.indexOf(t)){for(;i!==null;){var s=el(i);if(s!==null&&H1(s),s=If(t,e,n,r),s===null&&vd(t,e,r,Qu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vd(t,e,r,null,n)}}var Qu=null;function If(t,e,n,r){if(Qu=null,t=Jp(r),t=yi(t),t!==null)if(e=$i(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qu=t,null}function Q1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xP()){case Zp:return 1;case U1:return 4;case qu:case EP:return 16;case B1:return 536870912;default:return 16}default:return 16}}var br=null,rm=null,Eu=null;function Y1(){if(Eu)return Eu;var t,e=rm,n=e.length,r,i="value"in br?br.value:br.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ql(){return!0}function wv(){return!1}function Yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ql:wv,this.isPropagationStopped=wv,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),e}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Yt(Zs),Za=be({},Zs,{view:0,detail:0}),OP=Yt(Za),ud,cd,Do,qc=be({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(ud=t.screenX-Do.screenX,cd=t.screenY-Do.screenY):cd=ud=0,Do=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),xv=Yt(qc),LP=be({},qc,{dataTransfer:0}),MP=Yt(LP),jP=be({},Za,{relatedTarget:0}),hd=Yt(jP),FP=be({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),UP=Yt(FP),BP=be({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$P=Yt(BP),zP=be({},Zs,{data:0}),Ev=Yt(zP),HP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qP[t])?!!e[t]:!1}function sm(){return KP}var GP=be({},Za,{key:function(t){if(t.key){var e=HP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QP=Yt(GP),YP=be({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=Yt(YP),XP=be({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),JP=Yt(XP),ZP=be({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=Yt(ZP),tC=be({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=Yt(tC),rC=[9,13,27,32],om=nr&&"CompositionEvent"in window,ea=null;nr&&"documentMode"in document&&(ea=document.documentMode);var iC=nr&&"TextEvent"in window&&!ea,X1=nr&&(!om||ea&&8<ea&&11>=ea),Iv=" ",Sv=!1;function J1(t,e){switch(t){case"keyup":return rC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function sC(t,e){switch(t){case"compositionend":return Z1(e);case"keypress":return e.which!==32?null:(Sv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Sv?null:t;default:return null}}function oC(t,e){if(cs)return t==="compositionend"||!om&&J1(t,e)?(t=Y1(),Eu=rm=br=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X1&&e.locale!=="ko"?null:e.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aC[t.type]:e==="textarea"}function ex(t,e,n,r){b1(r),e=Yu(e,"onChange"),0<e.length&&(n=new im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ta=null,Ta=null;function lC(t){hx(t,0)}function Kc(t){var e=fs(t);if(I1(e))return t}function uC(t,e){if(t==="change")return e}var tx=!1;if(nr){var dd;if(nr){var fd="oninput"in document;if(!fd){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),fd=typeof Av.oninput=="function"}dd=fd}else dd=!1;tx=dd&&(!document.documentMode||9<document.documentMode)}function Pv(){ta&&(ta.detachEvent("onpropertychange",nx),Ta=ta=null)}function nx(t){if(t.propertyName==="value"&&Kc(Ta)){var e=[];ex(e,Ta,t,Jp(t)),O1(lC,e)}}function cC(t,e,n){t==="focusin"?(Pv(),ta=e,Ta=n,ta.attachEvent("onpropertychange",nx)):t==="focusout"&&Pv()}function hC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(Ta)}function dC(t,e){if(t==="click")return Kc(e)}function fC(t,e){if(t==="input"||t==="change")return Kc(e)}function pC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:pC;function Ia(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!of.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function Cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=Cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cv(n)}}function rx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ix(){for(var t=window,e=zu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zu(t.document)}return e}function am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mC(t){var e=ix(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rx(n.ownerDocument.documentElement,n)){if(r!==null&&am(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rv(n,s);var o=Rv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gC=nr&&"documentMode"in document&&11>=document.documentMode,hs=null,Sf=null,na=null,kf=!1;function bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kf||hs==null||hs!==zu(r)||(r=hs,"selectionStart"in r&&am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&Ia(na,r)||(na=r,r=Yu(Sf,"onSelect"),0<r.length&&(e=new im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hs)))}function Yl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ds={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},pd={},sx={};nr&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Gc(t){if(pd[t])return pd[t];if(!ds[t])return t;var e=ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sx)return pd[t]=e[n];return t}var ox=Gc("animationend"),ax=Gc("animationiteration"),lx=Gc("animationstart"),ux=Gc("transitionend"),cx=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){cx.set(t,e),Bi(e,[t])}for(var md=0;md<Nv.length;md++){var gd=Nv[md],yC=gd.toLowerCase(),vC=gd[0].toUpperCase()+gd.slice(1);Zr(yC,"on"+vC)}Zr(ox,"onAnimationEnd");Zr(ax,"onAnimationIteration");Zr(lx,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(ux,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function Dv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yP(r,e,void 0,t),t.currentTarget=null}function hx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Dv(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Dv(i,a,c),s=l}}}if(Wu)throw t=xf,Wu=!1,xf=null,t}function Ee(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(dx(e,t,2,!1),n.add(r))}function yd(t,e,n){var r=0;e&&(r|=4),dx(n,t,r,e)}var Xl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[Xl]){t[Xl]=!0,_1.forEach(function(n){n!=="selectionchange"&&(_C.has(n)||yd(n,!1,t),yd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xl]||(e[Xl]=!0,yd("selectionchange",!1,e))}}function dx(t,e,n,r){switch(Q1(e)){case 1:var i=DP;break;case 4:i=VP;break;default:i=nm}n=i.bind(null,e,n,t),i=void 0,!wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}O1(function(){var c=s,h=Jp(n),d=[];e:{var m=cx.get(t);if(m!==void 0){var y=im,T=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":y=QP;break;case"focusin":T="focus",y=hd;break;case"focusout":T="blur",y=hd;break;case"beforeblur":case"afterblur":y=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JP;break;case ox:case ax:case lx:y=UP;break;case ux:y=eC;break;case"scroll":y=OP;break;case"wheel":y=nC;break;case"copy":case"cut":case"paste":y=$P;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Tv}var S=(e&4)!==0,R=!S&&t==="scroll",x=S?m!==null?m+"Capture":null:m;S=[];for(var v=c,w;v!==null;){w=v;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=_a(v,x),N!=null&&S.push(ka(v,N,w)))),R)break;v=v.return}0<S.length&&(m=new y(m,T,null,n,h),d.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==vf&&(T=n.relatedTarget||n.fromElement)&&(yi(T)||T[rr]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=c,T=T?yi(T):null,T!==null&&(R=$i(T),T!==R||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=c),y!==T)){if(S=xv,N="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=Tv,N="onPointerLeave",x="onPointerEnter",v="pointer"),R=y==null?m:fs(y),w=T==null?m:fs(T),m=new S(N,v+"leave",y,n,h),m.target=R,m.relatedTarget=w,N=null,yi(h)===c&&(S=new S(x,v+"enter",T,n,h),S.target=w,S.relatedTarget=R,N=S),R=N,y&&T)t:{for(S=y,x=T,v=0,w=S;w;w=is(w))v++;for(w=0,N=x;N;N=is(N))w++;for(;0<v-w;)S=is(S),v--;for(;0<w-v;)x=is(x),w--;for(;v--;){if(S===x||x!==null&&S===x.alternate)break t;S=is(S),x=is(x)}S=null}else S=null;y!==null&&Vv(d,m,y,S,!1),T!==null&&R!==null&&Vv(d,R,T,S,!0)}}e:{if(m=c?fs(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var O=uC;else if(kv(m))if(tx)O=fC;else{O=hC;var M=cC}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=dC);if(O&&(O=O(t,c))){ex(d,O,n,h);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&ff(m,"number",m.value)}switch(M=c?fs(c):window,t){case"focusin":(kv(M)||M.contentEditable==="true")&&(hs=M,Sf=c,na=null);break;case"focusout":na=Sf=hs=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,bv(d,n,h);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":bv(d,n,h)}var k;if(om)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else cs?J1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(X1&&n.locale!=="ko"&&(cs||_!=="onCompositionStart"?_==="onCompositionEnd"&&cs&&(k=Y1()):(br=h,rm="value"in br?br.value:br.textContent,cs=!0)),M=Yu(c,_),0<M.length&&(_=new Ev(_,t,null,n,h),d.push({event:_,listeners:M}),k?_.data=k:(k=Z1(n),k!==null&&(_.data=k)))),(k=iC?sC(t,n):oC(t,n))&&(c=Yu(c,"onBeforeInput"),0<c.length&&(h=new Ev("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=k))}hx(d,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_a(t,n),s!=null&&r.unshift(ka(t,s,i)),s=_a(t,e),s!=null&&r.push(ka(t,s,i))),t=t.return}return r}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=_a(n,s),l!=null&&o.unshift(ka(n,l,a))):i||(l=_a(n,s),l!=null&&o.push(ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wC=/\r\n?/g,xC=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(wC,`
`).replace(xC,"")}function Jl(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(U(425))}function Xu(){}var Af=null,Pf=null;function Cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(t){return Lv.resolve(null).then(t).catch(IC)}:Rf;function IC(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ea(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ea(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eo=Math.random().toString(36).slice(2),Sn="__reactFiber$"+eo,Aa="__reactProps$"+eo,rr="__reactContainer$"+eo,bf="__reactEvents$"+eo,SC="__reactListeners$"+eo,kC="__reactHandles$"+eo;function yi(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mv(t);t!==null;){if(n=t[Sn])return n;t=Mv(t)}return e}t=n,n=t.parentNode}return null}function el(t){return t=t[Sn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Qc(t){return t[Aa]||null}var Nf=[],ps=-1;function ei(t){return{current:t}}function Ie(t){0>ps||(t.current=Nf[ps],Nf[ps]=null,ps--)}function ve(t,e){ps++,Nf[ps]=t.current,t.current=e}var qr={},Et=ei(qr),jt=ei(!1),Pi=qr;function js(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function Ju(){Ie(jt),Ie(Et)}function jv(t,e,n){if(Et.current!==qr)throw Error(U(168));ve(Et,e),ve(jt,n)}function fx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,cP(t)||"Unknown",i));return be({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,Pi=Et.current,ve(Et,t),ve(jt,jt.current),!0}function Fv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=fx(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,Ie(jt),Ie(Et),ve(Et,t)):Ie(jt),ve(jt,n)}var Un=null,Yc=!1,wd=!1;function px(t){Un===null?Un=[t]:Un.push(t)}function AC(t){Yc=!0,px(t)}function ti(){if(!wd&&Un!==null){wd=!0;var t=0,e=me;try{var n=Un;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,Yc=!1}catch(i){throw Un!==null&&(Un=Un.slice(t+1)),F1(Zp,ti),i}finally{me=e,wd=!1}}return null}var ms=[],gs=0,ec=null,tc=0,Zt=[],en=0,Ci=null,$n=1,zn="";function hi(t,e){ms[gs++]=tc,ms[gs++]=ec,ec=t,tc=e}function mx(t,e,n){Zt[en++]=$n,Zt[en++]=zn,Zt[en++]=Ci,Ci=t;var r=$n;t=zn;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var s=32-gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$n=1<<32-gn(e)+i|n<<i|r,zn=s+t}else $n=1<<s|n<<i|r,zn=t}function lm(t){t.return!==null&&(hi(t,1),mx(t,1,0))}function um(t){for(;t===ec;)ec=ms[--gs],ms[gs]=null,tc=ms[--gs],ms[gs]=null;for(;t===Ci;)Ci=Zt[--en],Zt[en]=null,zn=Zt[--en],Zt[en]=null,$n=Zt[--en],Zt[en]=null}var Wt=null,Ht=null,Se=!1,fn=null;function gx(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:$n,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wt=t,Ht=null,!0):!1;default:return!1}}function Df(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vf(t){if(Se){var e=Ht;if(e){var n=e;if(!Uv(t,e)){if(Df(t))throw Error(U(418));e=Mr(n.nextSibling);var r=Wt;e&&Uv(t,e)?gx(r,n):(t.flags=t.flags&-4097|2,Se=!1,Wt=t)}}else{if(Df(t))throw Error(U(418));t.flags=t.flags&-4097|2,Se=!1,Wt=t}}}function Bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function Zl(t){if(t!==Wt)return!1;if(!Se)return Bv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Df(t))throw yx(),Error(U(418));for(;e;)gx(t,e),e=Mr(e.nextSibling)}if(Bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Wt?Mr(t.stateNode.nextSibling):null;return!0}function yx(){for(var t=Ht;t;)t=Mr(t.nextSibling)}function Fs(){Ht=Wt=null,Se=!1}function cm(t){fn===null?fn=[t]:fn.push(t)}var PC=dr.ReactCurrentBatchConfig;function Vo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $v(t){var e=t._init;return e(t._payload)}function vx(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Br(x,v),x.index=0,x.sibling=null,x}function s(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,N){return v===null||v.tag!==6?(v=Ad(w,x.mode,N),v.return=x,v):(v=i(v,w),v.return=x,v)}function l(x,v,w,N){var O=w.type;return O===us?h(x,v,w.props.children,N,w.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Tr&&$v(O)===v.type)?(N=i(v,w.props),N.ref=Vo(x,v,w),N.return=x,N):(N=Ru(w.type,w.key,w.props,null,x.mode,N),N.ref=Vo(x,v,w),N.return=x,N)}function c(x,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Pd(w,x.mode,N),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function h(x,v,w,N,O){return v===null||v.tag!==7?(v=Ii(w,x.mode,N,O),v.return=x,v):(v=i(v,w),v.return=x,v)}function d(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ad(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zl:return w=Ru(v.type,v.key,v.props,null,x.mode,w),w.ref=Vo(x,null,v),w.return=x,w;case ls:return v=Pd(v,x.mode,w),v.return=x,v;case Tr:var N=v._init;return d(x,N(v._payload),w)}if(zo(v)||Co(v))return v=Ii(v,x.mode,w,null),v.return=x,v;eu(x,v)}return null}function m(x,v,w,N){var O=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(x,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:return w.key===O?l(x,v,w,N):null;case ls:return w.key===O?c(x,v,w,N):null;case Tr:return O=w._init,m(x,v,O(w._payload),N)}if(zo(w)||Co(w))return O!==null?null:h(x,v,w,N,null);eu(x,w)}return null}function y(x,v,w,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,a(v,x,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case zl:return x=x.get(N.key===null?w:N.key)||null,l(v,x,N,O);case ls:return x=x.get(N.key===null?w:N.key)||null,c(v,x,N,O);case Tr:var M=N._init;return y(x,v,w,M(N._payload),O)}if(zo(N)||Co(N))return x=x.get(w)||null,h(v,x,N,O,null);eu(v,N)}return null}function T(x,v,w,N){for(var O=null,M=null,k=v,_=v=0,I=null;k!==null&&_<w.length;_++){k.index>_?(I=k,k=null):I=k.sibling;var A=m(x,k,w[_],N);if(A===null){k===null&&(k=I);break}t&&k&&A.alternate===null&&e(x,k),v=s(A,v,_),M===null?O=A:M.sibling=A,M=A,k=I}if(_===w.length)return n(x,k),Se&&hi(x,_),O;if(k===null){for(;_<w.length;_++)k=d(x,w[_],N),k!==null&&(v=s(k,v,_),M===null?O=k:M.sibling=k,M=k);return Se&&hi(x,_),O}for(k=r(x,k);_<w.length;_++)I=y(k,x,_,w[_],N),I!==null&&(t&&I.alternate!==null&&k.delete(I.key===null?_:I.key),v=s(I,v,_),M===null?O=I:M.sibling=I,M=I);return t&&k.forEach(function(b){return e(x,b)}),Se&&hi(x,_),O}function S(x,v,w,N){var O=Co(w);if(typeof O!="function")throw Error(U(150));if(w=O.call(w),w==null)throw Error(U(151));for(var M=O=null,k=v,_=v=0,I=null,A=w.next();k!==null&&!A.done;_++,A=w.next()){k.index>_?(I=k,k=null):I=k.sibling;var b=m(x,k,A.value,N);if(b===null){k===null&&(k=I);break}t&&k&&b.alternate===null&&e(x,k),v=s(b,v,_),M===null?O=b:M.sibling=b,M=b,k=I}if(A.done)return n(x,k),Se&&hi(x,_),O;if(k===null){for(;!A.done;_++,A=w.next())A=d(x,A.value,N),A!==null&&(v=s(A,v,_),M===null?O=A:M.sibling=A,M=A);return Se&&hi(x,_),O}for(k=r(x,k);!A.done;_++,A=w.next())A=y(k,x,_,A.value,N),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?_:A.key),v=s(A,v,_),M===null?O=A:M.sibling=A,M=A);return t&&k.forEach(function(D){return e(x,D)}),Se&&hi(x,_),O}function R(x,v,w,N){if(typeof w=="object"&&w!==null&&w.type===us&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:e:{for(var O=w.key,M=v;M!==null;){if(M.key===O){if(O=w.type,O===us){if(M.tag===7){n(x,M.sibling),v=i(M,w.props.children),v.return=x,x=v;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Tr&&$v(O)===M.type){n(x,M.sibling),v=i(M,w.props),v.ref=Vo(x,M,w),v.return=x,x=v;break e}n(x,M);break}else e(x,M);M=M.sibling}w.type===us?(v=Ii(w.props.children,x.mode,N,w.key),v.return=x,x=v):(N=Ru(w.type,w.key,w.props,null,x.mode,N),N.ref=Vo(x,v,w),N.return=x,x=N)}return o(x);case ls:e:{for(M=w.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=i(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Pd(w,x.mode,N),v.return=x,x=v}return o(x);case Tr:return M=w._init,R(x,v,M(w._payload),N)}if(zo(w))return T(x,v,w,N);if(Co(w))return S(x,v,w,N);eu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,w),v.return=x,x=v):(n(x,v),v=Ad(w,x.mode,N),v.return=x,x=v),o(x)):n(x,v)}return R}var Us=vx(!0),_x=vx(!1),nc=ei(null),rc=null,ys=null,hm=null;function dm(){hm=ys=rc=null}function fm(t){var e=nc.current;Ie(nc),t._currentValue=e}function Of(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rs(t,e){rc=t,hm=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(hm!==t)if(t={context:t,memoizedValue:e,next:null},ys===null){if(rc===null)throw Error(U(308));ys=t,rc.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return e}var vi=null;function pm(t){vi===null?vi=[t]:vi.push(t)}function wx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ir(t,r)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ir=!1;function mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ir(t,n)}return i=r.interleaved,i===null?(e.next=e,pm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ir(t,n)}function Iu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ic(t,e,n,r){var i=t.updateQueue;Ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,S=a;switch(m=e,y=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){d=T.call(y,d,m);break e}d=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,m=typeof T=="function"?T.call(y,d,m):T,m==null)break e;d=be({},d,m);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,l=d):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);bi|=o,t.lanes=o,t.memoizedState=d}}function Hv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var tl={},An=ei(tl),Pa=ei(tl),Ca=ei(tl);function _i(t){if(t===tl)throw Error(U(174));return t}function gm(t,e){switch(ve(Ca,e),ve(Pa,t),ve(An,tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mf(e,t)}Ie(An),ve(An,e)}function Bs(){Ie(An),Ie(Pa),Ie(Ca)}function Ex(t){_i(Ca.current);var e=_i(An.current),n=mf(e,t.type);e!==n&&(ve(Pa,t),ve(An,n))}function ym(t){Pa.current===t&&(Ie(An),Ie(Pa))}var Ae=ei(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xd=[];function vm(){for(var t=0;t<xd.length;t++)xd[t]._workInProgressVersionPrimary=null;xd.length=0}var Su=dr.ReactCurrentDispatcher,Ed=dr.ReactCurrentBatchConfig,Ri=0,Ce=null,Qe=null,tt=null,oc=!1,ra=!1,Ra=0,CC=0;function pt(){throw Error(U(321))}function _m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function wm(t,e,n,r,i,s){if(Ri=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?DC:VC,t=n(r,i),ra){s=0;do{if(ra=!1,Ra=0,25<=s)throw Error(U(301));s+=1,tt=Qe=null,e.updateQueue=null,Su.current=OC,t=n(r,i)}while(ra)}if(Su.current=ac,e=Qe!==null&&Qe.next!==null,Ri=0,tt=Qe=Ce=null,oc=!1,e)throw Error(U(300));return t}function xm(){var t=Ra!==0;return Ra=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ce.memoizedState=tt=t:tt=tt.next=t,tt}function on(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=tt===null?Ce.memoizedState:tt.next;if(e!==null)tt=e,Qe=t;else{if(t===null)throw Error(U(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Ce.memoizedState=tt=t:tt=tt.next=t}return tt}function ba(t,e){return typeof e=="function"?e(t):e}function Td(t){var e=on(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Ri&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ce.lanes|=h,bi|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_n(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,bi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Id(t){var e=on(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_n(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Tx(){}function Ix(t,e){var n=Ce,r=on(),i=e(),s=!_n(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,Em(Ax.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Na(9,kx.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(U(349));Ri&30||Sx(n,e,i)}return i}function Sx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kx(t,e,n,r){e.value=n,e.getSnapshot=r,Px(e)&&Cx(t)}function Ax(t,e,n){return n(function(){Px(e)&&Cx(t)})}function Px(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function Cx(t){var e=ir(t,1);e!==null&&yn(e,t,1,-1)}function Wv(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=NC.bind(null,Ce,t),[e.memoizedState,t]}function Na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Rx(){return on().memoizedState}function ku(t,e,n,r){var i=In();Ce.flags|=t,i.memoizedState=Na(1|e,n,void 0,r===void 0?null:r)}function Xc(t,e,n,r){var i=on();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&_m(r,o.deps)){i.memoizedState=Na(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=Na(1|e,n,s,r)}function qv(t,e){return ku(8390656,8,t,e)}function Em(t,e){return Xc(2048,8,t,e)}function bx(t,e){return Xc(4,2,t,e)}function Nx(t,e){return Xc(4,4,t,e)}function Dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vx(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4,4,Dx.bind(null,e,t),n)}function Tm(){}function Ox(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lx(t,e){var n=on();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Mx(t,e,n){return Ri&21?(_n(n,e)||(n=$1(),Ce.lanes|=n,bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function RC(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Ed.transition;Ed.transition={};try{t(!1),e()}finally{me=n,Ed.transition=r}}function jx(){return on().memoizedState}function bC(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fx(t))Ux(e,n);else if(n=wx(t,e,n,r),n!==null){var i=Rt();yn(n,t,r,i),Bx(n,e,r)}}function NC(t,e,n){var r=Ur(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fx(t))Ux(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_n(a,o)){var l=e.interleaved;l===null?(i.next=i,pm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wx(t,e,i,r),n!==null&&(i=Rt(),yn(n,t,r,i),Bx(n,e,r))}}function Fx(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function Ux(t,e){ra=oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}var ac={readContext:sn,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},DC={readContext:sn,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ku(4194308,4,Dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return ku(4,2,t,e)},useMemo:function(t,e){var n=In();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=In();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bC.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Wv,useDebugValue:Tm,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Wv(!1),e=t[0];return t=RC.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=In();if(Se){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),rt===null)throw Error(U(349));Ri&30||Sx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qv(Ax.bind(null,r,s,t),[t]),r.flags|=2048,Na(9,kx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=In(),e=rt.identifierPrefix;if(Se){var n=zn,r=$n;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VC={readContext:sn,useCallback:Ox,useContext:sn,useEffect:Em,useImperativeHandle:Vx,useInsertionEffect:bx,useLayoutEffect:Nx,useMemo:Lx,useReducer:Td,useRef:Rx,useState:function(){return Td(ba)},useDebugValue:Tm,useDeferredValue:function(t){var e=on();return Mx(e,Qe.memoizedState,t)},useTransition:function(){var t=Td(ba)[0],e=on().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:jx,unstable_isNewReconciler:!1},OC={readContext:sn,useCallback:Ox,useContext:sn,useEffect:Em,useImperativeHandle:Vx,useInsertionEffect:bx,useLayoutEffect:Nx,useMemo:Lx,useReducer:Id,useRef:Rx,useState:function(){return Id(ba)},useDebugValue:Tm,useDeferredValue:function(t){var e=on();return Qe===null?e.memoizedState=t:Mx(e,Qe.memoizedState,t)},useTransition:function(){var t=Id(ba)[0],e=on().memoizedState;return[t,e]},useMutableSource:Tx,useSyncExternalStore:Ix,useId:jx,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jc={isMounted:function(t){return(t=t._reactInternals)?$i(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Ur(t),s=Gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(yn(e,t,i,r),Iu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Ur(t),s=Gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(yn(e,t,i,r),Iu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Ur(t),i=Gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(yn(e,t,r,n),Iu(e,t,r))}};function Kv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ia(n,r)||!Ia(i,s):!0}function $x(t,e,n){var r=!1,i=qr,s=e.contextType;return typeof s=="object"&&s!==null?s=sn(s):(i=Ft(e)?Pi:Et.current,r=e.contextTypes,s=(r=r!=null)?js(t,i):qr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jc.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sn(s):(s=Ft(e)?Pi:Et.current,i.context=js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Jc.enqueueReplaceState(i,i.state,null),ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e){try{var n="",r=e;do n+=uP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LC=typeof WeakMap=="function"?WeakMap:Map;function zx(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uc||(uc=!0,Gf=r),jf(t,e)},n}function Hx(t,e,n){n=Gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YC.bind(null,t,e,n),e.then(t,t))}function Yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var MC=dr.ReactCurrentOwner,Lt=!1;function Ct(t,e,n,r){e.child=t===null?_x(e,null,n,r):Us(e,t.child,n,r)}function Jv(t,e,n,r,i){n=n.render;var s=e.ref;return Rs(e,i),r=wm(t,e,n,r,s,i),n=xm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Se&&n&&lm(e),e.flags|=1,Ct(t,e,r,i),e.child)}function Zv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Wx(t,e,s,r,i)):(t=Ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(o,r)&&t.ref===e.ref)return sr(t,e,i)}return e.flags|=1,t=Br(s,r),t.ref=e.ref,t.return=e,e.child=t}function Wx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ia(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,sr(t,e,i)}return Ff(t,e,n,r,i)}function qx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(_s,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(_s,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(_s,zt),zt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(_s,zt),zt|=r;return Ct(t,e,i,n),e.child}function Kx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ff(t,e,n,r,i){var s=Ft(n)?Pi:Et.current;return s=js(e,s),Rs(e,i),n=wm(t,e,n,r,s,i),r=xm(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Se&&r&&lm(e),e.flags|=1,Ct(t,e,n,i),e.child)}function e0(t,e,n,r,i){if(Ft(n)){var s=!0;Zu(e)}else s=!1;if(Rs(e,i),e.stateNode===null)Au(t,e),$x(e,n,r),Mf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=Ft(n)?Pi:Et.current,c=js(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Gv(e,o,r,c),Ir=!1;var m=e.memoizedState;o.state=m,ic(e,r,o,i),l=e.memoizedState,a!==r||m!==l||jt.current||Ir?(typeof h=="function"&&(Lf(e,n,h,r),l=e.memoizedState),(a=Ir||Kv(e,n,a,r,m,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:hn(e.type,a),o.props=c,d=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Ft(n)?Pi:Et.current,l=js(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&Gv(e,o,r,l),Ir=!1,m=e.memoizedState,o.state=m,ic(e,r,o,i);var T=e.memoizedState;a!==d||m!==T||jt.current||Ir?(typeof y=="function"&&(Lf(e,n,y,r),T=e.memoizedState),(c=Ir||Kv(e,n,c,r,m,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Uf(t,e,n,r,s,i)}function Uf(t,e,n,r,i,s){Kx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Fv(e,n,!1),sr(t,e,s);r=e.stateNode,MC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Us(e,t.child,null,s),e.child=Us(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&Fv(e,n,!0),e.child}function Gx(t){var e=t.stateNode;e.pendingContext?jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jv(t,e.context,!1),gm(t,e.containerInfo)}function t0(t,e,n,r,i){return Fs(),cm(i),e.flags|=256,Ct(t,e,n,r),e.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function $f(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qx(t,e,n){var r=e.pendingProps,i=Ae.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(Ae,i&1),t===null)return Vf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=th(o,r,0,null),t=Ii(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$f(n),e.memoizedState=Bf,t):Im(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Br(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Br(a,s):(s=Ii(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$f(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Bf,r}return s=t.child,t=s.sibling,r=Br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Im(t,e){return e=th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&cm(r),Us(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Sd(Error(U(422))),tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=th({mode:"visible",children:r.children},i,0,null),s=Ii(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Us(e,t.child,null,o),e.child.memoizedState=$f(o),e.memoizedState=Bf,s);if(!(e.mode&1))return tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Sd(s,r,void 0),tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ir(t,i),yn(r,t,i,-1))}return Rm(),r=Sd(Error(U(421))),tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ht=Mr(i.nextSibling),Wt=e,Se=!0,fn=null,t!==null&&(Zt[en++]=$n,Zt[en++]=zn,Zt[en++]=Ci,$n=t.id,zn=t.overflow,Ci=e),e=Im(e,r.children),e.flags|=4096,e)}function n0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Of(t.return,e,n)}function kd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n0(t,n,e);else if(t.tag===19)n0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kd(e,!0,n,null,s);break;case"together":kd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FC(t,e,n){switch(e.tag){case 3:Gx(e),Fs();break;case 5:Ex(e);break;case 1:Ft(e.type)&&Zu(e);break;case 4:gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?Qx(t,e,n):(ve(Ae,Ae.current&1),t=sr(t,e,n),t!==null?t.sibling:null);ve(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,qx(t,e,n)}return sr(t,e,n)}var Xx,zf,Jx,Zx;Xx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zf=function(){};Jx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i(An.current);var s=null;switch(n){case"input":i=hf(t,i),r=hf(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=pf(t,i),r=pf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xu)}gf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ya.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ya.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Zx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oo(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UC(t,e,n){var r=e.pendingProps;switch(um(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return Ft(e.type)&&Ju(),mt(e),null;case 3:return r=e.stateNode,Bs(),Ie(jt),Ie(Et),vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Xf(fn),fn=null))),zf(t,e),mt(e),null;case 5:ym(e);var i=_i(Ca.current);if(n=e.type,t!==null&&e.stateNode!=null)Jx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return mt(e),null}if(t=_i(An.current),Zl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Aa]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Wo.length;i++)Ee(Wo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":hv(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":fv(r,s),Ee("invalid",r)}gf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),i=["children",""+a]):ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Hl(r),dv(r,s,!0);break;case"textarea":Hl(r),pv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Aa]=r,Xx(t,e,!1,!1),e.stateNode=t;e:{switch(o=yf(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wo.length;i++)Ee(Wo[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":hv(t,r),i=hf(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":fv(t,r),i=pf(t,r),Ee("invalid",t);break;default:i=r}gf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?R1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(t,l):typeof l=="number"&&va(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ya.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&Gp(t,s,l,o))}switch(n){case"input":Hl(t),dv(t,r,!1);break;case"textarea":Hl(t),pv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)Zx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=_i(Ca.current),_i(An.current),Zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=Wt,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return mt(e),null;case 13:if(Ie(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Ht!==null&&e.mode&1&&!(e.flags&128))yx(),Fs(),e.flags|=98560,s=!1;else if(s=Zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Sn]=e}else Fs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),s=!1}else fn!==null&&(Xf(fn),fn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ye===0&&(Ye=3):Rm())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return Bs(),zf(t,e),t===null&&Sa(e.stateNode.containerInfo),mt(e),null;case 10:return fm(e.type._context),mt(e),null;case 17:return Ft(e.type)&&Ju(),mt(e),null;case 19:if(Ie(Ae),s=e.memoizedState,s===null)return mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Oo(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sc(t),o!==null){for(e.flags|=128,Oo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ae,Ae.current&1|2),e.child}t=t.sibling}s.tail!==null&&Me()>zs&&(e.flags|=128,r=!0,Oo(s,!1),e.lanes=4194304)}else{if(!r)if(t=sc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return mt(e),null}else 2*Me()-s.renderingStartTime>zs&&n!==1073741824&&(e.flags|=128,r=!0,Oo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Me(),e.sibling=null,n=Ae.current,ve(Ae,r?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function BC(t,e){switch(um(e),e.tag){case 1:return Ft(e.type)&&Ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bs(),Ie(jt),Ie(Et),vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ym(e),null;case 13:if(Ie(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Ae),null;case 4:return Bs(),null;case 10:return fm(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var nu=!1,_t=!1,$C=typeof WeakSet=="function"?WeakSet:Set,H=null;function vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Hf(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var r0=!1;function zC(t,e){if(Af=Gu,t=ix(),am(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,m=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pf={focusedElem:t,selectionRange:n},Gu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,R=T.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:hn(e.type,S),R);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){Ve(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return T=r0,r0=!1,T}function ia(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hf(e,n,s)}i=i.next}while(i!==r)}}function Zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eE(t){var e=t.alternate;e!==null&&(t.alternate=null,eE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Aa],delete e[bf],delete e[SC],delete e[kC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tE(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xu));else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}function Kf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kf(t,e,n),t=t.sibling;t!==null;)Kf(t,e,n),t=t.sibling}var ot=null,dn=!1;function wr(t,e,n){for(n=n.child;n!==null;)nE(t,e,n),n=n.sibling}function nE(t,e,n){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Wc,n)}catch{}switch(n.tag){case 5:_t||vs(n,e);case 6:var r=ot,i=dn;ot=null,wr(t,e,n),ot=r,dn=i,ot!==null&&(dn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(dn?(t=ot,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),Ea(t)):_d(ot,n.stateNode));break;case 4:r=ot,i=dn,ot=n.stateNode.containerInfo,dn=!0,wr(t,e,n),ot=r,dn=i;break;case 0:case 11:case 14:case 15:if(!_t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Hf(n,e,o),i=i.next}while(i!==r)}wr(t,e,n);break;case 1:if(!_t&&(vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(_t=(r=_t)||n.memoizedState!==null,wr(t,e,n),_t=r):wr(t,e,n);break;default:wr(t,e,n)}}function s0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $C),e.forEach(function(r){var i=JC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,dn=!1;break e;case 3:ot=a.stateNode.containerInfo,dn=!0;break e;case 4:ot=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(ot===null)throw Error(U(160));nE(s,o,i),ot=null,dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rE(e,t),e=e.sibling}function rE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Tn(t),r&4){try{ia(3,t,t.return),Zc(3,t)}catch(S){Ve(t,t.return,S)}try{ia(5,t,t.return)}catch(S){Ve(t,t.return,S)}}break;case 1:cn(e,t),Tn(t),r&512&&n!==null&&vs(n,n.return);break;case 5:if(cn(e,t),Tn(t),r&512&&n!==null&&vs(n,n.return),t.flags&32){var i=t.stateNode;try{va(i,"")}catch(S){Ve(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S1(i,s),yf(a,o);var c=yf(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?R1(i,d):h==="dangerouslySetInnerHTML"?P1(i,d):h==="children"?va(i,d):Gp(i,h,d,c)}switch(a){case"input":df(i,s);break;case"textarea":k1(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ks(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?ks(i,!!s.multiple,s.defaultValue,!0):ks(i,!!s.multiple,s.multiple?[]:"",!1))}i[Aa]=s}catch(S){Ve(t,t.return,S)}}break;case 6:if(cn(e,t),Tn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ve(t,t.return,S)}}break;case 3:if(cn(e,t),Tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(e.containerInfo)}catch(S){Ve(t,t.return,S)}break;case 4:cn(e,t),Tn(t);break;case 13:cn(e,t),Tn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Am=Me())),r&4&&s0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||h,cn(e,t),_t=c):cn(e,t),Tn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(d=H=h;H!==null;){switch(m=H,y=m.child,m.tag){case 0:case 11:case 14:case 15:ia(4,m,m.return);break;case 1:vs(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){Ve(r,n,S)}}break;case 5:vs(m,m.return);break;case 22:if(m.memoizedState!==null){a0(d);continue}}y!==null?(y.return=m,H=y):a0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C1("display",o))}catch(S){Ve(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){Ve(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:cn(e,t),Tn(t),r&4&&s0(t);break;case 21:break;default:cn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(va(i,""),r.flags&=-33);var s=i0(t);Kf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i0(t);qf(t,a,o);break;default:throw Error(U(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HC(t,e,n){H=t,iE(t)}function iE(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||_t;a=nu;var c=_t;if(nu=o,(_t=l)&&!c)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?l0(i):l!==null?(l.return=o,H=l):l0(i);for(;s!==null;)H=s,iE(s),s=s.sibling;H=i,nu=a,_t=c}o0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):o0(t)}}function o0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ea(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}_t||e.flags&512&&Wf(e)}catch(m){Ve(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function a0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function l0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zc(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Wf(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Wf(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var WC=Math.ceil,lc=dr.ReactCurrentDispatcher,Sm=dr.ReactCurrentOwner,rn=dr.ReactCurrentBatchConfig,ce=0,rt=null,He=null,lt=0,zt=0,_s=ei(0),Ye=0,Da=null,bi=0,eh=0,km=0,sa=null,Ot=null,Am=0,zs=1/0,Fn=null,uc=!1,Gf=null,Fr=null,ru=!1,Nr=null,cc=0,oa=0,Qf=null,Pu=-1,Cu=0;function Rt(){return ce&6?Me():Pu!==-1?Pu:Pu=Me()}function Ur(t){return t.mode&1?ce&2&&lt!==0?lt&-lt:PC.transition!==null?(Cu===0&&(Cu=$1()),Cu):(t=me,t!==0||(t=window.event,t=t===void 0?16:Q1(t.type)),t):1}function yn(t,e,n,r){if(50<oa)throw oa=0,Qf=null,Error(U(185));Ja(t,n,r),(!(ce&2)||t!==rt)&&(t===rt&&(!(ce&2)&&(eh|=n),Ye===4&&Ar(t,lt)),Ut(t,r),n===1&&ce===0&&!(e.mode&1)&&(zs=Me()+500,Yc&&ti()))}function Ut(t,e){var n=t.callbackNode;PP(t,e);var r=Ku(t,t===rt?lt:0);if(r===0)n!==null&&yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yv(n),e===1)t.tag===0?AC(u0.bind(null,t)):px(u0.bind(null,t)),TC(function(){!(ce&6)&&ti()}),n=null;else{switch(z1(r)){case 1:n=Zp;break;case 4:n=U1;break;case 16:n=qu;break;case 536870912:n=B1;break;default:n=qu}n=dE(n,sE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sE(t,e){if(Pu=-1,Cu=0,ce&6)throw Error(U(327));var n=t.callbackNode;if(bs()&&t.callbackNode!==n)return null;var r=Ku(t,t===rt?lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hc(t,r);else{e=r;var i=ce;ce|=2;var s=aE();(rt!==t||lt!==e)&&(Fn=null,zs=Me()+500,Ti(t,e));do try{GC();break}catch(a){oE(t,a)}while(!0);dm(),lc.current=s,ce=i,He!==null?e=0:(rt=null,lt=0,e=Ye)}if(e!==0){if(e===2&&(i=Ef(t),i!==0&&(r=i,e=Yf(t,i))),e===1)throw n=Da,Ti(t,0),Ar(t,r),Ut(t,Me()),n;if(e===6)Ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!qC(i)&&(e=hc(t,r),e===2&&(s=Ef(t),s!==0&&(r=s,e=Yf(t,s))),e===1))throw n=Da,Ti(t,0),Ar(t,r),Ut(t,Me()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:di(t,Ot,Fn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=Am+500-Me(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rf(di.bind(null,t,Ot,Fn),e);break}di(t,Ot,Fn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WC(r/1960))-r,10<r){t.timeoutHandle=Rf(di.bind(null,t,Ot,Fn),r);break}di(t,Ot,Fn);break;case 5:di(t,Ot,Fn);break;default:throw Error(U(329))}}}return Ut(t,Me()),t.callbackNode===n?sE.bind(null,t):null}function Yf(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=hc(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&Xf(e)),t}function Xf(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function qC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_n(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~km,e&=~eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),r=1<<n;t[n]=-1,e&=~r}}function u0(t){if(ce&6)throw Error(U(327));bs();var e=Ku(t,0);if(!(e&1))return Ut(t,Me()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var r=Ef(t);r!==0&&(e=r,n=Yf(t,r))}if(n===1)throw n=Da,Ti(t,0),Ar(t,e),Ut(t,Me()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Ot,Fn),Ut(t,Me()),null}function Pm(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(zs=Me()+500,Yc&&ti())}}function Ni(t){Nr!==null&&Nr.tag===0&&!(ce&6)&&bs();var e=ce;ce|=1;var n=rn.transition,r=me;try{if(rn.transition=null,me=1,t)return t()}finally{me=r,rn.transition=n,ce=e,!(ce&6)&&ti()}}function Cm(){zt=_s.current,Ie(_s)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(um(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:Bs(),Ie(jt),Ie(Et),vm();break;case 5:ym(r);break;case 4:Bs();break;case 13:Ie(Ae);break;case 19:Ie(Ae);break;case 10:fm(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(rt=t,He=t=Br(t.current,null),lt=zt=e,Ye=0,Da=null,km=eh=bi=0,Ot=sa=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function oE(t,e){do{var n=He;try{if(dm(),Su.current=ac,oc){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oc=!1}if(Ri=0,tt=Qe=Ce=null,ra=!1,Ra=0,Sm.current=null,n===null||n.return===null){Ye=1,Da=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Yv(o);if(y!==null){y.flags&=-257,Xv(y,o,a,s,e),y.mode&1&&Qv(s,c,e),e=y,l=c;var T=e.updateQueue;if(T===null){var S=new Set;S.add(l),e.updateQueue=S}else T.add(l);break e}else{if(!(e&1)){Qv(s,c,e),Rm();break e}l=Error(U(426))}}else if(Se&&a.mode&1){var R=Yv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Xv(R,o,a,s,e),cm($s(l,a));break e}}s=l=$s(l,a),Ye!==4&&(Ye=2),sa===null?sa=[s]:sa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=zx(s,l,e);zv(s,x);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fr===null||!Fr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Hx(s,a,e);zv(s,N);break e}}s=s.return}while(s!==null)}uE(n)}catch(O){e=O,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function aE(){var t=lc.current;return lc.current=ac,t===null?ac:t}function Rm(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(bi&268435455)&&!(eh&268435455)||Ar(rt,lt)}function hc(t,e){var n=ce;ce|=2;var r=aE();(rt!==t||lt!==e)&&(Fn=null,Ti(t,e));do try{KC();break}catch(i){oE(t,i)}while(!0);if(dm(),ce=n,lc.current=r,He!==null)throw Error(U(261));return rt=null,lt=0,Ye}function KC(){for(;He!==null;)lE(He)}function GC(){for(;He!==null&&!_P();)lE(He)}function lE(t){var e=hE(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?uE(t):He=e,Sm.current=null}function uE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BC(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(n=UC(n,e,zt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function di(t,e,n){var r=me,i=rn.transition;try{rn.transition=null,me=1,QC(t,e,n,r)}finally{rn.transition=i,me=r}return null}function QC(t,e,n,r){do bs();while(Nr!==null);if(ce&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(CP(t,s),t===rt&&(He=rt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ru||(ru=!0,dE(qu,function(){return bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=me;me=1;var a=ce;ce|=4,Sm.current=null,zC(t,n),rE(n,t),mC(Pf),Gu=!!Af,Pf=Af=null,t.current=n,HC(n),wP(),ce=a,me=o,rn.transition=s}else t.current=n;if(ru&&(ru=!1,Nr=t,cc=i),s=t.pendingLanes,s===0&&(Fr=null),TP(n.stateNode),Ut(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uc)throw uc=!1,t=Gf,Gf=null,t;return cc&1&&t.tag!==0&&bs(),s=t.pendingLanes,s&1?t===Qf?oa++:(oa=0,Qf=t):oa=0,ti(),null}function bs(){if(Nr!==null){var t=z1(cc),e=rn.transition,n=me;try{if(rn.transition=null,me=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,cc=0,ce&6)throw Error(U(331));var i=ce;for(ce|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ia(8,h,s)}var d=h.child;if(d!==null)d.return=h,H=d;else for(;H!==null;){h=H;var m=h.sibling,y=h.return;if(eE(h),h===c){H=null;break}if(m!==null){m.return=y,H=m;break}H=y}}}var T=s.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ia(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}var v=t.current;for(H=v;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=v;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zc(9,a)}}catch(O){Ve(a,a.return,O)}if(a===o){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(ce=i,ti(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Wc,t)}catch{}r=!0}return r}finally{me=n,rn.transition=e}}return!1}function c0(t,e,n){e=$s(n,e),e=zx(t,e,1),t=jr(t,e,1),e=Rt(),t!==null&&(Ja(t,1,e),Ut(t,e))}function Ve(t,e,n){if(t.tag===3)c0(t,t,n);else for(;e!==null;){if(e.tag===3){c0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=$s(n,t),t=Hx(e,t,1),e=jr(e,t,1),t=Rt(),e!==null&&(Ja(e,1,t),Ut(e,t));break}}e=e.return}}function YC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(lt&n)===n&&(Ye===4||Ye===3&&(lt&130023424)===lt&&500>Me()-Am?Ti(t,0):km|=n),Ut(t,e)}function cE(t,e){e===0&&(t.mode&1?(e=Kl,Kl<<=1,!(Kl&130023424)&&(Kl=4194304)):e=1);var n=Rt();t=ir(t,e),t!==null&&(Ja(t,e,n),Ut(t,n))}function XC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cE(t,n)}function JC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),cE(t,n)}var hE;hE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,FC(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,Se&&e.flags&1048576&&mx(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var i=js(e,Et.current);Rs(e,n),i=wm(null,e,r,t,i,n);var s=xm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,Zu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mm(e),i.updater=Jc,e.stateNode=i,i._reactInternals=e,Mf(e,r,t,n),e=Uf(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&lm(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=eR(r),t=hn(r,t),i){case 0:e=Ff(null,e,r,t,n);break e;case 1:e=e0(null,e,r,t,n);break e;case 11:e=Jv(null,e,r,t,n);break e;case 14:e=Zv(null,e,r,hn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Ff(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),e0(t,e,r,i,n);case 3:e:{if(Gx(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xx(t,e),ic(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$s(Error(U(423)),e),e=t0(t,e,r,n,i);break e}else if(r!==i){i=$s(Error(U(424)),e),e=t0(t,e,r,n,i);break e}else for(Ht=Mr(e.stateNode.containerInfo.firstChild),Wt=e,Se=!0,fn=null,n=_x(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===i){e=sr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return Ex(e),t===null&&Vf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cf(r,i)?o=null:s!==null&&Cf(r,s)&&(e.flags|=32),Kx(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Vf(e),null;case 13:return Qx(t,e,n);case 4:return gm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Us(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Jv(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(nc,r._currentValue),r._currentValue=o,s!==null)if(_n(s.value,o)){if(s.children===i.children&&!jt.current){e=sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Of(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Of(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rs(e,n),i=sn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),Zv(t,e,r,i,n);case 15:return Wx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Au(t,e),e.tag=1,Ft(r)?(t=!0,Zu(e)):t=!1,Rs(e,n),$x(e,r,i),Mf(e,r,i,n),Uf(null,e,r,!0,t,n);case 19:return Yx(t,e,n);case 22:return qx(t,e,n)}throw Error(U(156,e.tag))};function dE(t,e){return F1(t,e)}function ZC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new ZC(t,e,n,r)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eR(t){if(typeof t=="function")return bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yp)return 11;if(t===Xp)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case us:return Ii(n.children,i,s,e);case Qp:o=8,i|=8;break;case af:return t=nn(12,n,e,i|2),t.elementType=af,t.lanes=s,t;case lf:return t=nn(13,n,e,i),t.elementType=lf,t.lanes=s,t;case uf:return t=nn(19,n,e,i),t.elementType=uf,t.lanes=s,t;case E1:return th(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w1:o=10;break e;case x1:o=9;break e;case Yp:o=11;break e;case Xp:o=14;break e;case Tr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ii(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function th(t,e,n,r){return t=nn(22,t,r,e),t.elementType=E1,t.lanes=n,t.stateNode={isHidden:!1},t}function Ad(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ld(0),this.expirationTimes=ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nm(t,e,n,r,i,s,o,a,l){return t=new tR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(s),t}function nR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fE(t){if(!t)return qr;t=t._reactInternals;e:{if($i(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ft(n))return fx(t,n,e)}return e}function pE(t,e,n,r,i,s,o,a,l){return t=Nm(n,r,!0,t,i,s,o,a,l),t.context=fE(null),n=t.current,r=Rt(),i=Ur(n),s=Gn(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,Ja(t,i,r),Ut(t,r),t}function nh(t,e,n,r){var i=e.current,s=Rt(),o=Ur(i);return n=fE(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(yn(t,i,o,s),Iu(t,i,o)),o}function dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dm(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function rR(){return null}var mE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vm(t){this._internalRoot=t}rh.prototype.render=Vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));nh(t,e,null,null)};rh.prototype.unmount=Vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){nh(null,t,null,null)}),e[rr]=null}};function rh(t){this._internalRoot=t}rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=q1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&G1(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ih(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d0(){}function iR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=dc(o);s.call(c)}}var o=pE(e,r,t,0,null,!1,!1,"",d0);return t._reactRootContainer=o,t[rr]=o.current,Sa(t.nodeType===8?t.parentNode:t),Ni(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=dc(l);a.call(c)}}var l=Nm(t,0,!1,null,null,!1,!1,"",d0);return t._reactRootContainer=l,t[rr]=l.current,Sa(t.nodeType===8?t.parentNode:t),Ni(function(){nh(e,l,n,r)}),l}function sh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dc(o);a.call(l)}}nh(e,o,t,i)}else o=iR(n,e,t,i,r);return dc(o)}H1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ho(e.pendingLanes);n!==0&&(em(e,n|1),Ut(e,Me()),!(ce&6)&&(zs=Me()+500,ti()))}break;case 13:Ni(function(){var r=ir(t,1);if(r!==null){var i=Rt();yn(r,t,1,i)}}),Dm(t,1)}};tm=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=Rt();yn(e,t,134217728,n)}Dm(t,134217728)}};W1=function(t){if(t.tag===13){var e=Ur(t),n=ir(t,e);if(n!==null){var r=Rt();yn(n,t,e,r)}Dm(t,e)}};q1=function(){return me};K1=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};_f=function(t,e,n){switch(e){case"input":if(df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qc(r);if(!i)throw Error(U(90));I1(r),df(r,i)}}}break;case"textarea":k1(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};D1=Pm;V1=Ni;var sR={usingClientEntryPoint:!1,Events:[el,fs,Qc,b1,N1,Pm]},Lo={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oR={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M1(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Wc=iu.inject(oR),kn=iu}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(U(200));return nR(t,e,null,n)};Qt.createRoot=function(t,e){if(!Om(t))throw Error(U(299));var n=!1,r="",i=mE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nm(t,1,!1,null,null,n,!1,r,i),t[rr]=e.current,Sa(t.nodeType===8?t.parentNode:t),new Vm(e)};Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=M1(e),t=t===null?null:t.stateNode,t};Qt.flushSync=function(t){return Ni(t)};Qt.hydrate=function(t,e,n){if(!ih(e))throw Error(U(200));return sh(null,t,e,!0,n)};Qt.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pE(e,null,t,1,n??null,i,!1,s,o),t[rr]=e.current,Sa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rh(e)};Qt.render=function(t,e,n){if(!ih(e))throw Error(U(200));return sh(null,t,e,!1,n)};Qt.unmountComponentAtNode=function(t){if(!ih(t))throw Error(U(40));return t._reactRootContainer?(Ni(function(){sh(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Pm;Qt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ih(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return sh(t,e,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function gE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gE)}catch(t){console.error(t)}}gE(),g1.exports=Qt;var aR=g1.exports,f0=aR;sf.createRoot=f0.createRoot,sf.hydrateRoot=f0.hydrateRoot;/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p0="popstate";function lR(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Jf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Va(i)}return cR(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function m0(t,e){return{usr:t.state,key:t.key,idx:e}}function Jf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||r||uR()}}function Va({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let R=h(),x=R==null?null:R-c;c=R,l&&l({action:a,location:S.location,delta:x})}function m(R,x){a="PUSH";let v=Jf(S.location,R,x);c=h()+1;let w=m0(v,c),N=S.createHref(v);try{o.pushState(w,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(N)}s&&l&&l({action:a,location:S.location,delta:1})}function y(R,x){a="REPLACE";let v=Jf(S.location,R,x);c=h();let w=m0(v,c),N=S.createHref(v);o.replaceState(w,"",N),s&&l&&l({action:a,location:S.location,delta:0})}function T(R){return hR(R)}let S={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(p0,d),l=R,()=>{i.removeEventListener(p0,d),l=null}},createHref(R){return e(i,R)},createURL:T,encodeLocation(R){let x=T(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:y,go(R){return o.go(R)}};return S}function hR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Re(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Va(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yE(t,e,n="/"){return dR(t,e,n,!1)}function dR(t,e,n,r){let i=typeof e=="string"?to(e):e,s=or(i.pathname||"/",n);if(s==null)return null;let o=vE(t);fR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=IR(s);a=ER(o[l],c,r)}return a}function vE(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Qn([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Re(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),vE(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:wR(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _E(s.path))i(s,o,l)}),e}function _E(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_E(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pR=/^:[\w-]+$/,mR=3,gR=2,yR=1,vR=10,_R=-2,g0=t=>t==="*";function wR(t,e){let n=t.split("/"),r=n.length;return n.some(g0)&&(r+=_R),e&&(r+=gR),n.filter(i=>!g0(i)).reduce((i,s)=>i+(pR.test(s)?mR:s===""?yR:vR),r)}function xR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ER(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=fc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=fc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Qn([s,d.pathname]),pathnameBase:PR(Qn([s,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(s=Qn([s,d.pathnameBase]))}return o}function fc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=TR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:d},m)=>{if(h==="*"){let T=a[m]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const y=a[m];return d&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TR(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function IR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function or(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SR(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:kR(n,e):e,search:CR(r),hash:RR(i)}}function kR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cd(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wE(t){let e=AR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xE(t,e,n,r=!1){let i;typeof t=="string"?i=to(t):(i={...t},Re(!i.pathname||!i.pathname.includes("?"),Cd("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Cd("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Cd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;i.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=SR(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),PR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var NR=["GET",...EE];new Set(NR);var no=P.createContext(null);no.displayName="DataRouter";var oh=P.createContext(null);oh.displayName="DataRouterState";P.createContext(!1);var TE=P.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var DR=P.createContext(new Map);DR.displayName="Fetchers";var VR=P.createContext(null);VR.displayName="Await";var On=P.createContext(null);On.displayName="Navigation";var nl=P.createContext(null);nl.displayName="Location";var fr=P.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Lm=P.createContext(null);Lm.displayName="RouteError";function OR(t,{relative:e}={}){Re(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(On),{hash:i,pathname:s,search:o}=il(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Qn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function rl(){return P.useContext(nl)!=null}function zi(){return Re(rl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(nl).location}var IE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(t){P.useContext(On).static||P.useLayoutEffect(t)}function LR(){let{isDataRoute:t}=P.useContext(fr);return t?QR():MR()}function MR(){Re(rl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(no),{basename:e,navigator:n}=P.useContext(On),{matches:r}=P.useContext(fr),{pathname:i}=zi(),s=JSON.stringify(wE(r)),o=P.useRef(!1);return SE(()=>{o.current=!0}),P.useCallback((l,c={})=>{if(Nn(o.current,IE),!o.current)return;if(typeof l=="number"){n.go(l);return}let h=xE(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}P.createContext(null);function il(t,{relative:e}={}){let{matches:n}=P.useContext(fr),{pathname:r}=zi(),i=JSON.stringify(wE(n));return P.useMemo(()=>xE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function jR(t,e){return kE(t,e)}function kE(t,e,n,r){var x;Re(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=P.useContext(On),{matches:s}=P.useContext(fr),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let v=h&&h.path||"";AE(l,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=zi(),m;if(e){let v=typeof e=="string"?to(e):e;Re(c==="/"||((x=v.pathname)==null?void 0:x.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=d;let y=m.pathname||"/",T=y;if(c!=="/"){let v=c.replace(/^\//,"").split("/");T="/"+y.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=yE(t,{pathname:T});Nn(h||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Nn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=zR(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Qn([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Qn([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&R?P.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},R):R}function FR(){let t=GR(),e=bR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,o)}var UR=P.createElement(FR,null),BR=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(fr.Provider,{value:this.props.routeContext},P.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $R({routeContext:t,match:e,children:n}){let r=P.useContext(no);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(fr.Provider,{value:t},n)}function zR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Re(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:h,errors:d}=n,m=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,h)=>{let d,m=!1,y=null,T=null;n&&(d=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||UR,o&&(a<0&&h===0?(AE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,T=null):a===h&&(m=!0,T=c.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,h+1)),R=()=>{let x;return d?x=y:m?x=T:c.route.Component?x=P.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=l,P.createElement($R,{match:c,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(BR,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}function Mm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HR(t){let e=P.useContext(no);return Re(e,Mm(t)),e}function WR(t){let e=P.useContext(oh);return Re(e,Mm(t)),e}function qR(t){let e=P.useContext(fr);return Re(e,Mm(t)),e}function jm(t){let e=qR(t),n=e.matches[e.matches.length-1];return Re(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KR(){return jm("useRouteId")}function GR(){var r;let t=P.useContext(Lm),e=WR("useRouteError"),n=jm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function QR(){let{router:t}=HR("useNavigate"),e=jm("useNavigate"),n=P.useRef(!1);return SE(()=>{n.current=!0}),P.useCallback(async(i,s={})=>{Nn(n.current,IE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var y0={};function AE(t,e,n){!e&&!y0[t]&&(y0[t]=!0,Nn(!1,n))}P.memo(YR);function YR({routes:t,future:e,state:n}){return kE(t,void 0,n,e)}function XR(t){Re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Re(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=P.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=to(n));let{pathname:l="/",search:c="",hash:h="",state:d=null,key:m="default"}=n,y=P.useMemo(()=>{let T=or(l,o);return T==null?null:{location:{pathname:T,search:c,hash:h,state:d,key:m},navigationType:r}},[o,l,c,h,d,m,r]);return Nn(y!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:P.createElement(On.Provider,{value:a},P.createElement(nl.Provider,{children:e,value:y}))}function ZR({children:t,location:e}){return jR(Zf(t),e)}function Zf(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Zf(r.props.children,s));return}Re(r.type===XR,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Re(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Zf(r.props.children,s)),n.push(o)}),n}var bu="get",Nu="application/x-www-form-urlencoded";function ah(t){return t!=null&&typeof t.tagName=="string"}function eb(t){return ah(t)&&t.tagName.toLowerCase()==="button"}function tb(t){return ah(t)&&t.tagName.toLowerCase()==="form"}function nb(t){return ah(t)&&t.tagName.toLowerCase()==="input"}function rb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ib(t,e){return t.button===0&&(!e||e==="_self")&&!rb(t)}var su=null;function sb(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var ob=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rd(t){return t!=null&&!ob.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nu}"`),null):t}function ab(t,e){let n,r,i,s,o;if(tb(t)){let a=t.getAttribute("action");r=a?or(a,e):null,n=t.getAttribute("method")||bu,i=Rd(t.getAttribute("enctype"))||Nu,s=new FormData(t)}else if(eb(t)||nb(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?or(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||bu,i=Rd(t.getAttribute("formenctype"))||Rd(a.getAttribute("enctype"))||Nu,s=new FormData(a,t),!sb()){let{name:c,type:h,value:d}=t;if(h==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,d)}}else{if(ah(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bu,r=null,i=Nu,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lb(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&or(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ub(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function hb(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await ub(s,n);return o.links?o.links():[]}return[]}));return mb(r.flat(1).filter(cb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function v0(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var h;return n[c].pathname!==l.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var d;let h=r.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function db(t,e,{includeHydrateFallback:n}={}){return fb(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fb(t){return[...new Set(t)]}function pb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mb(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(pb(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function PE(){let t=P.useContext(no);return Fm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gb(){let t=P.useContext(oh);return Fm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Um=P.createContext(void 0);Um.displayName="FrameworkContext";function CE(){let t=P.useContext(Um);return Fm(t,"You must render this element inside a <HydratedRouter> element"),t}function yb(t,e){let n=P.useContext(Um),[r,i]=P.useState(!1),[s,o]=P.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,m=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let S=x=>{x.forEach(v=>{o(v.isIntersecting)})},R=new IntersectionObserver(S,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[t]),P.useEffect(()=>{if(r){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[r]);let y=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,m,{}]:[s,m,{onFocus:Mo(a,y),onBlur:Mo(l,T),onMouseEnter:Mo(c,y),onMouseLeave:Mo(h,T),onTouchStart:Mo(d,y)}]:[!1,m,{}]}function Mo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function vb({page:t,...e}){let{router:n}=PE(),r=P.useMemo(()=>yE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(wb,{page:t,matches:r,...e}):null}function _b(t){let{manifest:e,routeModules:n}=CE(),[r,i]=P.useState([]);return P.useEffect(()=>{let s=!1;return hb(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function wb({page:t,matches:e,...n}){let r=zi(),{manifest:i,routeModules:s}=CE(),{basename:o}=PE(),{loaderData:a,matches:l}=gb(),c=P.useMemo(()=>v0(t,e,l,i,r,"data"),[t,e,l,i,r]),h=P.useMemo(()=>v0(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,S=!1;if(e.forEach(x=>{var w;let v=i.routes[x.route.id];!v||!v.hasLoader||(!c.some(N=>N.route.id===x.route.id)&&x.route.id in a&&((w=s[x.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?S=!0:T.add(x.route.id))}),T.size===0)return[];let R=lb(t,o,"data");return S&&T.size>0&&R.searchParams.set("_routes",e.filter(x=>T.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,c,e,t,s]),m=P.useMemo(()=>db(h,i),[h,i]),y=_b(h);return P.createElement(P.Fragment,null,d.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),m.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),y.map(({key:T,link:S})=>P.createElement("link",{key:T,...S})))}function xb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.7.1")}catch{}function Eb({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=lR({window:n,v5Compat:!0}));let i=r.current,[s,o]=P.useState({action:i.action,location:i.location}),a=P.useCallback(l=>{P.startTransition(()=>o(l))},[o]);return P.useLayoutEffect(()=>i.listen(a),[i,a]),P.createElement(JR,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NE=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:d,...m},y){let{basename:T}=P.useContext(On),S=typeof c=="string"&&bE.test(c),R,x=!1;if(typeof c=="string"&&S&&(R=c,RE))try{let I=new URL(window.location.href),A=c.startsWith("//")?new URL(I.protocol+c):new URL(c),b=or(A.pathname,T);A.origin===I.origin&&b!=null?c=b+A.search+A.hash:x=!0}catch{Nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=OR(c,{relative:i}),[w,N,O]=yb(r,m),M=kb(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function k(I){e&&e(I),I.defaultPrevented||M(I)}let _=P.createElement("a",{...m,...O,href:R||v,onClick:x||s?e:k,ref:xb(y,N),target:l,"data-discover":!S&&n==="render"?"true":void 0});return w&&!S?P.createElement(P.Fragment,null,_,P.createElement(vb,{page:v})):_});NE.displayName="Link";var Tb=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},h){let d=il(o,{relative:c.relative}),m=zi(),y=P.useContext(oh),{navigator:T,basename:S}=P.useContext(On),R=y!=null&&bb(d)&&a===!0,x=T.encodeLocation?T.encodeLocation(d).pathname:d.pathname,v=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&S&&(w=or(w,S)||w);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=v===x||!i&&v.startsWith(x)&&v.charAt(N)==="/",M=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),k={isActive:O,isPending:M,isTransitioning:R},_=O?e:void 0,I;typeof r=="function"?I=r(k):I=[r,O?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(k):s;return P.createElement(NE,{...c,"aria-current":_,className:I,ref:h,style:A,to:o,viewTransition:a},typeof l=="function"?l(k):l)});Tb.displayName="NavLink";var Ib=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=bu,action:a,onSubmit:l,relative:c,preventScrollReset:h,viewTransition:d,...m},y)=>{let T=Cb(),S=Rb(a,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&bE.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,O=(N==null?void 0:N.getAttribute("formmethod"))||o;T(N||w.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return P.createElement("form",{ref:y,method:R,action:S,onSubmit:r?l:v,...m,"data-discover":!x&&t==="render"?"true":void 0})});Ib.displayName="Form";function Sb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(t){let e=P.useContext(no);return Re(e,Sb(t)),e}function kb(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=LR(),l=zi(),c=il(t,{relative:s});return P.useCallback(h=>{if(ib(h,e)){h.preventDefault();let d=n!==void 0?n:Va(l)===Va(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var Ab=0,Pb=()=>`__${String(++Ab)}__`;function Cb(){let{router:t}=DE("useSubmit"),{basename:e}=P.useContext(On),n=KR();return P.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=ab(r,e);if(i.navigate===!1){let h=i.fetcherKey||Pb();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Rb(t,{relative:e}={}){let{basename:n}=P.useContext(On),r=P.useContext(fr);Re(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...il(t||".",{relative:e})},o=zi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(h=>h==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qn([n,s.pathname])),Va(s)}function bb(t,{relative:e}={}){let n=P.useContext(TE);Re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DE("useViewTransitionState"),i=il(t,{relative:e});if(!n.isTransitioning)return!1;let s=or(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=or(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fc(i.pathname,o)!=null||fc(i.pathname,s)!=null}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>P.createElement("svg",{ref:h,...Nb,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Db(t)}`,a].join(" "),...c},[...e.map(([d,m])=>P.createElement(d,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=ee("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ee("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ee("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ee("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ee("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ee("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ee("Mouse",[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ee("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ee("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ee("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ee("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ee("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ee("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ee("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ee("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ee("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),c2=({userEmail:t,onLogout:e,onShowAuth:n})=>{const[r,i]=P.useState(!1),[s,o]=P.useState(!1),[a,l]=P.useState(!1),c=!!t;P.useEffect(()=>{const y=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const h=y=>{const S={reviews:"testimonials",about:"about",amenities:"amenities",gallery:"gallery",booking:"booking",contact:"contact"}[y]||y,R=document.getElementById(S);if(R){const w=R.getBoundingClientRect().top+window.pageYOffset-120;window.scrollTo({top:w,behavior:"smooth"})}o(!1)},d=()=>{e&&e(),l(!1)},m=()=>{n&&n()};return p.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/100 backdrop-blur-md shadow-lg":"bg-white/100 backdrop-blur-sm"}`,children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex items-center justify-between h-20 relative",children:[p.jsx("button",{onClick:()=>o(!s),className:"md:hidden p-2 rounded-md text-black hover:bg-white/20 transition-colors duration-200","aria-label":"Toggle mobile menu",children:s?p.jsx(ro,{size:24}):p.jsx(Zb,{size:24})}),p.jsx("div",{className:"md:relative md:left-0 md:top-0 md:transform-none absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:p.jsxs("div",{className:"text-center",children:[p.jsxs("h1",{className:"text-2xl font-bold text-black tracking-tight",style:{fontFamily:'"Noto Serif", serif'},children:[p.jsx("img",{src:"/file1.svg",alt:"Villa Altona",className:"h-20 w-auto",onError:y=>{y.currentTarget.style.display="none",y.currentTarget.nextElementSibling.style.display="inline"}}),p.jsx("span",{style:{display:"none"},children:"Villa Altona"})]}),p.jsx("div",{className:"h-0.5 w-full bg-gradient-to-r from-transparent via-black to-transparent opacity-60 mt-1"})]})}),c?p.jsx("div",{className:"relative ml-auto",children:p.jsxs("div",{className:"relative flex flex-col items-center",children:[p.jsxs("button",{onClick:()=>l(!a),className:"flex items-center space-x-2 p-2 rounded-md text-black hover:text-gray-300 transition-colors duration-200","aria-label":"User menu",children:[p.jsx(mc,{size:20}),p.jsx("span",{className:"hidden sm:block text-sm truncate max-w-32",children:t})]}),a&&p.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white shadow-lg rounded-lg p-3 z-50 w-56",children:[p.jsx("div",{className:"text-sm text-gray-600 max-w-[220px] truncate text-center",title:t,children:t}),p.jsxs("button",{onClick:d,className:"flex items-center gap-2 mt-2 text-gray-700 hover:text-red-600 transition-colors duration-200 group",children:[p.jsx(Jb,{size:16,className:"mr-3 group-hover:text-red-600 transition-colors duration-200"}),"Sign out"]})]})]})}):p.jsx("div",{className:"relative ml-auto",children:p.jsxs("button",{onClick:m,className:"flex items-center space-x-2 p-2 rounded-md text-black hover:text-gray-300 transition-colors duration-200","aria-label":"Sign in",children:[p.jsx(mc,{size:20}),p.jsx("span",{className:"hidden sm:block text-sm",children:"Sign In"})]})})]}),p.jsx("nav",{className:"hidden md:block border-t border-white/20",children:p.jsx("div",{className:"flex justify-center space-x-8 py-4",children:["About","Amenities","Gallery","Booking","Reviews","Contact"].map(y=>p.jsxs("button",{onClick:()=>h(y.toLowerCase()),className:"text-black hover:text-gray-600 transition-colors duration-200 text-sm font-medium relative group",children:[y,p.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-full"})]},y))})}),s&&p.jsx("nav",{className:"md:hidden bg-white/95 backdrop-blur-md border-t border-white/20",children:p.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:["About","Amenities","Gallery","Booking","Reviews","Contact"].map(y=>p.jsxs("button",{onClick:()=>h(y.toLowerCase()),className:"block w-full text-left px-3 py-2 text-black hover:bg-white/20 hover:text-gray-600 transition-colors duration-200 text-sm font-medium rounded-md relative group",children:[y,p.jsx("span",{className:"absolute bottom-1 left-3 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-[calc(100%-1.5rem)]"})]},y))})})]})})},UE=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),lh=P.createContext({}),uh=P.createContext(null),ch=typeof document<"u",$m=ch?P.useLayoutEffect:P.useEffect,BE=P.createContext({strict:!1}),zm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),h2="framerAppearId",$E="data-"+zm(h2);function d2(t,e,n,r){const{visualElement:i}=P.useContext(lh),s=P.useContext(BE),o=P.useContext(uh),a=P.useContext(UE).reducedMotion,l=P.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;P.useInsertionEffect(()=>{c&&c.update(n,o)});const h=P.useRef(!!(n[$E]&&!window.HandoffComplete));return $m(()=>{c&&(c.render(),h.current&&c.animationState&&c.animationState.animateChanges())}),P.useEffect(()=>{c&&(c.updateFeatures(),!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),c}function ws(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function f2(t,e,n){return P.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ws(n)&&(n.current=r))},[e])}function Oa(t){return typeof t=="string"||Array.isArray(t)}function hh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Hm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wm=["initial",...Hm];function dh(t){return hh(t.animate)||Wm.some(e=>Oa(t[e]))}function zE(t){return!!(dh(t)||t.variants)}function p2(t,e){if(dh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Oa(n)?n:void 0,animate:Oa(r)?r:void 0}}return t.inherit!==!1?e:{}}function m2(t){const{initial:e,animate:n}=p2(t,P.useContext(lh));return P.useMemo(()=>({initial:e,animate:n}),[T0(e),T0(n)])}function T0(t){return Array.isArray(t)?t.join(" "):t}const I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},La={};for(const t in I0)La[t]={isEnabled:e=>I0[t].some(n=>!!e[n])};function g2(t){for(const e in t)La[e]={...La[e],...t[e]}}const qm=P.createContext({}),HE=P.createContext({}),y2=Symbol.for("motionComponentSymbol");function v2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&g2(t);function s(a,l){let c;const h={...P.useContext(UE),...a,layoutId:_2(a)},{isStatic:d}=h,m=m2(a),y=r(a,d);if(!d&&ch){m.visualElement=d2(i,y,h,e);const T=P.useContext(HE),S=P.useContext(BE).strict;m.visualElement&&(c=m.visualElement.loadFeatures(h,S,t,T))}return P.createElement(lh.Provider,{value:m},c&&m.visualElement?P.createElement(c,{visualElement:m.visualElement,...h}):null,n(i,a,f2(y,m.visualElement,l),y,d,m.visualElement))}const o=P.forwardRef(s);return o[y2]=i,o}function _2({layoutId:t}){const e=P.useContext(qm).id;return e&&t!==void 0?e+"-"+t:t}function w2(t){function e(r,i={}){return v2(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const x2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Km(t){return typeof t!="string"||t.includes("-")?!1:!!(x2.indexOf(t)>-1||/[A-Z]/.test(t))}const gc={};function E2(t){Object.assign(gc,t)}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hi=new Set(sl);function WE(t,{layout:e,layoutId:n}){return Hi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gc[t]||t==="opacity")}const Bt=t=>!!(t&&t.getVelocity),T2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I2=sl.length;function S2(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<I2;o++){const a=sl[o];if(t[a]!==void 0){const l=T2[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const qE=t=>e=>typeof e=="string"&&e.startsWith(t),KE=qE("--"),ep=qE("var(--"),k2=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,A2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Kr=(t,e,n)=>Math.min(Math.max(n,t),e),Wi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},aa={...Wi,transform:t=>Kr(0,1,t)},ou={...Wi,default:1},la=t=>Math.round(t*1e5)/1e5,fh=/(-)?([\d]*\.?[\d])+/g,GE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,P2=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ol(t){return typeof t=="string"}const al=t=>({test:e=>ol(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=al("deg"),Pn=al("%"),Y=al("px"),C2=al("vh"),R2=al("vw"),S0={...Pn,parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)},k0={...Wi,transform:Math.round},QE={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,size:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:ou,scaleX:ou,scaleY:ou,scaleZ:ou,skew:Er,skewX:Er,skewY:Er,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:aa,originX:S0,originY:S0,originZ:Y,zIndex:k0,fillOpacity:aa,strokeOpacity:aa,numOctaves:k0};function Gm(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,h=!0;for(const d in e){const m=e[d];if(KE(d)){s[d]=m;continue}const y=QE[d],T=A2(m,y);if(Hi.has(d)){if(l=!0,o[d]=T,!h)continue;m!==(y.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,a[d]=T):i[d]=T}if(e.transform||(l||r?i.transform=S2(t.transform,n,h,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:m="50%",originZ:y=0}=a;i.transformOrigin=`${d} ${m} ${y}`}}const Qm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YE(t,e,n){for(const r in e)!Bt(e[r])&&!WE(r,n)&&(t[r]=e[r])}function b2({transformTemplate:t},e,n){return P.useMemo(()=>{const r=Qm();return Gm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function N2(t,e,n){const r=t.style||{},i={};return YE(i,r,t),Object.assign(i,b2(t,e,n)),t.transformValues?t.transformValues(i):i}function D2(t,e,n){const r={},i=N2(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const V2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||V2.has(t)}let XE=t=>!yc(t);function O2(t){t&&(XE=e=>e.startsWith("on")?!yc(e):t(e))}try{O2(require("@emotion/is-prop-valid").default)}catch{}function L2(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XE(i)||n===!0&&yc(i)||!e&&!yc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function A0(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function M2(t,e,n){const r=A0(e,t.x,t.width),i=A0(n,t.y,t.height);return`${r} ${i}`}const j2={offset:"stroke-dashoffset",array:"stroke-dasharray"},F2={offset:"strokeDashoffset",array:"strokeDasharray"};function U2(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?j2:F2;t[s.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function Ym(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,d,m){if(Gm(t,c,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:T,dimensions:S}=t;y.transform&&(S&&(T.transform=y.transform),delete y.transform),S&&(i!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=M2(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&U2(y,o,a,l,!1)}const JE=()=>({...Qm(),attrs:{}}),Xm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function B2(t,e,n,r){const i=P.useMemo(()=>{const s=JE();return Ym(s,e,{enableHardwareAcceleration:!1},Xm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};YE(s,t.style,t),i.style={...s,...i.style}}return i}function $2(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Km(n)?B2:D2)(r,s,o,n),h={...L2(r,typeof n=="string",t),...l,ref:i},{children:d}=r,m=P.useMemo(()=>Bt(d)?d.get():d,[d]);return P.createElement(n,{...h,children:m})}}function ZE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const eT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tT(t,e,n,r){ZE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(eT.has(i)?i:zm(i),e.attrs[i])}function Jm(t,e){const{style:n}=t,r={};for(const i in n)(Bt(n[i])||e.style&&Bt(e.style[i])||WE(i,t))&&(r[i]=n[i]);return r}function nT(t,e){const n=Jm(t,e);for(const r in t)if(Bt(t[r])||Bt(e[r])){const i=sl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Zm(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function rT(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const vc=t=>Array.isArray(t),z2=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),H2=t=>vc(t)?t[t.length-1]||0:t;function Du(t){const e=Bt(t)?t.get():t;return z2(e)?e.toValue():e}function W2({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:q2(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const iT=t=>(e,n)=>{const r=P.useContext(lh),i=P.useContext(uh),s=()=>W2(t,e,r,i);return n?s():rT(s)};function q2(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Du(s[m]);let{initial:o,animate:a}=t;const l=dh(t),c=zE(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;return d&&typeof d!="boolean"&&!hh(d)&&(Array.isArray(d)?d:[d]).forEach(y=>{const T=Zm(t,y);if(!T)return;const{transitionEnd:S,transition:R,...x}=T;for(const v in x){let w=x[v];if(Array.isArray(w)){const N=h?w.length-1:0;w=w[N]}w!==null&&(i[v]=w)}for(const v in S)i[v]=S[v]}),i}const je=t=>t;class P0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function K2(t){let e=new P0,n=new P0,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,h=!1)=>{const d=h&&i,m=d?e:n;return c&&o.add(l),m.add(l)&&d&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const h=e.order[c];h(l),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const au=["prepare","read","update","preRender","render","postRender"],G2=40;function Q2(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=au.reduce((d,m)=>(d[m]=K2(()=>n=!0),d),{}),o=d=>s[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,G2),1),i.timestamp=d,i.isProcessing=!0,au.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:au.reduce((d,m)=>{const y=s[m];return d[m]=(T,S=!1,R=!1)=>(n||l(),y.schedule(T,S,R)),d},{}),cancel:d=>au.forEach(m=>s[m].cancel(d)),state:i,steps:s}}const{schedule:_e,cancel:ar,state:yt,steps:Nd}=Q2(typeof requestAnimationFrame<"u"?requestAnimationFrame:je,!0),Y2={useVisualState:iT({scrapeMotionValuesFromProps:nT,createRenderState:JE,onMount:(t,e,{renderState:n,latestValues:r})=>{_e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_e.render(()=>{Ym(n,r,{enableHardwareAcceleration:!1},Xm(e.tagName),t.transformTemplate),tT(e,n)})}})},X2={useVisualState:iT({scrapeMotionValuesFromProps:Jm,createRenderState:Qm})};function J2(t,{forwardMotionProps:e=!1},n,r){return{...Km(t)?Y2:X2,preloadedFeatures:n,useRender:$2(e),createVisualElement:r,Component:t}}function Hn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const sT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ph(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Z2=t=>e=>sT(e)&&t(e,ph(e));function Yn(t,e,n,r){return Hn(t,e,Z2(n),r)}const eN=(t,e)=>n=>e(t(n)),$r=(...t)=>t.reduce(eN);function oT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const C0=oT("dragHorizontal"),R0=oT("dragVertical");function aT(t){let e=!1;if(t==="y")e=R0();else if(t==="x")e=C0();else{const n=C0(),r=R0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function lT(){const t=aT(!0);return t?(t(),!1):!0}class ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}function b0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||lT())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&_e.update(()=>a[r](s,o))};return Yn(t.current,n,i,{passive:!t.getProps()[r]})}class tN extends ni{mount(){this.unmount=$r(b0(this.node,!0),b0(this.node,!1))}unmount(){}}class nN extends ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$r(Hn(this.node.current,"focus",()=>this.onFocus()),Hn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const uT=(t,e)=>e?t===e?!0:uT(t,e.parentElement):!1;function Dd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ph(n))}class rN extends ni{constructor(){super(...arguments),this.removeStartListeners=je,this.removeEndListeners=je,this.removeAccessibleListeners=je,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Yn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:h,globalTapTarget:d}=this.node.getProps();_e.update(()=>{!d&&!uT(this.node.current,a.target)?h&&h(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Yn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$r(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dd("up",(l,c)=>{const{onTap:h}=this.node.getProps();h&&_e.update(()=>h(l,c))})};this.removeEndListeners(),this.removeEndListeners=Hn(this.node.current,"keyup",o),Dd("down",(a,l)=>{this.startPress(a,l)})},n=Hn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Dd("cancel",(s,o)=>this.cancelPress(s,o))},i=Hn(this.node.current,"blur",r);this.removeAccessibleListeners=$r(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_e.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_e.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Yn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Hn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$r(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tp=new WeakMap,Vd=new WeakMap,iN=t=>{const e=tp.get(t.target);e&&e(t)},sN=t=>{t.forEach(iN)};function oN({root:t,...e}){const n=t||document;Vd.has(n)||Vd.set(n,{});const r=Vd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(sN,{root:t,...e})),r[i]}function aN(t,e,n){const r=oN(e);return tp.set(t,n),r.observe(t),()=>{tp.delete(t),r.unobserve(t)}}const lN={some:0,all:1};class uN extends ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lN[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return aN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cN(e,n))&&this.startObserver()}unmount(){}}function cN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hN={inView:{Feature:uN},tap:{Feature:rN},focus:{Feature:nN},hover:{Feature:tN}};function cT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function dN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function fN(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function mh(t,e,n){const r=t.getProps();return Zm(r,e,n!==void 0?n:r.custom,dN(t),fN(t))}let eg=je;const Si=t=>t*1e3,Xn=t=>t/1e3,pN={current:!1},hT=t=>Array.isArray(t)&&typeof t[0]=="number";function dT(t){return!!(!t||typeof t=="string"&&fT[t]||hT(t)||Array.isArray(t)&&t.every(dT))}const qo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,fT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qo([0,.65,.55,1]),circOut:qo([.55,0,1,.45]),backIn:qo([.31,.01,.66,-.59]),backOut:qo([.33,1.53,.69,.99])};function pT(t){if(t)return hT(t)?qo(t):Array.isArray(t)?t.map(pT):fT[t]}function mN(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=pT(a);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function gN(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const mT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yN=1e-7,vN=12;function _N(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=mT(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>yN&&++a<vN);return o}function ll(t,e,n,r){if(t===e&&n===r)return je;const i=s=>_N(s,0,1,t,n);return s=>s===0||s===1?s:mT(i(s),e,r)}const wN=ll(.42,0,1,1),xN=ll(0,0,.58,1),gT=ll(.42,0,.58,1),EN=t=>Array.isArray(t)&&typeof t[0]!="number",yT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vT=t=>e=>1-t(1-e),tg=t=>1-Math.sin(Math.acos(t)),_T=vT(tg),TN=yT(tg),wT=ll(.33,1.53,.69,.99),ng=vT(wT),IN=yT(ng),SN=t=>(t*=2)<1?.5*ng(t):.5*(2-Math.pow(2,-10*(t-1))),kN={linear:je,easeIn:wN,easeInOut:gT,easeOut:xN,circIn:tg,circInOut:TN,circOut:_T,backIn:ng,backInOut:IN,backOut:wT,anticipate:SN},N0=t=>{if(Array.isArray(t)){eg(t.length===4);const[e,n,r,i]=t;return ll(e,n,r,i)}else if(typeof t=="string")return kN[t];return t},rg=(t,e)=>n=>!!(ol(n)&&P2.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),xT=(t,e,n)=>r=>{if(!ol(r))return r;const[i,s,o,a]=r.match(fh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},AN=t=>Kr(0,255,t),Od={...Wi,transform:t=>Math.round(AN(t))},wi={test:rg("rgb","red"),parse:xT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Od.transform(t)+", "+Od.transform(e)+", "+Od.transform(n)+", "+la(aa.transform(r))+")"};function PN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const np={test:rg("#"),parse:PN,transform:wi.transform},xs={test:rg("hsl","hue"),parse:xT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pn.transform(la(e))+", "+Pn.transform(la(n))+", "+la(aa.transform(r))+")"},Pt={test:t=>wi.test(t)||np.test(t)||xs.test(t),parse:t=>wi.test(t)?wi.parse(t):xs.test(t)?xs.parse(t):np.parse(t),transform:t=>ol(t)?t:t.hasOwnProperty("red")?wi.transform(t):xs.transform(t)},Pe=(t,e,n)=>-n*t+n*e+t;function Ld(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Ld(l,a,t+1/3),s=Ld(l,a,t),o=Ld(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Md=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},RN=[np,wi,xs],bN=t=>RN.find(e=>e.test(t));function D0(t){const e=bN(t);let n=e.parse(t);return e===xs&&(n=CN(n)),n}const ET=(t,e)=>{const n=D0(t),r=D0(e),i={...n};return s=>(i.red=Md(n.red,r.red,s),i.green=Md(n.green,r.green,s),i.blue=Md(n.blue,r.blue,s),i.alpha=Pe(n.alpha,r.alpha,s),wi.transform(i))};function NN(t){var e,n;return isNaN(t)&&ol(t)&&(((e=t.match(fh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(GE))===null||n===void 0?void 0:n.length)||0)>0}const TT={regex:k2,countKey:"Vars",token:"${v}",parse:je},IT={regex:GE,countKey:"Colors",token:"${c}",parse:Pt.parse},ST={regex:fh,countKey:"Numbers",token:"${n}",parse:Wi.parse};function jd(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function _c(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&jd(n,TT),jd(n,IT),jd(n,ST),n}function kT(t){return _c(t).values}function AT(t){const{values:e,numColors:n,numVars:r,tokenised:i}=_c(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(TT.token,o[l]):l<r+n?a=a.replace(IT.token,Pt.transform(o[l])):a=a.replace(ST.token,la(o[l]));return a}}const DN=t=>typeof t=="number"?0:t;function VN(t){const e=kT(t);return AT(t)(e.map(DN))}const Gr={test:NN,parse:kT,createTransformer:AT,getAnimatableNone:VN},PT=(t,e)=>n=>`${n>0?e:t}`;function CT(t,e){return typeof t=="number"?n=>Pe(t,e,n):Pt.test(t)?ET(t,e):t.startsWith("var(")?PT(t,e):bT(t,e)}const RT=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>CT(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},ON=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=CT(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},bT=(t,e)=>{const n=Gr.createTransformer(e),r=_c(t),i=_c(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?$r(RT(r.values,i.values),n):PT(t,e)},Ma=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},V0=(t,e)=>n=>Pe(t,e,n);function LN(t){return typeof t=="number"?V0:typeof t=="string"?Pt.test(t)?ET:bT:Array.isArray(t)?RT:typeof t=="object"?ON:V0}function MN(t,e,n){const r=[],i=n||LN(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||je:e;a=$r(l,a)}r.push(a)}return r}function NT(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(eg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=MN(e,r,i),a=o.length,l=c=>{let h=0;if(a>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Ma(t[h],t[h+1],c);return o[h](d)};return n?c=>l(Kr(t[0],t[s-1],c)):l}function jN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ma(0,e,r);t.push(Pe(n,1,i))}}function FN(t){const e=[0];return jN(e,t.length-1),e}function UN(t,e){return t.map(n=>n*e)}function BN(t,e){return t.map(()=>e||gT).splice(0,t.length-1)}function wc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=EN(r)?r.map(N0):N0(r),s={done:!1,value:e[0]},o=UN(n&&n.length===e.length?n:FN(e),t),a=NT(o,e,{ease:Array.isArray(i)?i:BN(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function DT(t,e){return e?t*(1e3/e):0}const $N=5;function VT(t,e,n){const r=Math.max(e-$N,0);return DT(n-t(r),e-r)}const Fd=.001,zN=.01,HN=10,WN=.05,qN=1;function KN({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Kr(WN,qN,o),t=Kr(zN,HN,Xn(t)),o<1?(i=c=>{const h=c*o,d=h*t,m=h-n,y=rp(c,o),T=Math.exp(-d);return Fd-m/y*T},s=c=>{const d=c*o*t,m=d*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-d),S=rp(Math.pow(c,2),o);return(-i(c)+Fd>0?-1:1)*((m-y)*T)/S}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-Fd+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=QN(i,s,a);if(t=Si(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const GN=12;function QN(t,e,n){let r=n;for(let i=1;i<GN;i++)r=r-t(r)/e(r);return r}function rp(t,e){return t*Math.sqrt(1-e*e)}const YN=["duration","bounce"],XN=["stiffness","damping","mass"];function O0(t,e){return e.some(n=>t[n]!==void 0)}function JN(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!O0(t,XN)&&O0(t,YN)){const n=KN(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function OT({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:h,velocity:d,isResolvedFromDuration:m}=JN({...r,velocity:-Xn(r.velocity||0)}),y=d||0,T=l/(2*Math.sqrt(a*c)),S=s-i,R=Xn(Math.sqrt(a/c)),x=Math.abs(S)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let v;if(T<1){const w=rp(R,T);v=N=>{const O=Math.exp(-T*R*N);return s-O*((y+T*R*S)/w*Math.sin(w*N)+S*Math.cos(w*N))}}else if(T===1)v=w=>s-Math.exp(-R*w)*(S+(y+R*S)*w);else{const w=R*Math.sqrt(T*T-1);v=N=>{const O=Math.exp(-T*R*N),M=Math.min(w*N,300);return s-O*((y+T*R*S)*Math.sinh(M)+w*S*Math.cosh(M))/w}}return{calculatedDuration:m&&h||null,next:w=>{const N=v(w);if(m)o.done=w>=h;else{let O=y;w!==0&&(T<1?O=VT(v,w,N):O=0);const M=Math.abs(O)<=n,k=Math.abs(s-N)<=e;o.done=M&&k}return o.value=o.done?s:N,o}}}function L0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,T=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const R=d+S,x=o===void 0?R:o(R);x!==R&&(S=x-d);const v=_=>-S*Math.exp(-_/r),w=_=>x+v(_),N=_=>{const I=v(_),A=w(_);m.done=Math.abs(I)<=c,m.value=m.done?x:A};let O,M;const k=_=>{y(m.value)&&(O=_,M=OT({keyframes:[m.value,T(m.value)],velocity:VT(w,_,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:_=>{let I=!1;return!M&&O===void 0&&(I=!0,N(_),k(_)),O!==void 0&&_>O?M.next(_-O):(!I&&N(_),m)}}}const ZN=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_e.update(e,!0),stop:()=>ar(e),now:()=>yt.isProcessing?yt.timestamp:performance.now()}},M0=2e4;function j0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<M0;)e+=n,r=t.next(e);return e>=M0?1/0:e}const eD={decay:L0,inertia:L0,tween:wc,keyframes:wc,spring:OT};function xc({autoplay:t=!0,delay:e=0,driver:n=ZN,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:h,onUpdate:d,...m}){let y=1,T=!1,S,R;const x=()=>{R=new Promise(Q=>{S=Q})};x();let v;const w=eD[i]||wc;let N;w!==wc&&typeof r[0]!="number"&&(N=NT([0,100],r,{clamp:!1}),r=[0,100]);const O=w({...m,keyframes:r});let M;a==="mirror"&&(M=w({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let k="idle",_=null,I=null,A=null;O.calculatedDuration===null&&s&&(O.calculatedDuration=j0(O));const{calculatedDuration:b}=O;let D=1/0,C=1/0;b!==null&&(D=b+o,C=D*(s+1)-o);let pe=0;const Ke=Q=>{if(I===null)return;y>0&&(I=Math.min(I,Q)),y<0&&(I=Math.min(Q-C/y,I)),_!==null?pe=_:pe=Math.round(Q-I)*y;const le=pe-e*(y>=0?1:-1),fe=y>=0?le<0:le>C;pe=Math.max(le,0),k==="finished"&&_===null&&(pe=C);let ht=pe,Fe=O;if(s){const ii=Math.min(pe,C)/D;let ln=Math.floor(ii),Vt=ii%1;!Vt&&ii>=1&&(Vt=1),Vt===1&&ln--,ln=Math.min(ln,s+1),!!(ln%2)&&(a==="reverse"?(Vt=1-Vt,o&&(Vt-=o/D)):a==="mirror"&&(Fe=M)),ht=Kr(0,1,Vt)*D}const Ge=fe?{done:!1,value:r[0]}:Fe.next(ht);N&&(Ge.value=N(Ge.value));let{done:It}=Ge;!fe&&b!==null&&(It=y>=0?pe>=C:pe<=0);const ri=_===null&&(k==="finished"||k==="running"&&It);return d&&d(Ge.value),ri&&$(),Ge},we=()=>{v&&v.stop(),v=void 0},re=()=>{k="idle",we(),S(),x(),I=A=null},$=()=>{k="finished",h&&h(),we(),S()},G=()=>{if(T)return;v||(v=n(Ke));const Q=v.now();l&&l(),_!==null?I=Q-_:(!I||k==="finished")&&(I=Q),k==="finished"&&x(),A=I,_=null,k="running",v.start()};t&&G();const Z={then(Q,le){return R.then(Q,le)},get time(){return Xn(pe)},set time(Q){Q=Si(Q),pe=Q,_!==null||!v||y===0?_=Q:I=v.now()-Q/y},get duration(){const Q=O.calculatedDuration===null?j0(O):O.calculatedDuration;return Xn(Q)},get speed(){return y},set speed(Q){Q===y||!v||(y=Q,Z.time=Xn(pe))},get state(){return k},play:G,pause:()=>{k="paused",_=pe},stop:()=>{T=!0,k!=="idle"&&(k="idle",c&&c(),re())},cancel:()=>{A!==null&&Ke(A),re()},complete:()=>{k="finished"},sample:Q=>(I=0,Ke(Q))};return Z}function tD(t){let e;return()=>(e===void 0&&(e=t()),e)}const nD=tD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),lu=10,iD=2e4,sD=(t,e)=>e.type==="spring"||t==="backgroundColor"||!dT(e.ease);function oD(t,e,{onUpdate:n,onComplete:r,...i}){if(!(nD()&&rD.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const h=()=>{l=new Promise(w=>{a=w})};h();let{keyframes:d,duration:m=300,ease:y,times:T}=i;if(sD(e,i)){const w=xc({...i,repeat:0,delay:0});let N={done:!1,value:d[0]};const O=[];let M=0;for(;!N.done&&M<iD;)N=w.sample(M),O.push(N.value),M+=lu;T=void 0,d=O,m=M-lu,y="linear"}const S=mN(t.owner.current,e,d,{...i,duration:m,ease:y,times:T}),R=()=>{c=!1,S.cancel()},x=()=>{c=!0,_e.update(R),a(),h()};return S.onfinish=()=>{c||(t.set(gN(d,i)),r&&r(),x())},{then(w,N){return l.then(w,N)},attachTimeline(w){return S.timeline=w,S.onfinish=null,je},get time(){return Xn(S.currentTime||0)},set time(w){S.currentTime=Si(w)},get speed(){return S.playbackRate},set speed(w){S.playbackRate=w},get duration(){return Xn(m)},play:()=>{o||(S.play(),ar(R))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:w}=S;if(w){const N=xc({...i,autoplay:!1});t.setWithVelocity(N.sample(w-lu).value,N.sample(w).value,lu)}x()},complete:()=>{c||S.finish()},cancel:x}}function aD({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:je,pause:je,stop:je,then:s=>(s(),Promise.resolve()),cancel:je,complete:je});return e?xc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const lD={type:"spring",stiffness:500,damping:25,restSpeed:10},uD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cD={type:"keyframes",duration:.8},hD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dD=(t,{keyframes:e})=>e.length>2?cD:Hi.has(t)?t.startsWith("scale")?uD(e[1]):lD:hD,ip=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gr.test(e)||e==="0")&&!e.startsWith("url(")),fD=new Set(["brightness","contrast","saturate","opacity"]);function pD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fh)||[];if(!r)return t;const i=n.replace(r,"");let s=fD.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const mD=/([a-z-]*)\(.*?\)/g,sp={...Gr,getAnimatableNone:t=>{const e=t.match(mD);return e?e.map(pD).join(" "):t}},gD={...QE,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:sp,WebkitFilter:sp},ig=t=>gD[t];function LT(t,e){let n=ig(t);return n!==sp&&(n=Gr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MT=t=>/^0[^.\s]+$/.test(t);function yD(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||MT(t)}function vD(t,e,n,r){const i=ip(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),yD(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const h=l[c];s[h]=LT(e,a)}return s}function _D({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}function sg(t,e){return t[e]||t.default||t}const wD={skipAnimations:!1},og=(t,e,n,r={})=>i=>{const s=sg(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Si(o);const l=vD(e,t,n,s),c=l[0],h=l[l.length-1],d=ip(t,c),m=ip(t,h);let y={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:T=>{e.set(T),s.onUpdate&&s.onUpdate(T)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(_D(s)||(y={...y,...dD(t,y)}),y.duration&&(y.duration=Si(y.duration)),y.repeatDelay&&(y.repeatDelay=Si(y.repeatDelay)),!d||!m||pN.current||s.type===!1||wD.skipAnimations)return aD(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=oD(e,t,y);if(T)return T}return xc(y)};function Ec(t){return!!(Bt(t)&&t.add)}const jT=t=>/^\-?\d*\.?\d+$/.test(t);function ag(t,e){t.indexOf(e)===-1&&t.push(e)}function lg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ug{constructor(){this.subscriptions=[]}add(e){return ag(this.subscriptions,e),()=>lg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xD=t=>!isNaN(parseFloat(t));class ED{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=yt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,_e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=xD(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ug);const r=this.events[e].add(n);return e==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?DT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hs(t,e){return new ED(t,e)}const FT=t=>e=>e.test(t),TD={test:t=>t==="auto",parse:t=>t},UT=[Wi,Y,Pn,Er,R2,C2,TD],jo=t=>UT.find(FT(t)),ID=[...UT,Pt,Gr],SD=t=>ID.find(FT(t));function kD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hs(n))}function AD(t,e){const n=mh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=H2(s[o]);kD(t,o,a)}}function PD(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let h=null;Array.isArray(c)&&(h=c[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(jT(h)||MT(h))?h=parseFloat(h):!SD(h)&&Gr.test(c)&&(h=LT(l,c)),t.addValue(l,Hs(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function CD(t,e){return e?(e[t]||e.default||e).from:void 0}function RD(t,e,n){const r={};for(const i in t){const s=CD(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function bD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ND(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function BT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in a){const m=t.getValue(d),y=a[d];if(!m||y===void 0||h&&bD(h,d))continue;const T={delay:n,elapsed:0,...sg(s||{},d)};if(window.HandoffAppearAnimations){const x=t.getProps()[$E];if(x){const v=window.HandoffAppearAnimations(x,d,m,_e);v!==null&&(T.elapsed=v,T.isHandoff=!0)}}let S=!T.isHandoff&&!ND(m,y);if(T.type==="spring"&&(m.getVelocity()||T.velocity)&&(S=!1),m.animation&&(S=!1),S)continue;m.start(og(d,m,y,t.shouldReduceMotion&&Hi.has(d)?{type:!1}:T));const R=m.animation;Ec(l)&&(l.add(d),R.then(()=>l.remove(d))),c.push(R)}return o&&Promise.all(c).then(()=>{o&&AD(t,o)}),c}function op(t,e,n={}){const r=mh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return DD(t,e,c+l,h,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function DD(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(VD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(op(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function VD(t,e){return t.sortNodePosition(e)}function OD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>op(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=op(t,e,n);else{const i=typeof e=="function"?mh(t,e,n.custom):e;r=Promise.all(BT(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const LD=[...Hm].reverse(),MD=Hm.length;function jD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>OD(t,n,r)))}function FD(t){let e=jD(t);const n=BD();let r=!0;const i=(l,c)=>{const h=mh(t,c);if(h){const{transition:d,transitionEnd:m,...y}=h;l={...l,...y,...m}}return l};function s(l){e=l(t)}function o(l,c){const h=t.getProps(),d=t.getVariantContext(!0)||{},m=[],y=new Set;let T={},S=1/0;for(let x=0;x<MD;x++){const v=LD[x],w=n[v],N=h[v]!==void 0?h[v]:d[v],O=Oa(N),M=v===c?w.isActive:null;M===!1&&(S=x);let k=N===d[v]&&N!==h[v]&&O;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...T},!w.isActive&&M===null||!N&&!w.prevProp||hh(N)||typeof N=="boolean")continue;let I=UD(w.prevProp,N)||v===c&&w.isActive&&!k&&O||x>S&&O,A=!1;const b=Array.isArray(N)?N:[N];let D=b.reduce(i,{});M===!1&&(D={});const{prevResolvedValues:C={}}=w,pe={...C,...D},Ke=we=>{I=!0,y.has(we)&&(A=!0,y.delete(we)),w.needsAnimating[we]=!0};for(const we in pe){const re=D[we],$=C[we];if(T.hasOwnProperty(we))continue;let G=!1;vc(re)&&vc($)?G=!cT(re,$):G=re!==$,G?re!==void 0?Ke(we):y.add(we):re!==void 0&&y.has(we)?Ke(we):w.protectedKeys[we]=!0}w.prevProp=N,w.prevResolvedValues=D,w.isActive&&(T={...T,...D}),r&&t.blockInitialAnimation&&(I=!1),I&&(!k||A)&&m.push(...b.map(we=>({animation:we,options:{type:v,...l}})))}if(y.size){const x={};y.forEach(v=>{const w=t.getBaseTarget(v);w!==void 0&&(x[v]=w)}),m.push({animation:x})}let R=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(m):Promise.resolve()}function a(l,c,h){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(y=>{var T;return(T=y.animationState)===null||T===void 0?void 0:T.setActive(l,c)}),n[l].isActive=c;const m=o(h,l);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function UD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cT(e,t):!1}function ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BD(){return{animate:ci(!0),whileInView:ci(),whileHover:ci(),whileTap:ci(),whileDrag:ci(),whileFocus:ci(),exit:ci()}}class $D extends ni{constructor(e){super(e),e.animationState||(e.animationState=FD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),hh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let zD=0;class HD extends ni{constructor(){super(...arguments),this.id=zD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const WD={animation:{Feature:$D},exit:{Feature:HD}},F0=(t,e)=>Math.abs(t-e);function qD(t,e){const n=F0(t.x,e.x),r=F0(t.y,e.y);return Math.sqrt(n**2+r**2)}class $T{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Bd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=qD(d.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:T}=d,{timestamp:S}=yt;this.history.push({...T,timestamp:S});const{onStart:R,onMove:x}=this.handlers;m||(R&&R(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ud(m,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Bd(d.type==="pointercancel"?this.lastMoveEventInfo:Ud(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,R),T&&T(d,R)},!sT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ph(e),a=Ud(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Bd(a,this.history)),this.removeListeners=$r(Yn(this.contextWindow,"pointermove",this.handlePointerMove),Yn(this.contextWindow,"pointerup",this.handlePointerUp),Yn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ar(this.updatePoint)}}function Ud(t,e){return e?{point:e(t.point)}:t}function U0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bd({point:t},e){return{point:t,delta:U0(t,zT(e)),offset:U0(t,KD(e)),velocity:GD(e,.1)}}function KD(t){return t[0]}function zT(t){return t[t.length-1]}function GD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=zT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Si(e)));)n--;if(!r)return{x:0,y:0};const s=Xn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Gt(t){return t.max-t.min}function ap(t,e=0,n=.01){return Math.abs(t-e)<=n}function B0(t,e,n,r=.5){t.origin=r,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Gt(n)/Gt(e),(ap(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(ap(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ua(t,e,n,r){B0(t.x,e.x,n.x,r?r.originX:void 0),B0(t.y,e.y,n.y,r?r.originY:void 0)}function $0(t,e,n){t.min=n.min+e.min,t.max=t.min+Gt(e)}function QD(t,e,n){$0(t.x,e.x,n.x),$0(t.y,e.y,n.y)}function z0(t,e,n){t.min=e.min-n.min,t.max=t.min+Gt(e)}function ca(t,e,n){z0(t.x,e.x,n.x),z0(t.y,e.y,n.y)}function YD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pe(n,t,r.max):Math.min(t,n)),t}function H0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XD(t,{top:e,left:n,bottom:r,right:i}){return{x:H0(t.x,n,i),y:H0(t.y,e,r)}}function W0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function JD(t,e){return{x:W0(t.x,e.x),y:W0(t.y,e.y)}}function ZD(t,e){let n=.5;const r=Gt(t),i=Gt(e);return i>r?n=Ma(e.min,e.max-r,t.min):r>i&&(n=Ma(t.min,t.max-i,e.min)),Kr(0,1,n)}function e4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lp=.35;function t4(t=lp){return t===!1?t=0:t===!0&&(t=lp),{x:q0(t,"left","right"),y:q0(t,"top","bottom")}}function q0(t,e,n){return{min:K0(t,e),max:K0(t,n)}}function K0(t,e){return typeof t=="number"?t:t[e]||0}const G0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:G0(),y:G0()}),Q0=()=>({min:0,max:0}),ze=()=>({x:Q0(),y:Q0()});function Jt(t){return[t("x"),t("y")]}function HT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function n4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $d(t){return t===void 0||t===1}function up({scale:t,scaleX:e,scaleY:n}){return!$d(t)||!$d(e)||!$d(n)}function fi(t){return up(t)||WT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function WT(t){return Y0(t.x)||Y0(t.y)}function Y0(t){return t&&t!=="0%"}function Tc(t,e,n){const r=t-n,i=e*r;return n+i}function X0(t,e,n,r,i){return i!==void 0&&(t=Tc(t,i,r)),Tc(t,n,r)+e}function cp(t,e=0,n=1,r,i){t.min=X0(t.min,e,n,r,i),t.max=X0(t.max,e,n,r,i)}function qT(t,{x:e,y:n}){cp(t.x,e.translate,e.scale,e.originPoint),cp(t.y,n.translate,n.scale,n.originPoint)}function i4(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ts(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,qT(t,o)),r&&fi(s.latestValues)&&Ts(t,s.latestValues))}e.x=J0(e.x),e.y=J0(e.y)}function J0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sr(t,e){t.min=t.min+e,t.max=t.max+e}function Z0(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Pe(t.min,t.max,s);cp(t,e[n],e[r],o,e.scale)}const s4=["x","scaleX","originX"],o4=["y","scaleY","originY"];function Ts(t,e){Z0(t.x,e,s4),Z0(t.y,e,o4)}function KT(t,e){return HT(r4(t.getBoundingClientRect(),e))}function a4(t,e,n){const r=KT(t,n),{scroll:i}=e;return i&&(Sr(r.x,i.offset.x),Sr(r.y,i.offset.y)),r}const GT=({current:t})=>t?t.ownerDocument.defaultView:null,l4=new WeakMap;class u4{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ph(h,"page").point)},s=(h,d)=>{const{drag:m,dragPropagation:y,onDragStart:T}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aT(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(R=>{let x=this.getAxisMotionValue(R).get()||0;if(Pn.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[R];w&&(x=Gt(w)*(parseFloat(x)/100))}}this.originPoint[R]=x}),T&&_e.update(()=>T(h,d),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:T,onDrag:S}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:R}=d;if(y&&this.currentDirection===null){this.currentDirection=c4(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",d.point,R),this.updateAxis("y",d.point,R),this.visualElement.render(),S&&S(h,d)},a=(h,d)=>this.stop(h,d),l=()=>Jt(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new $T(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:GT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&_e.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!uu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=YD(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ws(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=XD(i.layoutBox,n):this.constraints=!1,this.elastic=t4(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=e4(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ws(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=a4(r,i.root,this.visualElement.getTransformPagePoint());let o=JD(i.layout.layoutBox,s);if(n){const a=n(n4(o));this.hasMutatedConstraints=!!a,a&&(o=HT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Jt(h=>{if(!uu(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(og(e,r,0,n))}stopAnimation(){Jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jt(n=>{const{drag:r}=this.getProps();if(!uu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ws(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=ZD({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(o=>{if(!uu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pe(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;l4.set(this.visualElement,this);const e=this.visualElement.current,n=Yn(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ws(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Hn(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Jt(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=lp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function uu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function c4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h4 extends ni{constructor(e){super(e),this.removeGroupControls=je,this.removeListeners=je,this.controls=new u4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||je}unmount(){this.removeGroupControls(),this.removeListeners()}}const e_=t=>(e,n)=>{t&&_e.update(()=>t(e,n))};class d4 extends ni{constructor(){super(...arguments),this.removePointerDownListener=je}onPointerDown(e){this.session=new $T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:e_(e),onStart:e_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&_e.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Yn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function f4(){const t=P.useContext(uh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=P.useId();return P.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Vu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function t_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=t_(t,e.target.x),r=t_(t,e.target.y);return`${n}% ${r}%`}},p4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Gr.parse(t);if(i.length>5)return r;const s=Gr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Pe(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class m4 extends Xa.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;E2(g4),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Vu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||_e.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QT(t){const[e,n]=f4(),r=P.useContext(qm);return Xa.createElement(m4,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(HE),isPresent:e,safeToRemove:n})}const g4={borderRadius:{...Fo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fo,borderTopRightRadius:Fo,borderBottomLeftRadius:Fo,borderBottomRightRadius:Fo,boxShadow:p4},YT=["TopLeft","TopRight","BottomLeft","BottomRight"],y4=YT.length,n_=t=>typeof t=="string"?parseFloat(t):t,r_=t=>typeof t=="number"||Y.test(t);function v4(t,e,n,r,i,s){i?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,_4(r)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,w4(r))):s&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<y4;o++){const a=`border${YT[o]}Radius`;let l=i_(e,a),c=i_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||r_(l)===r_(c)?(t[a]=Math.max(Pe(n_(l),n_(c),r),0),(Pn.test(c)||Pn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,r))}function i_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _4=XT(0,.5,_T),w4=XT(.5,.95,je);function XT(t,e,n){return r=>r<t?0:r>e?1:n(Ma(t,e,r))}function s_(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){s_(t.x,e.x),s_(t.y,e.y)}function o_(t,e,n,r,i){return t-=e,t=Tc(t,1/n,r),i!==void 0&&(t=Tc(t,1/i,r)),t}function x4(t,e=0,n=1,r=.5,i,s=t,o=t){if(Pn.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(s.min,s.max,r);t===s&&(a-=e),t.min=o_(t.min,e,n,a,i),t.max=o_(t.max,e,n,a,i)}function a_(t,e,[n,r,i],s,o){x4(t,e[n],e[r],e[i],e.scale,s,o)}const E4=["x","scaleX","originX"],T4=["y","scaleY","originY"];function l_(t,e,n,r){a_(t.x,e,E4,n?n.x:void 0,r?r.x:void 0),a_(t.y,e,T4,n?n.y:void 0,r?r.y:void 0)}function u_(t){return t.translate===0&&t.scale===1}function JT(t){return u_(t.x)&&u_(t.y)}function I4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function ZT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function c_(t){return Gt(t.x)/Gt(t.y)}class S4{constructor(){this.members=[]}add(e){ag(this.members,e),e.scheduleRender()}remove(e){if(lg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h_(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const k4=(t,e)=>t.depth-e.depth;class A4{constructor(){this.children=[],this.isDirty=!1}add(e){ag(this.children,e),this.isDirty=!0}remove(e){lg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(k4),this.isDirty=!1,this.children.forEach(e)}}function P4(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ar(r),t(s-e))};return _e.read(r,!0),()=>ar(r)}function C4(t){window.MotionDebug&&window.MotionDebug.record(t)}function R4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function b4(t,e,n){const r=Bt(t)?t:Hs(t);return r.start(og("",r,e,n)),r.animation}const d_=["","X","Y","Z"],N4={visibility:"hidden"},f_=1e3;let D4=0;const pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function eI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=D4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pi.totalNodes=pi.resolvedTargetDeltas=pi.recalculatedProjection=0,this.nodes.forEach(L4),this.nodes.forEach(B4),this.nodes.forEach($4),this.nodes.forEach(M4),C4(pi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new A4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ug),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=R4(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=P4(m,250),Vu.hasAnimatedSinceResize&&(Vu.hasAnimatedSinceResize=!1,this.nodes.forEach(m_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||K4,{onLayoutAnimationStart:R,onLayoutAnimationComplete:x}=h.getProps(),v=!this.targetLayout||!ZT(this.targetLayout,T)||y,w=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const N={...sg(S,"layout"),onPlay:R,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||m_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(z4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p_);return}this.isUpdating||this.nodes.forEach(F4),this.isUpdating=!1,this.nodes.forEach(U4),this.nodes.forEach(V4),this.nodes.forEach(O4),this.clearAllSnapshots();const a=performance.now();yt.delta=Kr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,Nd.update.process(yt),Nd.preRender.process(yt),Nd.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(j4),this.sharedNodes.forEach(H4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!JT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||fi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),G4(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Sr(a.x,l.offset.x),Sr(a.y,l.offset.y)),a}removeElementScroll(o){const a=ze();Xt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;if(c!==this.root&&h&&d.layoutScroll){if(h.isRoot){Xt(a,o);const{scroll:m}=this.root;m&&(Sr(a.x,-m.offset.x),Sr(a.y,-m.offset.y))}Sr(a.x,h.offset.x),Sr(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=ze();Xt(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ts(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),fi(h.latestValues)&&Ts(l,h.latestValues)}return fi(this.latestValues)&&Ts(l,this.latestValues),l}removeTransform(o){const a=ze();Xt(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!fi(c.latestValues))continue;up(c.latestValues)&&c.updateSnapshot();const h=ze(),d=c.measurePageBox();Xt(h,d),l_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return fi(this.latestValues)&&l_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),ca(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),qT(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),ca(this.relativeTargetOrigin,this.target,y.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||up(this.parent.latestValues)||WT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Xt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;i4(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=Es(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es());const S=this.projectionTransform;ua(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=h_(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=ze(),y=l?l.source:void 0,T=this.layout?this.layout.source:void 0,S=y!==T,R=this.getStack(),x=!R||R.members.length<=1,v=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(q4));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const O=N/1e3;g_(d.x,o.x,O),g_(d.y,o.y,O),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ca(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W4(this.relativeTarget,this.relativeTargetOrigin,m,O),w&&I4(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ze()),Xt(w,this.relativeTarget)),S&&(this.animationValues=h,v4(h,c,this.latestValues,O,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{Vu.hasAnimatedSinceResize=!0,this.currentAnimation=b4(0,f_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(f_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&tI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ze();const d=Gt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=Gt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Xt(a,l),Ts(a,h),ua(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new S4),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let h=0;h<d_.length;h++){const d="rotate"+d_[h];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const h in c)o.setStaticValue(h,c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return N4;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Du(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Du(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=h_(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:y,y:T}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in gc){if(m[S]===void 0)continue;const{correct:R,applyTo:x}=gc[S],v=c.transform==="none"?m[S]:R(m[S],d);if(x){const w=x.length;for(let N=0;N<w;N++)c[x[N]]=v}else c[S]=v}return this.options.layoutId&&(c.pointerEvents=d===this?Du(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(p_),this.root.sharedNodes.clear()}}}function V4(t){t.updateLayout()}function O4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Jt(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],y=Gt(m);m.min=r[d].min,m.max=m.min+y}):tI(s,n.layoutBox,r)&&Jt(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],y=Gt(r[d]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+y)});const a=Es();ua(a,r,n.layoutBox);const l=Es();o?ua(l,t.applyTransform(i,!0),n.measuredBox):ua(l,r,n.layoutBox);const c=!JT(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:y}=d;if(m&&y){const T=ze();ca(T,n.layoutBox,m.layoutBox);const S=ze();ca(S,r,y.layoutBox),ZT(T,S)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function L4(t){pi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j4(t){t.clearSnapshot()}function p_(t){t.clearMeasurements()}function F4(t){t.isLayoutDirty=!1}function U4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function m_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function B4(t){t.resolveTargetDelta()}function $4(t){t.calcProjection()}function z4(t){t.resetRotation()}function H4(t){t.removeLeadSnapshot()}function g_(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function y_(t,e,n,r){t.min=Pe(e.min,n.min,r),t.max=Pe(e.max,n.max,r)}function W4(t,e,n,r){y_(t.x,e.x,n.x,r),y_(t.y,e.y,n.y,r)}function q4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const K4={duration:.45,ease:[.4,0,.1,1]},v_=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),__=v_("applewebkit/")&&!v_("chrome/")?Math.round:je;function w_(t){t.min=__(t.min),t.max=__(t.max)}function G4(t){w_(t.x),w_(t.y)}function tI(t,e,n){return t==="position"||t==="preserve-aspect"&&!ap(c_(e),c_(n),.2)}const Q4=eI({attachResizeListener:(t,e)=>Hn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zd={current:void 0},nI=eI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zd.current){const t=new Q4({});t.mount(window),t.setOptions({layoutScroll:!0}),zd.current=t}return zd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Y4={pan:{Feature:d4},drag:{Feature:h4,ProjectionNode:nI,MeasureLayout:QT}},X4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function J4(t){const e=X4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function hp(t,e,n=1){const[r,i]=J4(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return jT(o)?parseFloat(o):o}else return ep(i)?hp(i,e,n+1):i}function Z4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!ep(s))return;const o=hp(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!ep(s))continue;const o=hp(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const eV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rI=t=>eV.has(t),tV=t=>Object.keys(t).some(rI),x_=t=>t===Wi||t===Y,E_=(t,e)=>parseFloat(t.split(", ")[e]),T_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return E_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?E_(s[1],t):0}},nV=new Set(["x","y","z"]),rV=sl.filter(t=>!nV.has(t));function iV(t){const e=[];return rV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ws={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:T_(4,13),y:T_(5,14)};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const sV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ws[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const h=e.getValue(c);h&&h.jump(a[c]),t[c]=Ws[c](l,s)}),t},oV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(rI);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=jo(h);const m=e[l];let y;if(vc(m)){const T=m.length,S=m[0]===null?1:0;h=m[S],d=jo(h);for(let R=S;R<T&&m[R]!==null;R++)y?eg(jo(m[R])===y):y=jo(m[R])}else y=jo(m);if(d!==y)if(x_(d)&&x_(y)){const T=c.get();typeof T=="string"&&c.set(parseFloat(T)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&y===Y&&(e[l]=m.map(parseFloat))}else d!=null&&d.transform&&(y!=null&&y.transform)&&(h===0||m===0)?h===0?c.set(y.transform(h)):e[l]=d.transform(m):(o||(s=iV(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=sV(e,t,a);return s.length&&s.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),ch&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function aV(t,e,n,r){return tV(e)?oV(t,e,n,r):{target:e,transitionEnd:r}}const lV=(t,e,n,r)=>{const i=Z4(t,e,r);return e=i.target,r=i.transitionEnd,aV(t,e,n,r)},dp={current:null},iI={current:!1};function uV(){if(iI.current=!0,!!ch)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dp.current=t.matches;t.addListener(e),e()}else dp.current=!1}function cV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Bt(s))t.addValue(i,s),Ec(r)&&r.add(i);else if(Bt(o))t.addValue(i,Hs(s,{owner:t})),Ec(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Hs(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const I_=new WeakMap,sI=Object.keys(La),hV=sI.length,S_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],dV=Wm.length;class fV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_e.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=dh(n),this.isVariantNode=zE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const m=h[d];a[d]!==void 0&&Bt(m)&&(m.set(a[d],!1),Ec(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,I_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iI.current||uV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){I_.delete(this.current),this.projection&&this.projection.unmount(),ar(this.notifyUpdate),ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Hi.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&_e.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<hV;l++){const c=sI[l],{isEnabled:h,Feature:d,ProjectionNode:m,MeasureLayout:y}=La[c];m&&(o=m),h(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:h,dragConstraints:d,layoutScroll:m,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!h||d&&ws(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<S_.length;r++){const i=S_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=cV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<dV;r++){const i=Wm[r],s=this.props[i];(Oa(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Zm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ug),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oI extends fV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=RD(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){PD(this,r,o);const a=lV(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function pV(t){return window.getComputedStyle(t)}class mV extends oI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Hi.has(n)){const r=ig(n);return r&&r.default||0}else{const r=pV(e),i=(KE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KT(e,n)}build(e,n,r,i){Gm(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Jm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){ZE(e,n,r,i)}}class gV extends oI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hi.has(n)){const r=ig(n);return r&&r.default||0}return n=eT.has(n)?n:zm(n),e.getAttribute(n)}measureInstanceViewportBox(){return ze()}scrapeMotionValuesFromProps(e,n){return nT(e,n)}build(e,n,r,i){Ym(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){tT(e,n,r,i)}mount(e){this.isSVGTag=Xm(e.tagName),super.mount(e)}}const yV=(t,e)=>Km(t)?new gV(e,{enableHardwareAcceleration:!1}):new mV(e,{enableHardwareAcceleration:!0}),vV={layout:{ProjectionNode:nI,MeasureLayout:QT}},_V={...WD,...hN,...Y4,...vV},B=w2((t,e)=>J2(t,e,_V,yV));function aI(){const t=P.useRef(!1);return $m(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function wV(){const t=aI(),[e,n]=P.useState(0),r=P.useCallback(()=>{t.current&&n(e+1)},[e]);return[P.useCallback(()=>_e.postRender(r),[r]),e]}class xV extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function EV({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),i=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),P.createElement(xV,{isPresent:e,childRef:r,sizeRef:i},P.cloneElement(t,{ref:r}))}const Hd=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=rT(TV),l=P.useId(),c=P.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const d of a.values())if(!d)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[n]);return P.useMemo(()=>{a.forEach((h,d)=>a.set(d,!1))},[n]),P.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=P.createElement(EV,{isPresent:n},t)),P.createElement(uh.Provider,{value:c},t)};function TV(){return new Map}function IV(t){return P.useEffect(()=>()=>t(),[])}const mi=t=>t.key||"";function SV(t,e){t.forEach(n=>{const r=mi(n);e.set(r,n)})}function kV(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const ja=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=P.useContext(qm).forceRender||wV()[0],l=aI(),c=kV(t);let h=c;const d=P.useRef(new Map).current,m=P.useRef(h),y=P.useRef(new Map).current,T=P.useRef(!0);if($m(()=>{T.current=!1,SV(c,y),m.current=h}),IV(()=>{T.current=!0,y.clear(),d.clear()}),T.current)return P.createElement(P.Fragment,null,h.map(v=>P.createElement(Hd,{key:mi(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},v)));h=[...h];const S=m.current.map(mi),R=c.map(mi),x=S.length;for(let v=0;v<x;v++){const w=S[v];R.indexOf(w)===-1&&!d.has(w)&&d.set(w,void 0)}return o==="wait"&&d.size&&(h=[]),d.forEach((v,w)=>{if(R.indexOf(w)!==-1)return;const N=y.get(w);if(!N)return;const O=S.indexOf(w);let M=v;if(!M){const k=()=>{d.delete(w);const _=Array.from(y.keys()).filter(I=>!R.includes(I));if(_.forEach(I=>y.delete(I)),m.current=c.filter(I=>{const A=mi(I);return A===w||_.includes(A)}),!d.size){if(l.current===!1)return;a(),r&&r()}};M=P.createElement(Hd,{key:mi(N),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:o},N),d.set(w,M)}h.splice(O,0,M)}),h=h.map(v=>{const w=v.key;return d.has(w)?v:P.createElement(Hd,{key:mi(v),isPresent:!0,presenceAffectsLayout:s,mode:o},v)}),P.createElement(P.Fragment,null,d.size?h:h.map(v=>P.cloneElement(v)))};function AV(){const[t,e]=P.useState(0),n=[{url:"https://images.pexels.com/photos/1001965/pexels-photo-1001965.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1280&fit=crop",title:"Villa Exterior"},{url:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1280&fit=crop",title:"Living Room"},{url:"https://images.pexels.com/photos/1457847/pexels-photo-1457847.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1280&fit=crop",title:"Private Pool"},{url:"https://images.pexels.com/photos/271618/pexels-photo-271618.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1280&fit=crop",title:"Master Bedroom"},{url:"https://images.pexels.com/photos/1428348/pexels-photo-1428348.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1280&fit=crop",title:"Kitchen"}],r=()=>{const o=document.getElementById("booking");o==null||o.scrollIntoView({behavior:"smooth"})},i=()=>{e(o=>(o+1)%n.length)},s=()=>{e(o=>(o-1+n.length)%n.length)};return p.jsxs("section",{id:"hero",className:"bg-neutral-50 pt-32",children:[p.jsx("div",{className:"@container",children:p.jsx("div",{className:"@[480px]:px-4 @[480px]:py-3",children:p.jsxs(B.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1},className:"bg-cover bg-center flex flex-col justify-end overflow-hidden bg-neutral-50 @[480px]:rounded-xl min-h-80 relative",style:{backgroundImage:`linear-gradient(0deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 25%), url("${n[t].url}")`},children:[p.jsx("button",{onClick:s,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm rounded-full p-2 text-white hover:bg-white/30 transition-all duration-200",children:p.jsx(OE,{className:"h-6 w-6"})}),p.jsx("button",{onClick:i,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm rounded-full p-2 text-white hover:bg-white/30 transition-all duration-200",children:p.jsx(LE,{className:"h-6 w-6"})}),p.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm rounded-lg px-3 py-1",children:p.jsx("p",{className:"text-white text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:n[t].title})}),p.jsx("div",{className:"flex justify-center gap-2 p-5",children:n.map((o,a)=>p.jsx(B.button,{onClick:()=>e(a),initial:{opacity:0,scale:0},animate:{opacity:a===t?1:.5,scale:1},transition:{delay:a*.1},className:"size-1.5 rounded-full bg-neutral-50 hover:opacity-100 transition-opacity duration-200"},a))})]})})}),p.jsxs("div",{className:"px-4 py-6",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"About this place"}),p.jsx(B.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-[#141414] text-base font-normal leading-normal mb-8",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Experience unparalleled luxury in our exclusive villa nestled in the heart of Goa. This spacious retreat features six bedrooms, each with an en-suite bathroom, a fully equipped gourmet kitchen, a private infinity pool, and sprawling tropical gardens. Perfect for families or groups seeking an extraordinary escape."}),p.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.7},className:"flex gap-3",children:[p.jsx(B.button,{whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(0,0,0,0.15)"},whileTap:{scale:.95},onClick:r,className:"flex-1 bg-[#141414] text-white rounded-lg h-14 px-6 font-bold text-base tracking-[0.015em] hover:bg-gray-800 transition-all duration-300",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Book Now"}),p.jsx(B.button,{whileHover:{scale:1.05,boxShadow:"0 10px 25px rgba(0,0,0,0.1)"},whileTap:{scale:.95},onClick:()=>{var o;return(o=document.getElementById("contact"))==null?void 0:o.scrollIntoView({behavior:"smooth"})},className:"flex-1 bg-[#ededed] text-[#141414] rounded-lg h-14 px-6 font-bold text-base tracking-[0.015em] hover:bg-gray-300 transition-all duration-300",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Contact Host"})]})]})]})}function PV(){const t=[{icon:FE,label:"Up to 12 Guests",value:"12"},{icon:Lb,label:"Bedrooms",value:"6"},{icon:Ob,label:"Bathrooms",value:"8"},{icon:Gb,label:"Square Feet",value:"8,500"}];return p.jsx("section",{id:"about",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"About this place"}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map((e,n)=>p.jsxs(B.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},whileHover:{scale:1.05,y:-5},transition:{duration:.6,delay:n*.1},viewport:{once:!0},className:"flex flex-col items-center p-6 rounded-lg border border-[#dbdbdb] bg-neutral-50 hover:shadow-lg transition-all duration-300",children:[p.jsx(e.icon,{className:"h-10 w-10 text-[#141414] mb-3"}),p.jsx("div",{className:"luxury-heading text-3xl font-bold text-[#141414] mb-2",children:e.value}),p.jsx("div",{className:"luxury-text text-sm text-neutral-500 text-center font-medium",children:e.label})]},n))}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{scale:1.02},transition:{duration:.8,delay:.6},viewport:{once:!0},className:"mt-8 p-6 rounded-lg border border-[#dbdbdb] bg-gradient-to-br from-neutral-50 to-neutral-100 hover:shadow-lg transition-all duration-300",children:[p.jsx("div",{className:"luxury-text text-sm text-neutral-500 mb-2 font-medium",children:"Starting from"}),p.jsx("div",{className:"luxury-heading text-4xl font-bold text-[#141414] mb-1",children:"100,000"}),p.jsx("div",{className:"luxury-text text-sm text-neutral-500 font-medium",children:"per night"})]})]})})}function CV(){const t=[{icon:E0,title:"Pool"},{icon:a2,title:"Wifi"},{icon:w0,title:"Parking"},{icon:s2,title:"TV"},{icon:jb,title:"Kitchen"},{icon:l2,title:"Air Conditioning"}],e=[{icon:Mb,title:"Concierge"},{icon:$b,title:"Private Chef"},{icon:e2,title:"Housekeeping"},{icon:w0,title:"Transportation"},{icon:zb,title:"Fitness Center"},{icon:E0,title:"Spa Services"}];return p.jsx("section",{id:"amenities",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Amenities"}),p.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 mb-8",children:t.map((n,r)=>p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},whileHover:{scale:1.05,y:-5},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"flex flex-1 gap-4 rounded-lg border border-[#dbdbdb] bg-neutral-50 p-5 items-center hover:bg-gray-100 hover:shadow-lg transition-all duration-300",children:[p.jsx(n.icon,{className:"h-6 w-6 text-[#141414]"}),p.jsx("h3",{className:"text-[#141414] text-base font-bold leading-tight",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.title})]},r))}),p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Services"}),p.jsx("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3",children:e.map((n,r)=>p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},whileHover:{scale:1.05,y:-5},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"flex flex-1 gap-4 rounded-lg border border-[#dbdbdb] bg-neutral-50 p-5 items-center hover:bg-gray-100 hover:shadow-lg transition-all duration-300",children:[p.jsx(n.icon,{className:"h-6 w-6 text-[#141414]"}),p.jsx("h3",{className:"text-[#141414] text-base font-bold leading-tight",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.title})]},r))})]})})}function RV(){const[t,e]=P.useState(null),n=[{url:"https://images.pexels.com/photos/1001965/pexels-photo-1001965.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Goan Beaches",description:"Explore the pristine beaches and crystal-clear waters of Goa."},{url:"https://images.pexels.com/photos/1428348/pexels-photo-1428348.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Old Goa Churches",description:"Discover the rich Portuguese heritage and stunning architecture."},{url:"https://images.pexels.com/photos/271618/pexels-photo-271618.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Spice Plantations",description:"Visit the aromatic spice gardens and learn about local agriculture."},{url:"https://images.pexels.com/photos/1457847/pexels-photo-1457847.jpeg?auto=compress&cs=tinysrgb&w=800&h=600&fit=crop",title:"Water Sports",description:"Experience thrilling water activities and adventure sports."}],r=a=>{e(a),document.body.style.overflow="hidden"},i=()=>{e(null),document.body.style.overflow="unset"},s=()=>{e(t===0?n.length-1:t-1)},o=()=>{e(t===n.length-1?0:t+1)};return p.jsxs("section",{id:"gallery",className:"bg-neutral-50 py-8",children:[p.jsxs("div",{className:"px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Local Attractions"}),p.jsx("div",{className:"flex overflow-x-auto [-ms-scrollbar-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:p.jsx("div",{className:"flex items-stretch gap-3",children:n.map((a,l)=>p.jsxs(B.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},whileHover:{scale:1.05,y:-10},transition:{duration:.6,delay:l*.1},viewport:{once:!0},className:"flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60 cursor-pointer hover:shadow-xl transition-all duration-300",onClick:()=>r(l),children:[p.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl flex flex-col transition-transform duration-300",style:{backgroundImage:`url("${a.url}")`}}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:a.title}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:a.description})]})]},l))})})]}),p.jsx(ja,{children:t!==null&&p.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:[p.jsx(B.button,{onClick:i,className:"absolute top-6 right-6 text-white hover:text-gray-300 transition-colors duration-200 z-10",whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx(ro,{className:"h-10 w-10"})}),p.jsx(B.button,{onClick:s,className:"absolute left-6 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200 z-10",whileHover:{scale:1.1,x:-5},whileTap:{scale:.9},children:p.jsx(OE,{className:"h-12 w-12"})}),p.jsx(B.button,{onClick:o,className:"absolute right-6 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors duration-200 z-10",whileHover:{scale:1.1,x:5},whileTap:{scale:.9},children:p.jsx(LE,{className:"h-12 w-12"})}),p.jsxs(B.div,{className:"max-w-4xl max-h-[80vh] flex flex-col items-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},children:[p.jsx("img",{src:n[t].url,alt:n[t].title,className:"max-w-full max-h-full object-contain rounded-lg"}),p.jsxs(B.div,{className:"text-center mt-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[p.jsx("h3",{className:"text-white text-2xl font-bold mb-2",children:n[t].title}),p.jsx("p",{className:"text-gray-300 text-lg",children:n[t].description})]})]})]})})]})}const bV=({isOpen:t,onClose:e,bookingData:n})=>{const[r,i]=P.useState(!1),[s,o]=P.useState(!1),[a,l]=P.useState(!1),[c,h]=P.useState({checkIn:{date:"",time:"4:00 PM"},checkOut:{date:"",time:"11:00 AM"},adults:0,children:0,totalGuests:0,confirmationCode:"",totalCost:"",nights:0,costPerNight:1e5});P.useEffect(()=>{if(n.checkIn&&n.checkOut){const T=new Date(n.checkIn),S=new Date(n.checkOut),R=S.getTime()-T.getTime(),x=Math.ceil(R/(1e3*3600*24)),v=x*c.costPerNight,w=T.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),N=S.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),O=`VA2024-${Math.random().toString(36).substr(2,10).toUpperCase()}`;h({checkIn:{date:w,time:"4:00 PM"},checkOut:{date:N,time:"11:00 AM"},adults:n.adults,children:n.children,totalGuests:n.adults+n.children,confirmationCode:O,totalCost:`${v.toLocaleString()}`,nights:x,costPerNight:c.costPerNight})}},[n]);const d=async()=>{l(!0)},m=()=>{l(!1),i(!0),setTimeout(()=>{i(!1),e()},3e3)},y=()=>{l(!1)};return r?p.jsx(ja,{children:p.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs(B.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-neutral-50 rounded-xl p-8 max-w-md w-full text-center",children:[p.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},children:p.jsx(VE,{className:"h-16 w-16 text-green-500 mx-auto mb-4"})}),p.jsx("h3",{className:"text-[#141414] text-2xl font-bold mb-2",style:{fontFamily:'"Noto Serif", serif'},children:"Booking Confirmed!"}),p.jsx("p",{className:"text-neutral-500 mb-4",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Your reservation has been successfully confirmed. You'll receive a confirmation email shortly."}),p.jsxs("p",{className:"text-[#141414] font-bold",style:{fontFamily:'"Noto Sans", sans-serif'},children:["Confirmation Code: ",c.confirmationCode]})]})})}):a?p.jsx(NV,{onSuccess:m,onFailure:y,onClose:()=>l(!1)}):p.jsx(ja,{children:t&&p.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs(B.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"bg-neutral-50 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center bg-neutral-50 p-4 pb-2 justify-between border-b border-[#ededed]",children:[p.jsx("button",{onClick:e,className:"text-[#141414] flex size-12 shrink-0 items-center justify-center hover:bg-[#ededed] rounded-lg transition-colors duration-200",children:p.jsx(ro,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-[#141414] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",style:{fontFamily:'"Noto Serif", serif'},children:"Reservation Details"})]}),p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(_0,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Check-in"}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:c.checkIn.date})]})]}),p.jsx("div",{className:"shrink-0",children:p.jsx("p",{className:"text-[#141414] text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:c.checkIn.time})})]}),p.jsxs("div",{className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(_0,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Checkout"}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:c.checkOut.date})]})]}),p.jsx("div",{className:"shrink-0",children:p.jsx("p",{className:"text-[#141414] text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:c.checkOut.time})})]}),p.jsxs("div",{className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-14 justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(FE,{className:"h-6 w-6"})}),p.jsx("p",{className:"text-[#141414] text-base font-normal leading-normal flex-1 truncate",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Who's coming"})]}),p.jsx("div",{className:"shrink-0",children:p.jsxs("p",{className:"text-[#141414] text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:[c.totalGuests," guests"]})})]}),p.jsx("h3",{className:"text-[#141414] text-[22px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Payment Info"}),p.jsx("div",{className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2",children:p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(Bb,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Total cost"}),p.jsxs("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:[c.totalCost," INR for ",c.nights," nights"]})]})]})}),p.jsx("div",{className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2",children:p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(n2,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center flex-1",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Cancellation policy"}),p.jsxs("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:["Free cancellation before 4:00 PM on ",c.checkIn.date,". Cancel before check-in at 4:00 PM."]})]})]})}),p.jsx("div",{className:"flex px-0 py-3 mt-4",children:p.jsx(B.button,{type:"button",disabled:s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-4 flex-1 bg-[#141414] text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-800 transition-all duration-300 disabled:opacity-50",style:{fontFamily:'"Noto Sans", sans-serif'},onClick:d,children:s?p.jsx(B.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}):p.jsx("span",{className:"truncate",children:"Confirm & Pay"})})})]})]})})})},NV=({onSuccess:t,onFailure:e,onClose:n})=>{const[r,i]=P.useState(""),[s,o]=P.useState(!1),[a,l]=P.useState(!1),c=[{id:"stripe",name:"Credit/Debit Card",icon:""},{id:"razorpay",name:"Razorpay",icon:""},{id:"paypal",name:"PayPal",icon:""},{id:"upi",name:"UPI Payment",icon:""}],h=async()=>{if(!r)return;o(!0),await new Promise(m=>setTimeout(m,3e3));const d=Math.random()>.2;o(!1),d?t():(l(!0),setTimeout(()=>{l(!1),e()},3e3))};return a?p.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs(B.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-neutral-50 rounded-xl p-8 max-w-md w-full text-center",children:[p.jsx("div",{className:"h-16 w-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx("span",{className:"text-white text-2xl",children:""})}),p.jsx("h3",{className:"text-[#141414] text-2xl font-bold mb-2",style:{fontFamily:'"Noto Serif", serif'},children:"Payment Failed"}),p.jsx("p",{className:"text-neutral-500 mb-4",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Your payment could not be processed. Please try again with a different payment method."})]})}):p.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:p.jsxs(B.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},className:"bg-neutral-50 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center bg-neutral-50 p-4 pb-2 justify-between border-b border-[#ededed]",children:[p.jsx("button",{onClick:n,className:"text-[#141414] flex size-12 shrink-0 items-center justify-center hover:bg-[#ededed] rounded-lg transition-colors duration-200",children:p.jsx(ro,{className:"h-6 w-6"})}),p.jsx("h2",{className:"text-[#141414] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",style:{fontFamily:'"Noto Serif", serif'},children:"Payment Options"})]}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-[#141414] text-[22px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-2",style:{fontFamily:'"Noto Serif", serif'},children:"Choose Payment Method"}),p.jsx("div",{className:"space-y-3 mb-6",children:c.map(d=>p.jsxs(B.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(d.id),className:`w-full p-4 rounded-xl border-2 transition-all duration-200 flex items-center gap-4 ${r===d.id?"border-[#141414] bg-gray-100":"border-[#dbdbdb] bg-neutral-50 hover:bg-gray-50"}`,children:[p.jsx("span",{className:"text-2xl",children:d.icon}),p.jsx("span",{className:"text-[#141414] font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:d.name}),r===d.id&&p.jsx("div",{className:"ml-auto w-5 h-5 bg-[#141414] rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs",children:""})})]},d.id))}),p.jsx(B.button,{type:"button",disabled:!r||s,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-4 bg-[#141414] text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-800 transition-all duration-300 disabled:opacity-50",style:{fontFamily:'"Noto Sans", sans-serif'},children:s?p.jsxs(p.Fragment,{children:[p.jsx(B.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing Payment..."]}):p.jsx("span",{className:"truncate",children:"Pay Now"})})]})]})})};var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(m=64)),r.push(n[h],n[d],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new VV;const m=s<<2|a>>4;if(r.push(m),c!==64){const y=a<<4&240|c>>2;if(r.push(y),d!==64){const T=c<<6&192|d;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OV=function(t){const e=lI(t);return cg.encodeByteArray(e,!0)},Ic=function(t){return OV(t).replace(/\./g,"")},uI=function(t){try{return cg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=()=>cI().__FIREBASE_DEFAULTS__,MV=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uI(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return LV()||MV()||jV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hI=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hg=t=>{const e=hI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dI=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},fI=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ic(JSON.stringify(n)),Ic(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function UV(){var t;const e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $V(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HV(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WV(){return!UV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dg(){try{return typeof indexedDB=="object"}catch{return!1}}function qV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="FirebaseError";class En extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KV,Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,io.prototype.create)}}class io{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?GV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new En(i,a,r)}}function GV(t,e){return t.replace(QV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QV=/\{\$([^}]+)}/g;function YV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(A_(s)&&A_(o)){if(!Sc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function A_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XV(t,e){const n=new JV(t,e);return n.subscribe.bind(n)}class JV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wd),i.error===void 0&&(i.error=Wd),i.complete===void 0&&(i.complete=Wd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1e3,nO=2,rO=4*60*60*1e3,iO=.5;function sO(t,e=tO,n=nO){const r=e*Math.pow(n,t),i=Math.round(iO*r*(Math.random()-.5)*2);return Math.min(rO,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return t&&t._delegate?t._delegate:t}class wn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fa;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lO(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aO(t){return t===gi?void 0:t}function lO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const cO={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},hO=ae.INFO,dO={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},fO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yh{constructor(e){this.name=e,this._logLevel=hO,this._logHandler=fO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const pO=(t,e)=>e.some(n=>t instanceof n);let P_,C_;function mO(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gO(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mI=new WeakMap,fp=new WeakMap,gI=new WeakMap,qd=new WeakMap,fg=new WeakMap;function yO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),fg.set(e,t),e}function vO(t){if(fp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _O(t){pp=t(pp)}function wO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kd(this),e,...n);return gI.set(r,e.sort?e.sort():[e]),zr(r)}:gO().includes(t)?function(...e){return t.apply(Kd(this),e),zr(mI.get(this))}:function(...e){return zr(t.apply(Kd(this),e))}}function xO(t){return typeof t=="function"?wO(t):(t instanceof IDBTransaction&&vO(t),pO(t,mO())?new Proxy(t,pp):t)}function zr(t){if(t instanceof IDBRequest)return yO(t);if(qd.has(t))return qd.get(t);const e=xO(t);return e!==t&&(qd.set(t,e),fg.set(e,t)),e}const Kd=t=>fg.get(t);function EO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zr(o.result),l.oldVersion,l.newVersion,zr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],Gd=new Map;function R_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Gd.set(e,s),s}_O(t=>({...t,get:(e,n,r)=>R_(e,n)||t.get(e,n,r),has:(e,n)=>!!R_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",b_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new yh("@firebase/app"),AO="@firebase/app-compat",PO="@firebase/analytics-compat",CO="@firebase/analytics",RO="@firebase/app-check-compat",bO="@firebase/app-check",NO="@firebase/auth",DO="@firebase/auth-compat",VO="@firebase/database",OO="@firebase/data-connect",LO="@firebase/database-compat",MO="@firebase/functions",jO="@firebase/functions-compat",FO="@firebase/installations",UO="@firebase/installations-compat",BO="@firebase/messaging",$O="@firebase/messaging-compat",zO="@firebase/performance",HO="@firebase/performance-compat",WO="@firebase/remote-config",qO="@firebase/remote-config-compat",KO="@firebase/storage",GO="@firebase/storage-compat",QO="@firebase/firestore",YO="@firebase/vertexai-preview",XO="@firebase/firestore-compat",JO="firebase",ZO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",eL={[mp]:"fire-core",[AO]:"fire-core-compat",[CO]:"fire-analytics",[PO]:"fire-analytics-compat",[bO]:"fire-app-check",[RO]:"fire-app-check-compat",[NO]:"fire-auth",[DO]:"fire-auth-compat",[VO]:"fire-rtdb",[OO]:"fire-data-connect",[LO]:"fire-rtdb-compat",[MO]:"fire-fn",[jO]:"fire-fn-compat",[FO]:"fire-iid",[UO]:"fire-iid-compat",[BO]:"fire-fcm",[$O]:"fire-fcm-compat",[zO]:"fire-perf",[HO]:"fire-perf-compat",[WO]:"fire-rc",[qO]:"fire-rc-compat",[KO]:"fire-gcs",[GO]:"fire-gcs-compat",[QO]:"fire-fst",[XO]:"fire-fst-compat",[YO]:"fire-vertex","fire-js":"fire-js",[JO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,tL=new Map,yp=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dn(t){const e=t.name;if(yp.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;yp.set(e,t);for(const n of kc.values())N_(n,t);for(const n of tL.values())N_(n,t);return!0}function qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new io("app","Firebase",nL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=ZO;function yI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=dI()),!n)throw Hr.create("no-options");const s=kc.get(i);if(s){if(Sc(n,s.options)&&Sc(r,s.config))return s;throw Hr.create("duplicate-app",{appName:i})}const o=new uO(i);for(const l of yp.values())o.addComponent(l);const a=new rL(n,r,o);return kc.set(i,a),a}function cl(t=gp){const e=kc.get(t);if(!e&&t===gp&&dI())return yI();if(!e)throw Hr.create("no-app",{appName:t});return e}function qt(t,e,n){var r;let i=(r=eL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}Dn(new wn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firebase-heartbeat-database",sL=1,Ua="firebase-heartbeat-store";let Qd=null;function vI(){return Qd||(Qd=EO(iL,sL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Qd}async function oL(t){try{const n=(await vI()).transaction(Ua),r=await n.objectStore(Ua).get(_I(t));return await n.done,r}catch(e){if(e instanceof En)lr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function D_(t,e){try{const r=(await vI()).transaction(Ua,"readwrite");await r.objectStore(Ua).put(e,_I(t)),await r.done}catch(n){if(n instanceof En)lr.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(r.message)}}}function _I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=1024,lL=30*24*60*60*1e3;class uL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=V_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:r,unsentEntries:i}=cL(this._heartbeatsCache.heartbeats),s=Ic(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lr.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function cL(t,e=aL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),O_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dg()?qV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return D_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return D_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function O_(t){return Ic(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){Dn(new wn("platform-logger",e=>new SO(e),"PRIVATE")),Dn(new wn("heartbeat",e=>new uL(e),"PRIVATE")),qt(mp,b_,t),qt(mp,b_,"esm2017"),qt("fire-js","")}dL("");var L_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,wI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,_){function I(){}I.prototype=_.prototype,k.D=_.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(A,b,D){for(var C=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)C[pe-2]=arguments[pe];return _.prototype[b].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,_,I){I||(I=0);var A=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)A[b]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(b=0;16>b;++b)A[b]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=k.g[0],I=k.g[1],b=k.g[2];var D=k.g[3],C=_+(D^I&(b^D))+A[0]+3614090360&4294967295;_=I+(C<<7&4294967295|C>>>25),C=D+(b^_&(I^b))+A[1]+3905402710&4294967295,D=_+(C<<12&4294967295|C>>>20),C=b+(I^D&(_^I))+A[2]+606105819&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(_^b&(D^_))+A[3]+3250441966&4294967295,I=b+(C<<22&4294967295|C>>>10),C=_+(D^I&(b^D))+A[4]+4118548399&4294967295,_=I+(C<<7&4294967295|C>>>25),C=D+(b^_&(I^b))+A[5]+1200080426&4294967295,D=_+(C<<12&4294967295|C>>>20),C=b+(I^D&(_^I))+A[6]+2821735955&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(_^b&(D^_))+A[7]+4249261313&4294967295,I=b+(C<<22&4294967295|C>>>10),C=_+(D^I&(b^D))+A[8]+1770035416&4294967295,_=I+(C<<7&4294967295|C>>>25),C=D+(b^_&(I^b))+A[9]+2336552879&4294967295,D=_+(C<<12&4294967295|C>>>20),C=b+(I^D&(_^I))+A[10]+4294925233&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(_^b&(D^_))+A[11]+2304563134&4294967295,I=b+(C<<22&4294967295|C>>>10),C=_+(D^I&(b^D))+A[12]+1804603682&4294967295,_=I+(C<<7&4294967295|C>>>25),C=D+(b^_&(I^b))+A[13]+4254626195&4294967295,D=_+(C<<12&4294967295|C>>>20),C=b+(I^D&(_^I))+A[14]+2792965006&4294967295,b=D+(C<<17&4294967295|C>>>15),C=I+(_^b&(D^_))+A[15]+1236535329&4294967295,I=b+(C<<22&4294967295|C>>>10),C=_+(b^D&(I^b))+A[1]+4129170786&4294967295,_=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(_^I))+A[6]+3225465664&4294967295,D=_+(C<<9&4294967295|C>>>23),C=b+(_^I&(D^_))+A[11]+643717713&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^_&(b^D))+A[0]+3921069994&4294967295,I=b+(C<<20&4294967295|C>>>12),C=_+(b^D&(I^b))+A[5]+3593408605&4294967295,_=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(_^I))+A[10]+38016083&4294967295,D=_+(C<<9&4294967295|C>>>23),C=b+(_^I&(D^_))+A[15]+3634488961&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^_&(b^D))+A[4]+3889429448&4294967295,I=b+(C<<20&4294967295|C>>>12),C=_+(b^D&(I^b))+A[9]+568446438&4294967295,_=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(_^I))+A[14]+3275163606&4294967295,D=_+(C<<9&4294967295|C>>>23),C=b+(_^I&(D^_))+A[3]+4107603335&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^_&(b^D))+A[8]+1163531501&4294967295,I=b+(C<<20&4294967295|C>>>12),C=_+(b^D&(I^b))+A[13]+2850285829&4294967295,_=I+(C<<5&4294967295|C>>>27),C=D+(I^b&(_^I))+A[2]+4243563512&4294967295,D=_+(C<<9&4294967295|C>>>23),C=b+(_^I&(D^_))+A[7]+1735328473&4294967295,b=D+(C<<14&4294967295|C>>>18),C=I+(D^_&(b^D))+A[12]+2368359562&4294967295,I=b+(C<<20&4294967295|C>>>12),C=_+(I^b^D)+A[5]+4294588738&4294967295,_=I+(C<<4&4294967295|C>>>28),C=D+(_^I^b)+A[8]+2272392833&4294967295,D=_+(C<<11&4294967295|C>>>21),C=b+(D^_^I)+A[11]+1839030562&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^_)+A[14]+4259657740&4294967295,I=b+(C<<23&4294967295|C>>>9),C=_+(I^b^D)+A[1]+2763975236&4294967295,_=I+(C<<4&4294967295|C>>>28),C=D+(_^I^b)+A[4]+1272893353&4294967295,D=_+(C<<11&4294967295|C>>>21),C=b+(D^_^I)+A[7]+4139469664&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^_)+A[10]+3200236656&4294967295,I=b+(C<<23&4294967295|C>>>9),C=_+(I^b^D)+A[13]+681279174&4294967295,_=I+(C<<4&4294967295|C>>>28),C=D+(_^I^b)+A[0]+3936430074&4294967295,D=_+(C<<11&4294967295|C>>>21),C=b+(D^_^I)+A[3]+3572445317&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^_)+A[6]+76029189&4294967295,I=b+(C<<23&4294967295|C>>>9),C=_+(I^b^D)+A[9]+3654602809&4294967295,_=I+(C<<4&4294967295|C>>>28),C=D+(_^I^b)+A[12]+3873151461&4294967295,D=_+(C<<11&4294967295|C>>>21),C=b+(D^_^I)+A[15]+530742520&4294967295,b=D+(C<<16&4294967295|C>>>16),C=I+(b^D^_)+A[2]+3299628645&4294967295,I=b+(C<<23&4294967295|C>>>9),C=_+(b^(I|~D))+A[0]+4096336452&4294967295,_=I+(C<<6&4294967295|C>>>26),C=D+(I^(_|~b))+A[7]+1126891415&4294967295,D=_+(C<<10&4294967295|C>>>22),C=b+(_^(D|~I))+A[14]+2878612391&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~_))+A[5]+4237533241&4294967295,I=b+(C<<21&4294967295|C>>>11),C=_+(b^(I|~D))+A[12]+1700485571&4294967295,_=I+(C<<6&4294967295|C>>>26),C=D+(I^(_|~b))+A[3]+2399980690&4294967295,D=_+(C<<10&4294967295|C>>>22),C=b+(_^(D|~I))+A[10]+4293915773&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~_))+A[1]+2240044497&4294967295,I=b+(C<<21&4294967295|C>>>11),C=_+(b^(I|~D))+A[8]+1873313359&4294967295,_=I+(C<<6&4294967295|C>>>26),C=D+(I^(_|~b))+A[15]+4264355552&4294967295,D=_+(C<<10&4294967295|C>>>22),C=b+(_^(D|~I))+A[6]+2734768916&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~_))+A[13]+1309151649&4294967295,I=b+(C<<21&4294967295|C>>>11),C=_+(b^(I|~D))+A[4]+4149444226&4294967295,_=I+(C<<6&4294967295|C>>>26),C=D+(I^(_|~b))+A[11]+3174756917&4294967295,D=_+(C<<10&4294967295|C>>>22),C=b+(_^(D|~I))+A[2]+718787259&4294967295,b=D+(C<<15&4294967295|C>>>17),C=I+(D^(b|~_))+A[9]+3951481745&4294967295,k.g[0]=k.g[0]+_&4294967295,k.g[1]=k.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+b&4294967295,k.g[3]=k.g[3]+D&4294967295}r.prototype.u=function(k,_){_===void 0&&(_=k.length);for(var I=_-this.blockSize,A=this.B,b=this.h,D=0;D<_;){if(b==0)for(;D<=I;)i(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<_;)if(A[b++]=k.charCodeAt(D++),b==this.blockSize){i(this,A),b=0;break}}else for(;D<_;)if(A[b++]=k[D++],b==this.blockSize){i(this,A),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var _=1;_<k.length-8;++_)k[_]=0;var I=8*this.o;for(_=k.length-8;_<k.length;++_)k[_]=I&255,I/=256;for(this.u(k),k=Array(16),_=I=0;4>_;++_)for(var A=0;32>A;A+=8)k[I++]=this.g[_]>>>A&255;return k};function s(k,_){var I=a;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=_(k)}function o(k,_){this.h=_;for(var I=[],A=!0,b=k.length-1;0<=b;b--){var D=k[b]|0;A&&D==_||(I[b]=D,A=!1)}this.g=I}var a={};function l(k){return-128<=k&&128>k?s(k,function(_){return new o([_|0],0>_?-1:0)}):new o([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return d;if(0>k)return R(c(-k));for(var _=[],I=1,A=0;k>=I;A++)_[A]=k/I|0,I*=4294967296;return new o(_,0)}function h(k,_){if(k.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(k.charAt(0)=="-")return R(h(k.substring(1),_));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(_,8)),A=d,b=0;b<k.length;b+=8){var D=Math.min(8,k.length-b),C=parseInt(k.substring(b,b+D),_);8>D?(D=c(Math.pow(_,D)),A=A.j(D).add(c(C))):(A=A.j(I),A=A.add(c(C)))}return A}var d=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-R(this).m();for(var k=0,_=1,I=0;I<this.g.length;I++){var A=this.i(I);k+=(0<=A?A:4294967296+A)*_,_*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+R(this).toString(k);for(var _=c(Math.pow(k,6)),I=this,A="";;){var b=N(I,_).g;I=x(I,b.j(_));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=b,T(I))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var _=0;_<k.g.length;_++)if(k.g[_]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=x(this,k),S(k)?-1:T(k)?0:1};function R(k){for(var _=k.g.length,I=[],A=0;A<_;A++)I[A]=~k.g[A];return new o(I,~k.h).add(m)}t.abs=function(){return S(this)?R(this):this},t.add=function(k){for(var _=Math.max(this.g.length,k.g.length),I=[],A=0,b=0;b<=_;b++){var D=A+(this.i(b)&65535)+(k.i(b)&65535),C=(D>>>16)+(this.i(b)>>>16)+(k.i(b)>>>16);A=C>>>16,D&=65535,C&=65535,I[b]=C<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(k,_){return k.add(R(_))}t.j=function(k){if(T(this)||T(k))return d;if(S(this))return S(k)?R(this).j(R(k)):R(R(this).j(k));if(S(k))return R(this.j(R(k)));if(0>this.l(y)&&0>k.l(y))return c(this.m()*k.m());for(var _=this.g.length+k.g.length,I=[],A=0;A<2*_;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var b=0;b<k.g.length;b++){var D=this.i(A)>>>16,C=this.i(A)&65535,pe=k.i(b)>>>16,Ke=k.i(b)&65535;I[2*A+2*b]+=C*Ke,v(I,2*A+2*b),I[2*A+2*b+1]+=D*Ke,v(I,2*A+2*b+1),I[2*A+2*b+1]+=C*pe,v(I,2*A+2*b+1),I[2*A+2*b+2]+=D*pe,v(I,2*A+2*b+2)}for(A=0;A<_;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=_;A<2*_;A++)I[A]=0;return new o(I,0)};function v(k,_){for(;(k[_]&65535)!=k[_];)k[_+1]+=k[_]>>>16,k[_]&=65535,_++}function w(k,_){this.g=k,this.h=_}function N(k,_){if(T(_))throw Error("division by zero");if(T(k))return new w(d,d);if(S(k))return _=N(R(k),_),new w(R(_.g),R(_.h));if(S(_))return _=N(k,R(_)),new w(R(_.g),_.h);if(30<k.g.length){if(S(k)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=_;0>=A.l(k);)I=O(I),A=O(A);var b=M(I,1),D=M(A,1);for(A=M(A,2),I=M(I,2);!T(A);){var C=D.add(A);0>=C.l(k)&&(b=b.add(I),D=C),A=M(A,1),I=M(I,1)}return _=x(k,b.j(_)),new w(b,_)}for(b=d;0<=k.l(_);){for(I=Math.max(1,Math.floor(k.m()/_.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(I),C=D.j(_);S(C)||0<C.l(k);)I-=A,D=c(I),C=D.j(_);T(D)&&(D=m),b=b.add(D),k=x(k,C)}return new w(b,k)}t.A=function(k){return N(this,k).h},t.and=function(k){for(var _=Math.max(this.g.length,k.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)&k.i(A);return new o(I,this.h&k.h)},t.or=function(k){for(var _=Math.max(this.g.length,k.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)|k.i(A);return new o(I,this.h|k.h)},t.xor=function(k){for(var _=Math.max(this.g.length,k.g.length),I=[],A=0;A<_;A++)I[A]=this.i(A)^k.i(A);return new o(I,this.h^k.h)};function O(k){for(var _=k.g.length+1,I=[],A=0;A<_;A++)I[A]=k.i(A)<<1|k.i(A-1)>>>31;return new o(I,k.h)}function M(k,_){var I=_>>5;_%=32;for(var A=k.g.length-I,b=[],D=0;D<A;D++)b[D]=0<_?k.i(D+I)>>>_|k.i(D+I+1)<<32-_:k.i(D+I);return new o(b,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ki=o}).apply(typeof L_<"u"?L_:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xI,Qo,EI,Ou,vp,TI,II,SI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var E=0;E<u.length-1;E++){var V=u[E];if(!(V in g))break e;g=g[V]}u=u[u.length-1],E=g[u],f=f(E),f!=E&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,E=!1,V={next:function(){if(!E&&g<u.length){var L=g++;return{value:f(L,u[L]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function h(u,f,g){return u.call.apply(u.bind,arguments)}function d(u,f,g){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),u.apply(f,V)}}return function(){return u.apply(f,arguments)}}function m(u,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function y(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function T(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(E,V,L){for(var z=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)z[ye-2]=arguments[ye];return f.prototype[V].apply(E,z)}}function S(u){const f=u.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=u[E];return g}return[]}function R(u,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(l(E)){const V=u.length||0,L=E.length||0;u.length=V+L;for(let z=0;z<L;z++)u[V+z]=E[z]}else u.push(E)}}class x{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(u){return/^[\s\xa0]*$/.test(u)}function w(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function M(u,f,g){for(const E in u)f.call(g,u[E],E,u)}function k(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function _(u){const f={};for(const g in u)f[g]=u[g];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,f){let g,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(g in E)u[g]=E[g];for(let L=0;L<I.length;L++)g=I[L],Object.prototype.hasOwnProperty.call(E,g)&&(u[g]=E[g])}}function b(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function D(u){a.setTimeout(()=>{throw u},0)}function C(){var u=G;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class pe{constructor(){this.h=this.g=null}add(f,g){const E=Ke.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var Ke=new x(()=>new we,u=>u.reset());class we{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,$=!1,G=new pe,Z=()=>{const u=a.Promise.resolve(void 0);re=()=>{u.then(Q)}};var Q=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(g){D(g)}var f=Ke;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}$=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function Fe(u,f){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(O){e:{try{N(f.nodeName);var V=!0;break e}catch{}V=!1}V||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ge[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Fe.aa.h.call(this)}}T(Fe,fe);var Ge={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),ri=0;function ii(u,f,g,E,V){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=V,this.key=++ri,this.da=this.fa=!1}function ln(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u){this.src=u,this.g={},this.h=0}Vt.prototype.add=function(u,f,g,E,V){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var z=co(u,f,E,V);return-1<z?(f=u[z],g||(f.fa=!1)):(f=new ii(f,this.src,L,!!E,V),f.fa=g,u.push(f)),f};function Zi(u,f){var g=f.type;if(g in u.g){var E=u.g[g],V=Array.prototype.indexOf.call(E,f,void 0),L;(L=0<=V)&&Array.prototype.splice.call(E,V,1),L&&(ln(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function co(u,f,g,E){for(var V=0;V<u.length;++V){var L=u[V];if(!L.da&&L.listener==f&&L.capture==!!g&&L.ha==E)return V}return-1}var ho="closure_lm_"+(1e6*Math.random()|0),fo={};function Il(u,f,g,E,V){if(Array.isArray(f)){for(var L=0;L<f.length;L++)Il(u,f[L],g,E,V);return null}return g=Sl(g),u&&u[It]?u.K(f,g,c(E)?!!E.capture:!1,V):Fh(u,f,g,!1,E,V)}function Fh(u,f,g,E,V,L){if(!f)throw Error("Invalid event type");var z=c(V)?!!V.capture:!!V,ye=po(u);if(ye||(u[ho]=ye=new Vt(u)),g=ye.add(f,g,E,z,L),g.proxy)return g;if(E=Uh(),g.proxy=E,E.src=u,E.listener=g,u.addEventListener)ht||(V=z),V===void 0&&(V=!1),u.addEventListener(f.toString(),E,V);else if(u.attachEvent)u.attachEvent(Ue(f.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Uh(){function u(g){return f.call(u.src,u.listener,g)}const f=si;return u}function ie(u,f,g,E,V){if(Array.isArray(f))for(var L=0;L<f.length;L++)ie(u,f[L],g,E,V);else E=c(E)?!!E.capture:!!E,g=Sl(g),u&&u[It]?(u=u.i,f=String(f).toString(),f in u.g&&(L=u.g[f],g=co(L,g,E,V),-1<g&&(ln(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[f],u.h--)))):u&&(u=po(u))&&(f=u.g[f.toString()],u=-1,f&&(u=co(f,g,E,V)),(g=-1<u?f[u]:null)&&ke(g))}function ke(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[It])Zi(f.i,u);else{var g=u.type,E=u.proxy;f.removeEventListener?f.removeEventListener(g,E,u.capture):f.detachEvent?f.detachEvent(Ue(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=po(f))?(Zi(g,u),g.h==0&&(g.src=null,f[ho]=null)):ln(u)}}}function Ue(u){return u in fo?fo[u]:fo[u]="on"+u}function si(u,f){if(u.da)u=!0;else{f=new Fe(f,this);var g=u.listener,E=u.ha||u.src;u.fa&&ke(u),u=g.call(E,f)}return u}function po(u){return u=u[ho],u instanceof Vt?u:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(f){return u.handleEvent(f)}),u[mo])}function Be(){le.call(this),this.i=new Vt(this),this.M=this,this.F=null}T(Be,le),Be.prototype[It]=!0,Be.prototype.removeEventListener=function(u,f,g,E){ie(this,u,f,g,E)};function St(u,f){var g,E=u.F;if(E)for(g=[];E;E=E.F)g.push(E);if(u=u.M,E=f.type||f,typeof f=="string")f=new fe(f,u);else if(f instanceof fe)f.target=f.target||u;else{var V=f;f=new fe(E,u),A(f,V)}if(V=!0,g)for(var L=g.length-1;0<=L;L--){var z=f.g=g[L];V=kl(z,E,!0,f)&&V}if(z=f.g=u,V=kl(z,E,!0,f)&&V,V=kl(z,E,!1,f)&&V,g)for(L=0;L<g.length;L++)z=f.g=g[L],V=kl(z,E,!1,f)&&V}Be.prototype.N=function(){if(Be.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],E=0;E<g.length;E++)ln(g[E]);delete u.g[f],u.h--}}this.F=null},Be.prototype.K=function(u,f,g,E){return this.i.add(String(u),f,!1,g,E)},Be.prototype.L=function(u,f,g,E){return this.i.add(String(u),f,!0,g,E)};function kl(u,f,g,E){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var V=!0,L=0;L<f.length;++L){var z=f[L];if(z&&!z.da&&z.capture==g){var ye=z.listener,st=z.ha||z.src;z.fa&&Zi(u.i,z),V=ye.call(st,E)!==!1&&V}}return V&&!E.defaultPrevented}function cy(u,f,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function hy(u){u.g=cy(()=>{u.g=null,u.i&&(u.i=!1,hy(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class uA extends le{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:hy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function go(u){le.call(this),this.h=u,this.g={}}T(go,le);var dy=[];function fy(u){M(u.g,function(f,g){this.g.hasOwnProperty(g)&&ke(f)},u),u.g={}}go.prototype.N=function(){go.aa.N.call(this),fy(this)},go.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=a.JSON.stringify,cA=a.JSON.parse,hA=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function $h(){}$h.prototype.h=null;function py(u){return u.h||(u.h=u.i())}function my(){}var yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zh(){fe.call(this,"d")}T(zh,fe);function Hh(){fe.call(this,"c")}T(Hh,fe);var oi={},gy=null;function Al(){return gy=gy||new Be}oi.La="serverreachability";function yy(u){fe.call(this,oi.La,u)}T(yy,fe);function vo(u){const f=Al();St(f,new yy(f))}oi.STAT_EVENT="statevent";function vy(u,f){fe.call(this,oi.STAT_EVENT,u),this.stat=f}T(vy,fe);function kt(u){const f=Al();St(f,new vy(f,u))}oi.Ma="timingevent";function _y(u,f){fe.call(this,oi.Ma,u),this.size=f}T(_y,fe);function _o(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function dA(u,f,g,E,V,L){u.info(function(){if(u.g)if(L)for(var z="",ye=L.split("&"),st=0;st<ye.length;st++){var he=ye[st].split("=");if(1<he.length){var dt=he[0];he=he[1];var ft=dt.split("_");z=2<=ft.length&&ft[1]=="type"?z+(dt+"="+he+"&"):z+(dt+"=redacted&")}}else z=null;else z=L;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+f+`
`+g+`
`+z})}function fA(u,f,g,E,V,L,z){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+f+`
`+g+`
`+L+" "+z})}function es(u,f,g,E){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+mA(u,g)+(E?" "+E:"")})}function pA(u,f){u.info(function(){return"TIMEOUT: "+f})}wo.prototype.info=function(){};function mA(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var E=g[u];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var z=1;z<V.length;z++)V[z]=""}}}}return Bh(g)}catch{return f}}var Pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wh;function Cl(){}T(Cl,$h),Cl.prototype.g=function(){return new XMLHttpRequest},Cl.prototype.i=function(){return{}},Wh=new Cl;function yr(u,f,g,E){this.j=u,this.i=f,this.l=g,this.R=E||1,this.U=new go(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var Ey={},qh={};function Kh(u,f,g){u.L=1,u.v=Dl(Ln(f)),u.m=g,u.P=!0,Ty(u,null)}function Ty(u,f){u.F=Date.now(),Rl(u),u.A=Ln(u.v);var g=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),My(g.i,"t",E),u.C=0,g=u.j.J,u.h=new xy,u.g=tv(u.j,g?f:null,!u.m),0<u.O&&(u.M=new uA(m(u.Y,u,u.g),u.O)),f=u.U,g=u.g,E=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(dy[0]=V.toString()),V=dy);for(var L=0;L<V.length;L++){var z=Il(g,V[L],E||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),vo(),dA(u.i,u.u,u.A,u.l,u.R,u.m)}yr.prototype.ca=function(u){u=u.target;const f=this.M;f&&Mn(u)==3?f.j():this.Y(u)},yr.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Mn(this.g);var f=this.g.Ba();const rs=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||ft!=4||f==7||(f==8||0>=rs?vo(3):vo(2)),Gh(this);var g=this.g.Z();this.X=g;t:if(Iy(this)){var E=Hy(this.g);u="";var V=E.length,L=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),xo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<V;f++)this.h.h=!0,u+=this.h.i.decode(E[f],{stream:!(L&&f==V-1)});E.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=g==200,fA(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,st=this.g;if((ye=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ye)){var he=ye;break t}}he=null}if(g=he)es(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,g);else{this.o=!1,this.s=3,kt(12),ai(this),xo(this);break e}}if(this.P){g=!0;let un;for(;!this.J&&this.C<z.length;)if(un=gA(this,z),un==qh){ft==4&&(this.s=4,kt(14),g=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(un==Ey){this.s=4,kt(15),es(this.i,this.l,z,"[Invalid Chunk]"),g=!1;break}else es(this.i,this.l,un,null),Qh(this,un);if(Iy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||z.length!=0||this.h.h||(this.s=1,kt(16),g=!1),this.o=this.o&&g,!g)es(this.i,this.l,z,"[Invalid Chunked Response]"),ai(this),xo(this);else if(0<z.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),td(dt),dt.M=!0,kt(11))}}else es(this.i,this.l,z,null),Qh(this,z);ft==4&&ai(this),this.o&&!this.J&&(ft==4?Xy(this.j,this):(this.o=!1,Rl(this)))}else DA(this.g),g==400&&0<z.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ai(this),xo(this)}}}catch{}finally{}};function Iy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gA(u,f){var g=u.C,E=f.indexOf(`
`,g);return E==-1?qh:(g=Number(f.substring(g,E)),isNaN(g)?Ey:(E+=1,E+g>f.length?qh:(f=f.slice(E,E+g),u.C=E+g,f)))}yr.prototype.cancel=function(){this.J=!0,ai(this)};function Rl(u){u.S=Date.now()+u.I,Sy(u,u.I)}function Sy(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_o(m(u.ba,u),f)}function Gh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}yr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pA(this.i,this.A),this.L!=2&&(vo(),kt(17)),ai(this),this.s=2,xo(this)):Sy(this,this.S-u)};function xo(u){u.j.G==0||u.J||Xy(u.j,u)}function ai(u){Gh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,fy(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Qh(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Yh(g.h,u))){if(!u.K&&Yh(g.h,u)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Fl(g),Ml(g);else break e;ed(g),kt(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=_o(m(g.Za,g),6e3));if(1>=Py(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ui(g,11)}else if((u.K||g.g==u)&&Fl(g),!v(f))for(V=g.Da.g.parse(f),f=0;f<V.length;f++){let he=V[f];if(g.T=he[0],he=he[1],g.G==2)if(he[0]=="c"){g.K=he[1],g.ia=he[2];const dt=he[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ft=he[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const rs=he[5];rs!=null&&typeof rs=="number"&&0<rs&&(E=1.5*rs,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const un=u.g;if(un){const Bl=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var L=E.h;L.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Xh(L,L.h),L.h=null))}if(E.D){const nd=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(E.ya=nd,xe(E.I,E.D,nd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var z=u;if(E.qa=ev(E,E.J?E.ia:null,E.W),z.K){Cy(E.h,z);var ye=z,st=E.L;st&&(ye.I=st),ye.B&&(Gh(ye),Rl(ye)),E.g=z}else Qy(E);0<g.i.length&&jl(g)}else he[0]!="stop"&&he[0]!="close"||ui(g,7);else g.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?ui(g,7):Zh(g):he[0]!="noop"&&g.l&&g.l.ta(he),g.v=0)}}vo(4)}catch{}}var yA=class{constructor(u,f){this.g=u,this.map=f}};function ky(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ay(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Py(u){return u.h?1:u.g?u.g.size:0}function Yh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Xh(u,f){u.g?u.g.add(f):u.h=f}function Cy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}ky.prototype.cancel=function(){if(this.i=Ry(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ry(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return S(u.i)}function vA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,E=0;E<g;E++)f.push(u[E]);return f}f=[],g=0;for(E in u)f[g++]=u[E];return f}function _A(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const E in u)f[g++]=E;return f}}}function by(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=_A(u),E=vA(u),V=E.length,L=0;L<V;L++)f.call(void 0,E[L],g&&g[L],u)}var Ny=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wA(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var E=u[g].indexOf("="),V=null;if(0<=E){var L=u[g].substring(0,E);V=u[g].substring(E+1)}else L=u[g];f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function li(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof li){this.h=u.h,bl(this,u.j),this.o=u.o,this.g=u.g,Nl(this,u.s),this.l=u.l;var f=u.i,g=new Io;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Dy(this,g),this.m=u.m}else u&&(f=String(u).match(Ny))?(this.h=!1,bl(this,f[1]||"",!0),this.o=Eo(f[2]||""),this.g=Eo(f[3]||"",!0),Nl(this,f[4]),this.l=Eo(f[5]||"",!0),Dy(this,f[6]||"",!0),this.m=Eo(f[7]||"")):(this.h=!1,this.i=new Io(null,this.h))}li.prototype.toString=function(){var u=[],f=this.j;f&&u.push(To(f,Vy,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(To(f,Vy,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(To(g,g.charAt(0)=="/"?TA:EA,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",To(g,SA)),u.join("")};function Ln(u){return new li(u)}function bl(u,f,g){u.j=g?Eo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Nl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Dy(u,f,g){f instanceof Io?(u.i=f,kA(u.i,u.h)):(g||(f=To(f,IA)),u.i=new Io(f,u.h))}function xe(u,f,g){u.i.set(f,g)}function Dl(u){return xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Eo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function To(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,xA),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vy=/[#\/\?@]/g,EA=/[#\?:]/g,TA=/[#\?]/g,IA=/[#\?@]/g,SA=/#/g;function Io(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function vr(u){u.g||(u.g=new Map,u.h=0,u.i&&wA(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Io.prototype,t.add=function(u,f){vr(this),this.i=null,u=ts(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function Oy(u,f){vr(u),f=ts(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Ly(u,f){return vr(u),f=ts(u,f),u.g.has(f)}t.forEach=function(u,f){vr(this),this.g.forEach(function(g,E){g.forEach(function(V){u.call(f,V,E,this)},this)},this)},t.na=function(){vr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const V=u[E];for(let L=0;L<V.length;L++)g.push(f[E])}return g},t.V=function(u){vr(this);let f=[];if(typeof u=="string")Ly(this,u)&&(f=f.concat(this.g.get(ts(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return vr(this),this.i=null,u=ts(this,u),Ly(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function My(u,f,g){Oy(u,f),0<g.length&&(u.i=null,u.g.set(ts(u,f),S(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const L=encodeURIComponent(String(E)),z=this.V(E);for(E=0;E<z.length;E++){var V=L;z[E]!==""&&(V+="="+encodeURIComponent(String(z[E]))),u.push(V)}}return this.i=u.join("&")};function ts(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function kA(u,f){f&&!u.j&&(vr(u),u.i=null,u.g.forEach(function(g,E){var V=E.toLowerCase();E!=V&&(Oy(this,E),My(this,V,g))},u)),u.j=f}function AA(u,f){const g=new wo;if(a.Image){const E=new Image;E.onload=y(_r,g,"TestLoadImage: loaded",!0,f,E),E.onerror=y(_r,g,"TestLoadImage: error",!1,f,E),E.onabort=y(_r,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=y(_r,g,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else f(!1)}function PA(u,f){const g=new wo,E=new AbortController,V=setTimeout(()=>{E.abort(),_r(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:E.signal}).then(L=>{clearTimeout(V),L.ok?_r(g,"TestPingServer: ok",!0,f):_r(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(V),_r(g,"TestPingServer: error",!1,f)})}function _r(u,f,g,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(g)}catch{}}function CA(){this.g=new hA}function RA(u,f,g){const E=g||"";try{by(u,function(V,L){let z=V;c(V)&&(z=Bh(V)),f.push(E+L+"="+encodeURIComponent(z))})}catch(V){throw f.push(E+"type="+encodeURIComponent("_badmap")),V}}function Vl(u){this.l=u.Ub||null,this.j=u.eb||!1}T(Vl,$h),Vl.prototype.g=function(){return new Ol(this.l,this.j)},Vl.prototype.i=function(u){return function(){return u}}({});function Ol(u,f){Be.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ol,Be),t=Ol.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,ko(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?So(this):ko(this),this.readyState==3&&jy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,So(this))},t.Qa=function(u){this.g&&(this.response=u,So(this))},t.ga=function(){this.g&&So(this)};function So(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ko(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function ko(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fy(u){let f="";return M(u,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Jh(u,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Fy(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):xe(u,f,g))}function De(u){Be.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(De,Be);var bA=/^https?$/i,NA=["POST","PUT"];t=De.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wh.g(),this.v=this.o?py(this.o):py(Wh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(L){Uy(this,L);return}if(u=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)g.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const L of E.keys())g.set(L,E.get(L));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NA,f,void 0))||E||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of g)this.g.setRequestHeader(L,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zy(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){Uy(this,L)}};function Uy(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,By(u),Ll(u)}function By(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$y(this):this.bb())},t.bb=function(){$y(this)};function $y(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Mn(u)!=4||u.Z()!=2)){if(u.u&&Mn(u)==4)cy(u.Ea,0,u);else if(St(u,"readystatechange"),Mn(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=z===0){var V=String(u.D).match(Ny)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),E=!bA.test(V?V.toLowerCase():"")}g=E}if(g)St(u,"complete"),St(u,"success");else{u.m=6;try{var L=2<Mn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",By(u)}}finally{Ll(u)}}}}function Ll(u,f){if(u.g){zy(u);const g=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||St(u,"ready");try{g.onreadystatechange=E}catch{}}}function zy(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Mn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),cA(f)}};function Hy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function DA(u){const f={};u=(u.g&&2<=Mn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(v(u[E]))continue;var g=b(u[E]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=f[V]||[];f[V]=L,L.push(g)}k(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function Wy(u){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,u),this.cb=Ao("retryDelaySeedMs",1e4,u),this.Wa=Ao("forwardChannelMaxRetries",2,u),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ky(u&&u.concurrentRequestLimit),this.Da=new CA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wy.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,E){kt(0),this.W=u,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=ev(this,null,this.W),jl(this)};function Zh(u){if(qy(u),u.G==3){var f=u.U++,g=Ln(u.I);if(xe(g,"SID",u.K),xe(g,"RID",f),xe(g,"TYPE","terminate"),Po(u,g),f=new yr(u,u.j,f),f.L=2,f.v=Dl(Ln(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=tv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Rl(f)}Zy(u)}function Ml(u){u.g&&(td(u),u.g.cancel(),u.g=null)}function qy(u){Ml(u),u.u&&(a.clearTimeout(u.u),u.u=null),Fl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function jl(u){if(!Ay(u.h)&&!u.s){u.s=!0;var f=u.Ga;re||Z(),$||(re(),$=!0),G.add(f,u),u.B=0}}function VA(u,f){return Py(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_o(m(u.Ga,u,f),Jy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new yr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=_(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Gy(this,V,f),g=Ln(this.I),xe(g,"RID",u),xe(g,"CVER",22),this.D&&xe(g,"X-HTTP-Session-Id",this.D),Po(this,g),L&&(this.O?f="headers="+encodeURIComponent(String(Fy(L)))+"&"+f:this.m&&Jh(g,this.m,L)),Xh(this.h,V),this.Ua&&xe(g,"TYPE","init"),this.P?(xe(g,"$req",f),xe(g,"SID","null"),V.T=!0,Kh(V,g,null)):Kh(V,g,f),this.G=2}}else this.G==3&&(u?Ky(this,u):this.i.length==0||Ay(this.h)||Ky(this))};function Ky(u,f){var g;f?g=f.l:g=u.U++;const E=Ln(u.I);xe(E,"SID",u.K),xe(E,"RID",g),xe(E,"AID",u.T),Po(u,E),u.m&&u.o&&Jh(E,u.m,u.o),g=new yr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Gy(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xh(u.h,g),Kh(g,E,f)}function Po(u,f){u.H&&M(u.H,function(g,E){xe(f,E,g)}),u.l&&by({},function(g,E){xe(f,E,g)})}function Gy(u,f,g){g=Math.min(u.i.length,g);var E=u.l?m(u.l.Na,u.l,u):null;e:{var V=u.i;let L=-1;for(;;){const z=["count="+g];L==-1?0<g?(L=V[0].g,z.push("ofs="+L)):L=0:z.push("ofs="+L);let ye=!0;for(let st=0;st<g;st++){let he=V[st].g;const dt=V[st].map;if(he-=L,0>he)L=Math.max(0,V[st].g-100),ye=!1;else try{RA(dt,z,"req"+he+"_")}catch{E&&E(dt)}}if(ye){E=z.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,E}function Qy(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;re||Z(),$||(re(),$=!0),G.add(f,u),u.v=0}}function ed(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_o(m(u.Fa,u),Jy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Yy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_o(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Ml(this),Yy(this))};function td(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Yy(u){u.g=new yr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Ln(u.qa);xe(f,"RID","rpc"),xe(f,"SID",u.K),xe(f,"AID",u.T),xe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&xe(f,"TO",u.ja),xe(f,"TYPE","xmlhttp"),Po(u,f),u.m&&u.o&&Jh(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Dl(Ln(f)),g.m=null,g.P=!0,Ty(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),ed(this),kt(19))};function Fl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Xy(u,f){var g=null;if(u.g==f){Fl(u),td(u),u.g=null;var E=2}else if(Yh(u.h,f))g=f.D,Cy(u.h,f),E=1;else return;if(u.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var V=u.B;E=Al(),St(E,new _y(E,g)),jl(u)}else Qy(u);else if(V=f.s,V==3||V==0&&0<f.X||!(E==1&&VA(u,f)||E==2&&ed(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),V){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function Jy(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function ui(u,f){if(u.j.info("Error code "+f),f==2){var g=m(u.fb,u),E=u.Xa;const V=!E;E=new li(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bl(E,"https"),Dl(E),V?AA(E.toString(),g):PA(E.toString(),g)}else kt(2);u.G=0,u.l&&u.l.sa(f),Zy(u),qy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Zy(u){if(u.G=0,u.ka=[],u.l){const f=Ry(u.h);(f.length!=0||u.i.length!=0)&&(R(u.ka,f),R(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function ev(u,f,g){var E=g instanceof li?Ln(g):new li(g);if(E.g!="")f&&(E.g=f+"."+E.g),Nl(E,E.s);else{var V=a.location;E=V.protocol,f=f?f+"."+V.hostname:V.hostname,V=+V.port;var L=new li(null);E&&bl(L,E),f&&(L.g=f),V&&Nl(L,V),g&&(L.l=g),E=L}return g=u.D,f=u.ya,g&&f&&xe(E,g,f),xe(E,"VER",u.la),Po(u,E),E}function tv(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new De(new Vl({eb:g})):new De(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nv(){}t=nv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ul(){}Ul.prototype.g=function(u,f){return new $t(u,f)};function $t(u,f){Be.call(this),this.g=new Wy(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!v(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new ns(this)}T($t,Be),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Zh(this.g)},$t.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Bh(u),u=g);f.i.push(new yA(f.Ya++,u)),f.G==3&&jl(f)},$t.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,$t.aa.N.call(this)};function rv(u){zh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}T(rv,zh);function iv(){Hh.call(this),this.status=1}T(iv,Hh);function ns(u){this.g=u}T(ns,nv),ns.prototype.ua=function(){St(this.g,"a")},ns.prototype.ta=function(u){St(this.g,new rv(u))},ns.prototype.sa=function(u){St(this.g,new iv)},ns.prototype.ra=function(){St(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,SI=function(){return new Ul},II=function(){return Al()},TI=oi,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,Ou=Pl,wy.COMPLETE="complete",EI=wy,my.EventType=yo,yo.OPEN="a",yo.CLOSE="b",yo.ERROR="c",yo.MESSAGE="d",Be.prototype.listen=Be.prototype.K,Qo=my,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,xI=De}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const M_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new yh("@firebase/firestore");function Uo(){return Di.logLevel}function q(t,...e){if(Di.logLevel<=ae.DEBUG){const n=e.map(pg);Di.debug(`Firestore (${so}): ${t}`,...n)}}function ur(t,...e){if(Di.logLevel<=ae.ERROR){const n=e.map(pg);Di.error(`Firestore (${so}): ${t}`,...n)}}function Vi(t,...e){if(Di.logLevel<=ae.WARN){const n=e.map(pg);Di.warn(`Firestore (${so}): ${t}`,...n)}}function pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function ge(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends En{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class fL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pL{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new kI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new vt(e)}}class mL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ge(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new yL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_L(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function de(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new qe(0,0))}static max(){return new te(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Ba{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const wL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Ba{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return wL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Te.fromString(e))}static fromName(e){return new K(Te.fromString(e).popFirst(5))}static empty(){return new K(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Te(e.slice()))}}function xL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Qr(i,K.empty(),e)}function EL(t){return new Qr(t.readTime,t.key,-1)}class Qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qr(te.min(),K.empty(),-1)}static max(){return new Qr(te.max(),K.empty(),-1)}}function TL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==IL)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gg.oe=-1;function vh(t){return t==null}function Ac(t){return t===0&&1/t==-1/0}function AL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ac(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new ut(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CI("Invalid base64 string: "+s):s}}(e);return new it(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const PL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(ge(!!t),typeof t=="string"){let e=0;const n=PL.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vg(t){const e=t.mapValue.fields.__previous_value__;return yg(e)?vg(e):e}function $a(t){const e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ks{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ks("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ks&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yg(t)?4:bL(t)?9007199254740991:RL(t)?10:11:J()}function Vn(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Oi(i.bytesValue).isEqual(Oi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?Ac(o)===Ac(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(j_(o)!==j_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vn(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function za(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=Li(t),r=Li(e);if(n!==r)return de(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U_(t.timestampValue,e.timestampValue);case 4:return U_($a(t),$a(e));case 5:return de(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Oi(s),l=Oi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=de(a[c],l[c]);if(h!==0)return h}return de(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=de(Le(s.latitude),Le(o.latitude));return a!==0?a:de(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const d=s.fields||{},m=o.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,T=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=de(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:B_(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===du.mapValue&&o===du.mapValue)return 0;if(s===du.mapValue)return 1;if(o===du.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=de(l[d],h[d]);if(m!==0)return m;const y=Gs(a[l[d]],c[h[d]]);if(y!==0)return y}return de(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function U_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Yr(t),r=Yr(e),i=de(n.seconds,r.seconds);return i!==0?i:de(n.nanos,r.nanos)}function B_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Gs(n[i],r[i]);if(s)return s}return de(n.length,r.length)}function Qs(t){return _p(t)}function _p(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_p(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_p(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function $_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wp(t){return!!t&&"integerValue"in t}function _g(t){return!!t&&"arrayValue"in t}function z_(t){return!!t&&"nullValue"in t}function H_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lu(t){return!!t&&"mapValue"in t}function RL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(ha(this.value))}}function RI(t){const e=[];return oo(t.fields,(n,r)=>{const i=new nt([n]);if(Lu(r)){const s=RI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,te.min(),te.min(),te.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,te.min(),te.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,te.min(),te.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.position=e,this.inclusive=n}}function W_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function NL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{}class We extends bI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VL(e,n,r):n==="array-contains"?new ML(e,r):n==="in"?new jL(e,r):n==="not-in"?new FL(e,r):n==="array-contains-any"?new UL(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OL(e,r):new LL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends bI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xn(e,n)}matches(e){return NI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NI(t){return t.op==="and"}function DI(t){return DL(t)&&NI(t)}function DL(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function xp(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Qs(t.value);if(DI(t))return t.filters.map(e=>xp(e)).join(",");{const e=t.filters.map(n=>xp(n)).join(",");return`${t.op}(${e})`}}function VI(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof xn?function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&VI(o,i.filters[a]),!0):!1}(t,e):void J()}function OI(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(OI).join(" ,")+"}"}(t):"Filter"}class VL extends We{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class OL extends We{constructor(e,n){super(e,"in",n),this.keys=LI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LL extends We{constructor(e,n){super(e,"not-in",n),this.keys=LI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class ML extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&za(n.arrayValue,this.value)}}class jL extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class FL extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class UL extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function K_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BL(t,e,n,r,i,s,o)}function wg(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qs(r)).join(",")),e.ue=n}return e.ue}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function Ep(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $L(t,e,n,r,i,s,o,a){return new fl(t,e,n,r,i,s,o,a)}function Eg(t){return new fl(t)}function G_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MI(t){return t.collectionGroup!==null}function da(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cc(s,r))}),n.has(nt.keyField().canonicalString())||e.ce.push(new Cc(nt.keyField(),r))}return e.ce}function Cn(t){const e=ne(t);return e.le||(e.le=zL(e,da(t))),e.le}function zL(t,e){if(t.limitType==="F")return K_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cc(i.field,s)});const n=t.endAt?new Pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pc(t.startAt.position,t.startAt.inclusive):null;return K_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tp(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return xg(Cn(t),Cn(e))&&t.limitType===e.limitType}function jI(t){return`${wg(Cn(t))}|lt:${t.limitType}`}function ss(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OI(i)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qs(i)).join(",")),`Target(${r})`}(Cn(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of da(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=W_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,da(r),i)||r.endAt&&!function(o,a,l){const c=W_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,da(r),i))}(t,e)}function HL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FI(t){return(e,n)=>{let r=!1;for(const i of da(t)){const s=WL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WL(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Gs(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=new Ne(K.comparator);function cr(){return qL}const UI=new Ne(K.comparator);function Yo(...t){let e=UI;for(const n of t)e=e.insert(n.key,n);return e}function BI(t){let e=UI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return fa()}function $I(){return fa()}function fa(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const KL=new Ne(K.comparator),GL=new ut(K.comparator);function oe(...t){let e=GL;for(const n of t)e=e.add(n);return e}const QL=new ut(de);function YL(){return QL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function zI(t){return{integerValue:""+t}}function XL(t,e){return AL(e)?zI(e):Tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function JL(t,e,n){return t instanceof Rc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yg(s)&&(s=vg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ha?WI(t,e):t instanceof Wa?qI(t,e):function(i,s){const o=HI(i,s),a=Q_(o)+Q_(i.Pe);return wp(o)&&wp(i.Pe)?zI(a):Tg(i.serializer,a)}(t,e)}function ZL(t,e,n){return t instanceof Ha?WI(t,e):t instanceof Wa?qI(t,e):n}function HI(t,e){return t instanceof bc?function(r){return wp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rc extends xh{}class Ha extends xh{constructor(e){super(),this.elements=e}}function WI(t,e){const n=KI(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wa extends xh{constructor(e){super(),this.elements=e}}function qI(t,e){let n=KI(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class bc extends xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q_(t){return Le(t.integerValue||t.doubleValue)}function KI(t){return _g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ha&&i instanceof Ha||r instanceof Wa&&i instanceof Wa?qs(r.elements,i.elements,Vn):r instanceof bc&&i instanceof bc?Vn(r.Pe,i.Pe):r instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class tM{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function GI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YI(t.key,Zn.none()):new pl(t.key,t.data,Zn.none());{const n=t.data,r=tn.empty();let i=new ut(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Gi(t.key,r,new mn(i.toArray()),Zn.none())}}function nM(t,e,n){t instanceof pl?function(i,s,o){const a=i.value.clone(),l=X_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gi?function(i,s,o){if(!Mu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=X_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pa(t,e,n,r){return t instanceof pl?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const c=s.value.clone(),h=J_(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gi?function(s,o,a,l){if(!Mu(s.precondition,o))return a;const c=J_(s.fieldTransforms,l,o),h=o.data;return h.setAll(QI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=HI(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function Y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>eM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pl extends Eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gi extends Eh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X_(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZL(o,a,n[i]))}return r}function J_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JL(s,o,e))}return r}class YI extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iM extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$I();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=GI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>Y_(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>Y_(n,r))}}class Ig{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=function(){return KL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ig(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,ue;function lM(t){switch(t){default:return J();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function XI(t){if(t===void 0)return ur("GRPC error has no .code"),j.UNKNOWN;switch(t){case $e.OK:return j.OK;case $e.CANCELLED:return j.CANCELLED;case $e.UNKNOWN:return j.UNKNOWN;case $e.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case $e.INTERNAL:return j.INTERNAL;case $e.UNAVAILABLE:return j.UNAVAILABLE;case $e.UNAUTHENTICATED:return j.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case $e.NOT_FOUND:return j.NOT_FOUND;case $e.ALREADY_EXISTS:return j.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return j.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case $e.ABORTED:return j.ABORTED;case $e.OUT_OF_RANGE:return j.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return j.UNIMPLEMENTED;case $e.DATA_LOSS:return j.DATA_LOSS;default:return J()}}(ue=$e||($e={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new ki([4294967295,4294967295],0);function Z_(t){const e=uM().encode(t),n=new wI;return n.update(e),new Uint8Array(n.digest())}function ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ki([n,r],0),new ki([i,s],0)]}class Sg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ki.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ki.fromNumber(r)));return i.compare(cM)===1&&(i=new ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Z_(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Sg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Z_(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(te.min(),i,new Ne(de),cr(),oe())}}class ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ml(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class JI{constructor(e,n){this.targetId=e,this.me=n}}class ZI{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.fe=0,this.ge=rw(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new ml(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hM{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=nw(),this.Qe=new Ne(de)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ep(s))if(r===0){const o=new K(s.path);this.Ue(n,o,wt.newNoDocument(o,te.min()))}else ge(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Oi(r).toUint8Array()}catch(l){if(l instanceof CI)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Sg(o,i,s)}catch(l){return Vi(l instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ep(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,wt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Th(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=nw(),this.Qe=new Ne(de),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(de),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nw(){return new Ne(K.comparator)}function rw(){return new Ne(K.comparator)}const dM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pM={and:"AND",or:"OR"};class mM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sp(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gM(t,e){return Nc(t,e.toTimestamp())}function Rn(t){return ge(!!t),te.fromTimestamp(function(n){const r=Yr(n);return new qe(r.seconds,r.nanos)}(t))}function kg(t,e){return kp(t,e).canonicalString()}function kp(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){const e=Te.fromString(t);return ge(oS(e)),e}function Ap(t,e){return kg(t.databaseId,e.path)}function Yd(t,e){const n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(rS(n))}function nS(t,e){return kg(t.databaseId,e)}function yM(t){const e=tS(t);return e.length===4?Te.emptyPath():rS(e)}function Pp(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iw(t,e,n){return{name:Ap(t,e),fields:n.value.mapValue.fields}}function vM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string"),it.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array),it.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?j.UNKNOWN:XI(c.code);return new W(h,c.message||"")}(o);n=new ZI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yd(t,r.document.name),s=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):te.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ju(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yd(t,r.document),s=r.readTime?Rn(r.readTime):te.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yd(t,r.document),s=r.removedTargetIds||[];n=new ju([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aM(i,s),a=r.targetId;n=new JI(a,o)}}return n}function _M(t,e){let n;if(e instanceof pl)n={update:iw(t,e.key,e.value)};else if(e instanceof YI)n={delete:Ap(t,e.key)};else if(e instanceof Gi)n={update:iw(t,e.key,e.data),updateMask:PM(e.fieldMask)};else{if(!(e instanceof iM))return J();n={verify:Ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function wM(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Rn(i.updateTime):Rn(s);return o.isEqual(te.min())&&(o=Rn(s)),new tM(o,i.transformResults||[])}(n,e))):[]}function xM(t,e){return{documents:[nS(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,i);const s=function(c){if(c.length!==0)return sS(xn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:os(m.field),direction:SM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function TM(t){let e=yM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const m=iS(d);return m instanceof xn&&DI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(m=>function(T){return new Cc(as(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,vh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(d){const m=!!d.before,y=d.values||[];return new Pc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const m=!d.before,y=d.values||[];return new Pc(y,m)}(n.endAt)),$L(e,i,o,s,a,"F",l,c)}function IM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=as(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=as(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=as(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=as(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return We.create(as(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(r=>iS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function SM(t){return dM[t]}function kM(t){return fM[t]}function AM(t){return pM[t]}function os(t){return{fieldPath:t.canonicalString()}}function as(t){return nt.fromServerFormat(t.fieldPath)}function sS(t){return t instanceof We?function(n){if(n.op==="=="){if(H_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NAN"}};if(z_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NAN"}};if(z_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(n.field),op:kM(n.op),value:n.value}}}(t):t instanceof xn?function(n){const r=n.getFilters().map(i=>sS(i));return r.length===1?r[0]:{compositeFilter:{op:AM(n.op),filters:r}}}(t):J()}function PM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=it.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.ct=e}}function RM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.un=new NM}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Qr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ys(0)}static kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pa(r.mutation,i,mn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Yo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr();const o=fa(),a=function(){return fa()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Gi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),pa(h.mutation,c,h.mutation.getFieldMask(),qe.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new VM(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=fa();let i=new Ne((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||mn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=$I();h.forEach(m=>{if(!s.has(m)){const y=GI(n.get(m),r.get(m));y!==null&&d.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(xi());let a=-1,l=s;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:a,changes:BI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Yo();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(d,m){return new fl(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,wt.newInvalidDocument(h)))});let a=Yo();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&pa(h.mutation,c,mn.empty(),qe.now()),wh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:RM(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.overlays=new Ne(K.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=xi(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=xi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oM(n,r));let s=this.Ir.get(n);s===void 0&&(s=oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.Tr=new ut(et.Er),this.dr=new ut(et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Te([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Te([])),r=new et(n,e),i=new et(n,e+1);let s=oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||de(e.wr,n.wr)}static Ar(e,n){return de(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(et.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(de);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new et(new K(s),0);let a=new ut(de);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new et(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Mr=e,this.docs=function(){return new Ne(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TL(EL(h),r)<=0||(i.has(h.key)||wh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BM(this)}getSize(e){return F.resolve(this.size)}}class BM extends DM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.persistence=e,this.Nr=new ao(n=>wg(n),xg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ag,this.targetCount=0,this.kr=Ys.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gg(0),this.Kr=!1,this.Kr=!0,this.$r=new jM,this.referenceDelegate=e(this),this.Ur=new $M(this),this.indexManager=new bM,this.remoteDocumentCache=function(i){return new UM(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CM(n),this.Gr=new LM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new HM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class HM extends SL{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Jr=new Ag,this.Yr=null}static Zr(e){return new Pg(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Cg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WV()?8:kL(Tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WM;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Uo()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Uo()<=ae.DEBUG&&q("QueryEngine","Query:",ss(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Uo()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cn(n))):F.resolve())}Yi(e,n){if(G_(n))return F.resolve(null);let r=Cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ip(n,null,"F"),r=Cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Ip(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return G_(n)||i.isEqual(te.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?F.resolve(null):(Uo()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ss(n)),this.rs(e,o,n,xL(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(FI(e));return n.forEach((i,s)=>{wh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Uo()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ne(de),this._s=new ao(s=>wg(s),xg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function GM(t,e,n,r){return new KM(t,e,n,r)}async function aS(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function QM(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,m=d.keys();let y=F.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(S=>{const R=c.docVersions.get(T);ge(R!==null),S.version.compareTo(R)<0&&(d.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lS(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YM(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const m=i.get(d);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(it.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(d,y),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let l=cr(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(XM(s,o,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!r.isEqual(te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function XM(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function JM(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZM(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Cp(t,e,n){const r=ne(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!dl(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function sw(t,e,n){const r=ne(t);let i=te.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=ne(l),m=d._s.get(h);return m!==void 0?F.resolve(d.os.get(m)):d.Ur.getTargetData(c,h)}(r,o,Cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:oe())).next(a=>(ej(r,HL(e),a),{documents:a,Ts:s})))}function ej(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class ow{constructor(){this.activeTargetIds=YL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tj{constructor(){this.so=new ow,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Xd(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class sj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Xd(),l=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Vi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+so}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=rj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Xd();return new Promise((o,a)=>{const l=new xI;l.setWithCredentials(!0),l.listenOnce(EI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ou.NO_ERROR:const h=l.getResponseJson();q(gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ou.TIMEOUT:q(gt,`RPC '${e}' ${s} timed out`),a(new W(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const d=l.getStatus();if(q(gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const T=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(x)>=0?x:j.UNKNOWN}(y.status);a(new W(T,y.message))}else a(new W(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(j.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q(gt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Xd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SI(),a=II(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");q(gt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1,y=!1;const T=new ij({Io:R=>{y?q(gt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(q(gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),m=!0),q(gt,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},To:()=>d.close()}),S=(R,x,v)=>{R.listen(x,w=>{try{v(w)}catch(N){setTimeout(()=>{throw N},0)}})};return S(d,Qo.EventType.OPEN,()=>{y||(q(gt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),S(d,Qo.EventType.CLOSE,()=>{y||(y=!0,q(gt,`RPC '${e}' stream ${i} transport closed`),T.So())}),S(d,Qo.EventType.ERROR,R=>{y||(y=!0,Vi(gt,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new W(j.UNAVAILABLE,"The operation could not be completed")))}),S(d,Qo.EventType.MESSAGE,R=>{var x;if(!y){const v=R.data[0];ge(!!v);const w=v,N=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(N){q(gt,`RPC '${e}' stream ${i} received error:`,N);const O=N.status;let M=function(I){const A=$e[I];if(A!==void 0)return XI(A)}(O),k=N.message;M===void 0&&(M=j.INTERNAL,k="Unknown error status: "+O+" with message "+N.message),y=!0,T.So(new W(M,k)),d.close()}else q(gt,`RPC '${e}' stream ${i} received:`,v),T.bo(v)}}),S(a,TI.STAT_EVENT,R=>{R.stat===vp.PROXY?q(gt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vp.NOPROXY&&q(gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new mM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new W(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oj extends cS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=vM(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Rn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ep(l)?{documents:xM(s,l)}:{query:EM(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eS(s,o.resumeToken);const c=Sp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Nc(s,o.snapshotVersion.toTimestamp());const c=Sp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=IM(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pp(this.serializer),n.removeTarget=e,this.a_(n)}}class aj extends cS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ge(!!e.streamToken),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wM(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_M(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,kp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(j.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,kp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class uj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ur(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.L_.add(4),await gl(c),c.q_.set("Unknown"),c.L_.delete(4),await Sh(c)}(this))})}),this.q_=new uj(r,i)}}async function Sh(t){if(Qi(t))for(const e of t.B_)await e(!0)}async function gl(t){for(const e of t.B_)await e(!1)}function hS(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Dg(n)?Ng(n):lo(n).r_()&&bg(n,e))}function Rg(t,e){const n=ne(t),r=lo(n);n.N_.delete(e),r.r_()&&dS(n,e),n.N_.size===0&&(r.r_()?r.o_():Qi(n)&&n.q_.set("Unknown"))}function bg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lo(t).A_(e)}function dS(t,e){t.Q_.xe(e),lo(t).R_(e)}function Ng(t){t.Q_=new hM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lo(t).start(),t.q_.v_()}function Dg(t){return Qi(t)&&!lo(t).n_()&&t.N_.size>0}function Qi(t){return ne(t).L_.size===0}function fS(t){t.Q_=void 0}async function hj(t){t.q_.set("Online")}async function dj(t){t.N_.forEach((e,n)=>{bg(t,e)})}async function fj(t,e){fS(t),Dg(t)?(t.q_.M_(e),Ng(t)):t.q_.set("Unknown")}async function pj(t,e,n){if(t.q_.set("Online"),e instanceof ZI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dc(t,r)}else if(e instanceof ju?t.Q_.Ke(e):e instanceof JI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await lS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(it.EMPTY_BYTE_STRING,h.snapshotVersion)),dS(s,l);const d=new Dr(h.target,l,c,h.sequenceNumber);bg(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Dc(t,r)}}async function Dc(t,e,n){if(!dl(e))throw e;t.L_.add(1),await gl(t),t.q_.set("Offline"),n||(n=()=>lS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sh(t)})}function pS(t,e){return e().catch(n=>Dc(t,n,e))}async function kh(t){const e=ne(t),n=Xr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mj(e);)try{const i=await JM(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,gj(e,i)}catch(i){await Dc(e,i)}mS(e)&&gS(e)}function mj(t){return Qi(t)&&t.O_.length<10}function gj(t,e){t.O_.push(e);const n=Xr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mS(t){return Qi(t)&&!Xr(t).n_()&&t.O_.length>0}function gS(t){Xr(t).start()}async function yj(t){Xr(t).p_()}async function vj(t){const e=Xr(t);for(const n of t.O_)e.m_(n.mutations)}async function _j(t,e,n){const r=t.O_.shift(),i=Ig.from(r,e,n);await pS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kh(t)}async function wj(t,e){e&&Xr(t).V_&&await async function(r,i){if(function(o){return lM(o)&&o!==j.ABORTED}(i.code)){const s=r.O_.shift();Xr(r).s_(),await pS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kh(r)}}(t,e),mS(t)&&gS(t)}async function lw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.L_.add(3),await gl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sh(n)}async function xj(t,e){const n=ne(t);e?(n.L_.delete(2),await Sh(n)):e||(n.L_.add(2),await gl(n),n.q_.set("Unknown"))}function lo(t){return t.K_||(t.K_=function(n,r,i){const s=ne(n);return s.w_(),new oj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hj.bind(null,t),Ro:dj.bind(null,t),mo:fj.bind(null,t),d_:pj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Dg(t)?Ng(t):t.q_.set("Unknown")):(await t.K_.stop(),fS(t))})),t.K_}function Xr(t){return t.U_||(t.U_=function(n,r,i){const s=ne(n);return s.w_(),new aj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:yj.bind(null,t),mo:wj.bind(null,t),f_:vj.bind(null,t),g_:_j.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kh(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(ur("AsyncQueue",`${e}: ${t}`),dl(t))return new W(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Yo(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new Ns(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ns)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ns;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.W_=new Ne(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xs{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xs(e,n,Ns.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Tj{constructor(){this.queries=cw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=cw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new W(j.ABORTED,"Firestore shutting down"))}}function cw(){return new ao(t=>jI(t),_h)}async function yS(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Ej,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Og(o,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lg(n)}async function vS(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ij(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lg(n)}function Sj(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lg(t){t.Y_.forEach(e=>{e.next()})}var Rp,hw;(hw=Rp||(Rp={})).ea="default",hw.Cache="cache";class _S{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class kj{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=FI(e),this.Ra=new Ns(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new uw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const m=i.get(h),y=wh(this.query,d)?d:null,T=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;m&&y?m.data.isEqual(y.data)?T!==S&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Aa(y,l)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(l||c)&&(a=!0)),R&&(y?(o=o.add(y),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(y,T){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return S(y)-S(T)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Xs(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wS(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Aj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pj{constructor(e){this.key=e,this.va=!1}}class Cj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ao(a=>jI(a),_h),this.Ma=new Map,this.xa=new Set,this.Oa=new Ne(K.comparator),this.Na=new Map,this.La=new Ag,this.Ba={},this.ka=new Map,this.qa=Ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Rj(t,e,n=!0){const r=AS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ES(r,e,n,!0),i}async function bj(t,e){const n=AS(t);await ES(n,e,!0,!1)}async function ES(t,e,n,r){const i=await ZM(t.localStore,Cn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Nj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hS(t.remoteStore,i),a}async function Nj(t,e,n,r,i){t.Ka=(d,m,y)=>async function(S,R,x,v){let w=R.view.ma(x);w.ns&&(w=await sw(S.localStore,R.query,!1).then(({documents:k})=>R.view.ma(k,w)));const N=v&&v.targetChanges.get(R.targetId),O=v&&v.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(w,S.isPrimaryClient,N,O);return fw(S,R.targetId,M.wa),M.snapshot}(t,d,m,y);const s=await sw(t.localStore,e,!0),o=new kj(e,s.Ts),a=o.ma(s.documents),l=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fw(t,n,c.wa);const h=new Aj(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Dj(t,e,n){const r=ne(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Rg(r.remoteStore,i.targetId),bp(r,i.targetId)}).catch(hl)):(bp(r,i.targetId),await Cp(r.localStore,i.targetId,!0))}async function Vj(t,e){const n=ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rg(n.remoteStore,r.targetId))}async function Oj(t,e,n){const r=$j(t);try{const i=await function(o,a){const l=ne(o),c=qe.now(),h=a.reduce((y,T)=>y.add(T.key),oe());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=cr(),S=oe();return l.cs.getEntries(y,h).next(R=>{T=R,T.forEach((x,v)=>{v.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(R=>{d=R;const x=[];for(const v of a){const w=rM(v,d.get(v.key).overlayedDocument);w!=null&&x.push(new Gi(v.key,w,RI(w.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,x,a)}).next(R=>{m=R;const x=R.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:m.batchId,changes:BI(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ne(de)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await yl(r,i.changes),await kh(r.remoteStore)}catch(i){const s=Og(i,"Failed to persist write");n.reject(s)}}async function TS(t,e){const n=ne(t);try{const r=await YM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ge(o.va):i.removedDocuments.size>0&&(ge(o.va),o.va=!1))}),await yl(n,r,e)}catch(r){await hl(r)}}function dw(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const m of d.j_)m.Z_(a)&&(c=!0)}),c&&Lg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lj(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ne(K.comparator);o=o.insert(s,wt.newNoDocument(s,te.min()));const a=oe().add(s),l=new Th(te.min(),new Map,new Ne(de),o,a);await TS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Mg(r)}else await Cp(r.localStore,e,!1).then(()=>bp(r,e,n)).catch(hl)}async function Mj(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await QM(n.localStore,e);SS(n,r,null),IS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yl(n,i)}catch(i){await hl(i)}}async function jj(t,e,n){const r=ne(t);try{const i=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ge(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);SS(r,e,n),IS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yl(r,i)}catch(i){await hl(i)}}function IS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function SS(t,e,n){const r=ne(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kS(t,r)})}function kS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Rg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mg(t))}function fw(t,e,n){for(const r of n)r instanceof wS?(t.La.addReference(r.key,e),Fj(t,r)):r instanceof xS?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kS(t,r.key)):J()}function Fj(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mg(t))}function Mg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new Pj(n)),t.Oa=t.Oa.insert(n,r),hS(t.remoteStore,new Dr(Cn(Eg(n.path)),r,"TargetPurposeLimboResolution",gg.oe))}}async function yl(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=Cg.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,m=>F.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(d,m.targetId,y)).next(()=>F.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(d,m.targetId,y)))))}catch(d){if(!dl(d))throw d;q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const m=d.targetId;if(!d.fromCache){const y=h.os.get(m),T=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,S)}}}(r.localStore,s))}async function Uj(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await aS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new W(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yl(n,r.hs)}}function Bj(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let i=oe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function AS(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lj.bind(null,e),e.Ca.d_=Ij.bind(null,e.eventManager),e.Ca.$a=Sj.bind(null,e.eventManager),e}function $j(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jj.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return GM(this.persistence,new qM,e.initialUser,this.serializer)}Ga(e){return new zM(Pg.Zr,this.serializer)}Wa(e){return new tj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,this.syncEngine),await xj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tj}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),r=function(s){return new sj(s)}(e.databaseInfo);return function(s,o,a,l){return new lj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dw(this.syncEngine,n,0),function(){return aw.D()?new aw:new nj}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const d=new Cj(i,s,o,a,l,c);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await gl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zd(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hj(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lw(e.remoteStore,i)),t._onlineComponents=e}async function Hj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await Zd(t,new Vc)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Zd(t,new Vc);return t._offlineComponents}async function CS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await pw(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await pw(t,new Np))),t._onlineComponents}function Wj(t){return CS(t).then(e=>e.syncEngine)}async function RS(t){const e=await CS(t),n=e.eventManager;return n.onListen=Rj.bind(null,e.syncEngine),n.onUnlisten=Dj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vj.bind(null,e.syncEngine),n}function qj(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new PS({next:m=>{h.Za(),o.enqueueAndForget(()=>vS(s,d));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new W(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new _S(Eg(a.path),h,{includeMetadataChanges:!0,_a:!0});return yS(s,d)}(await RS(t),t.asyncQueue,e,n,r)),r.promise}function Kj(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new PS({next:m=>{h.Za(),o.enqueueAndForget(()=>vS(s,d)),m.fromCache&&l.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),d=new _S(a,h,{includeMetadataChanges:!0,_a:!0});return yS(s,d)}(await RS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){if(!n)throw new W(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DS(t,e,n,r){if(e===!0&&r===!0)throw new W(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gw(t){if(!K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yw(t){if(K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(t);throw new W(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AI;switch(r.type){case"firstParty":return new gL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mw.get(n);r&&(q("ComponentProvider","Removing Datastore"),mw.delete(n),r.terminate())}(this),Promise.resolve()}}function VS(t,e,n,r={}){var i;const s=(t=Jr(t,Ph))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vt.MOCK_USER;else{a=pI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vt(c)}t._authCredentials=new fL(new kI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class er extends Yi{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new K(e))}withConverter(e){return new er(this.firestore,e,this._path)}}function OS(t,e,...n){if(t=Oe(t),NS("collection","path",e),t instanceof Ph){const r=Te.fromString(e,...n);return yw(r),new er(t,null,r)}{if(!(t instanceof bt||t instanceof er))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return yw(r),new er(t.firestore,null,r)}}function LS(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=mg.newId()),NS("doc","path",e),t instanceof Ph){const r=Te.fromString(e,...n);return gw(r),new bt(t,null,new K(r))}{if(!(t instanceof bt||t instanceof er))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return gw(r),new bt(t.firestore,t instanceof er?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uS(this,"async_queue_retry"),this.Vu=()=>{const r=Jd();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dl(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Vg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class vl extends Ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function MS(t,e){const n=typeof t=="object"?t:cl(),r=typeof t=="string"?t:"(default)",i=qi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hg("firestore");s&&VS(i,...s)}return i}function Ch(t){if(t._terminated)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Gj(t),t._firestoreClient}function Gj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new CL(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new zj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(it.fromBase64String(e))}catch(n){throw new W(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=/^__.*__$/;class Yj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new pl(e,this.data,n,this.fieldTransforms)}}function jS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Fg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Oc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jS(this.Cu)&&Qj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}Qu(e,n,r,i=!1){return new Fg({Cu:e,methodName:n,qu:r,path:nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FS(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new Xj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jj(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);$S("Data must be an object, but it was:",o,r);const a=US(r,o);let l,c;if(s.merge)l=new mn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const m=eF(e,d,n);if(!o.contains(m))throw new W(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nF(h,m)||h.push(m)}l=new mn(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Yj(new tn(a),l,c)}function Zj(t,e,n,r=!1){return Ug(n,t.Qu(r?4:3,e))}function Ug(t,e){if(BS(t=Oe(t)))return $S("Unsupported field value:",e,t),US(t,e);if(t instanceof jg)return function(r,i){if(!jS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ug(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:Nc(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nc(i.serializer,s)}}if(r instanceof bh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mi)return{bytesValue:eS(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Nh)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Tg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ah(r)}`)}(t,e)}function US(t,e){const n={};return PI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(r,i)=>{const s=Ug(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof bh||t instanceof Mi||t instanceof bt||t instanceof jg||t instanceof Nh)}function $S(t,e,n){if(!BS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ah(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eF(t,e,n){if((e=Oe(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return zS(t,e);throw Oc("Field path arguments must be of type string or ",t,!1,void 0,n)}const tF=new RegExp("[~\\*/\\[\\]]");function zS(t,e,n){if(e.search(tF)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new W(j.INVALID_ARGUMENT,a+t+l)}function nF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rF extends HS{data(){return super.data()}}function Bg(t,e){return typeof e=="string"?zS(t,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class WS extends $g{}function qS(t,e,...n){let r=[];e instanceof $g&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Dh).length,a=s.filter(l=>l instanceof _l).length;if(o>1||o>0&&a>0)throw new W(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class _l extends WS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _l(e,n,r)}_apply(e){const n=this._parse(e);return GS(e._query,n),new Yi(e.firestore,e.converter,Tp(e._query,n))}_parse(e){const n=FS(e.firestore);return function(s,o,a,l,c,h,d){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xw(d,h);const y=[];for(const T of d)y.push(ww(l,s,T));m={arrayValue:{values:y}}}else m=ww(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xw(d,h),m=Zj(a,o,d,h==="in"||h==="not-in");return We.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KS(t,e,n){const r=e,i=Bg("where",t);return _l._create(i,r,n)}class Dh extends $g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dh(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)GS(o,l),o=Tp(o,l)}(e._query,n),new Yi(e.firestore,e.converter,Tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ww(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new W(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MI(e)&&n.indexOf("/")!==-1)throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!K.isDocumentKey(r))throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $_(t,new K(r))}if(n instanceof bt)return $_(t,n._key);throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function xw(t,e){if(!Array.isArray(t)||t.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QS{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Le(o.doubleValue));return new Nh(s)}convertGeoPoint(e){return new bh(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ge(oS(r));const i=new Ks(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zg extends HS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ma extends zg{data(e={}){return super.data(e)}}class YS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ma(this._firestore,this._userDataWriter,r.key,r,new Is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ma(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ma(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:oF(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){t=Jr(t,bt);const e=Jr(t.firestore,vl);return qj(Ch(e),t._key).then(n=>lF(e,t,n))}class XS extends QS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function JS(t){t=Jr(t,Yi);const e=Jr(t.firestore,vl),n=Ch(e),r=new XS(e);return iF(t._query),Kj(n,t._query).then(i=>new YS(e,r,t,i))}function ZS(t,e,n){t=Jr(t,bt);const r=Jr(t.firestore,vl),i=sF(t.converter,e);return ek(r,[Jj(FS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zn.none())])}function ek(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>Oj(await Wj(r),i,s)),s.promise}(Ch(t),e)}function lF(t,e,n){const r=n.docs.get(e._key),i=new XS(t);return new zg(t,i,e._key,r,new Is(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){so=i})(Ki),Dn(new wn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new vl(new pL(r.getProvider("auth-internal")),new vL(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ks(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qt(M_,"4.7.3",e),qt(M_,"4.7.3","esm2017")})();const uF=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:QS,Bytes:Mi,CollectionReference:er,DocumentReference:bt,DocumentSnapshot:zg,FieldPath:Rh,FieldValue:jg,Firestore:vl,FirestoreError:W,GeoPoint:bh,Query:Yi,QueryCompositeFilterConstraint:Dh,QueryConstraint:WS,QueryDocumentSnapshot:ma,QueryFieldFilterConstraint:_l,QuerySnapshot:YS,SnapshotMetadata:Is,Timestamp:qe,VectorValue:Nh,_AutoId:mg,_ByteString:it,_DatabaseId:Ks,_DocumentKey:K,_EmptyAuthCredentialsProvider:AI,_FieldPath:nt,_cast:Jr,_logWarn:Vi,_validateIsNotUsedTogether:DS,collection:OS,connectFirestoreEmulator:VS,doc:LS,ensureFirestoreConfigured:Ch,executeWrite:ek,getDoc:aF,getDocs:JS,getFirestore:MS,query:qS,setDoc:ZS,where:KS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="type.googleapis.com/google.protobuf.Int64Value",hF="type.googleapis.com/google.protobuf.UInt64Value";function tk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Dp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Dp(e));if(typeof t=="function"||typeof t=="object")return tk(t,e=>Dp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Lc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case cF:case hF:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Lc(e)):typeof t=="function"||typeof t=="object"?tk(t,e=>Lc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ds extends En{constructor(e,n,r){super(`${Hg}/${e}`,n||""),this.details=r}}function dF(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fF(t,e){let n=dF(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!Ew[o])return new Ds("internal","internal");n=Ew[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=Lc(i))}}catch{}return n==="ok"?null:new Ds(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="us-central1";function mF(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ds("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class gF{constructor(e,n,r,i,s=Vp,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new pF(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Vp}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function yF(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function vF(t,e,n){return r=>wF(t,e,r,{})}async function _F(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function wF(t,e,n,r){const i=t._url(e);return xF(t,i,n,r)}async function xF(t,e,n,r){n=Dp(n);const i={data:n},s={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=mF(a),c=await Promise.race([_F(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new Ds("cancelled","Firebase Functions instance was deleted.");const h=fF(c.status,c.json);if(h)throw h;if(!c.json)throw new Ds("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new Ds("internal","Response is missing data field.");return{data:Lc(d)}}const Tw="@firebase/functions",Iw="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="auth-internal",TF="app-check-internal",IF="messaging-internal";function SF(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(EF),a=r.getProvider(IF),l=r.getProvider(TF);return new gF(s,o,a,l,i,t)};Dn(new wn(Hg,n,"PUBLIC").setMultipleInstances(!0)),qt(Tw,Iw,e),qt(Tw,Iw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t=cl(),e=Vp){const r=qi(Oe(t),Hg).getImmediate({identifier:e}),i=hg("functions");return i&&AF(r,...i),r}function AF(t,e,n){yF(Oe(t),e,n)}function Xi(t,e,n){return vF(Oe(t),e)}SF(fetch.bind(self));var PF="firebase",CF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt(PF,CF,"app");function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RF=nk,rk=new io("auth","Firebase",nk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new yh("@firebase/auth");function bF(t,...e){Mc.logLevel<=ae.WARN&&Mc.warn(`Auth (${Ki}): ${t}`,...e)}function Fu(t,...e){Mc.logLevel<=ae.ERROR&&Mc.error(`Auth (${Ki}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,...e){throw Kg(t,...e)}function vn(t,...e){return Kg(t,...e)}function qg(t,e,n){const r=Object.assign(Object.assign({},RF()),{[e]:n});return new io("auth","Firebase",r).create(e,{appName:t.name})}function tr(t){return qg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&an(t,"argument-error"),qg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rk.create(t,...e)}function X(t,e,...n){if(!t)throw Kg(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fu(e),new Error(e)}function hr(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DF(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DF()||$V()||"connection"in navigator)?navigator.onLine:!0}function OF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=FV()||zV()}get(){return VF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new wl(3e4,6e4);function pr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mr(t,e,n,r,i={}){return sk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return BV()||(c.referrerPolicy="no-referrer"),ik.fetch()(ok(t,t.config.apiHost,n,a),c)})}async function sk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LF),e);try{const i=new FF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qg(t,h,c);an(t,h)}}catch(i){if(i instanceof En)throw i;an(t,"network-request-failed",{message:String(i)})}}async function xl(t,e,n,r,i={}){const s=await mr(t,e,n,r,i);return"mfaPendingCredential"in s&&an(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ok(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Gg(t.config,i):`${t.config.apiScheme}://${i}`}function jF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vn(this.auth,"network-request-failed")),MF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vn(t,e,r);return i.customData._tokenResponse=n,i}function kw(t){return t!==void 0&&t.enterprise!==void 0}class UF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BF(t,e){return mr(t,"GET","/v2/recaptchaConfig",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e){return mr(t,"POST","/v1/accounts:delete",e)}async function ak(t,e){return mr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zF(t,e=!1){const n=Oe(t),r=await n.getIdToken(e),i=Qg(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ga(ef(i.auth_time)),issuedAtTime:ga(ef(i.iat)),expirationTime:ga(ef(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ef(t){return Number(t)*1e3}function Qg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fu("JWT malformed, contained fewer than 3 sections"),null;try{const i=uI(n);return i?JSON.parse(i):(Fu("Failed to decode base64 JWT payload"),null)}catch(i){return Fu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Aw(t){const e=Qg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof En&&HF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qa(t,ak(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lk(s.providerUserInfo):[],a=KF(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Lp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function qF(t){const e=Oe(t);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lk(t){return t.map(e=>{var{providerId:n}=e,r=Wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e){const n=await sk(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ok(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ik.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QF(t,e){return mr(t,"POST","/v2/accounts:revokeToken",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=Aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vs;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Lp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zF(this,e)}reload(){return qF(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await qa(this,$F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:N,isAnonymous:O,providerData:M,stsTokenManager:k}=n;X(w&&k,e,"internal-error");const _=Vs.fromJSON(this.name,k);X(typeof w=="string",e,"internal-error"),xr(d,e.name),xr(m,e.name),X(typeof N=="boolean",e,"internal-error"),X(typeof O=="boolean",e,"internal-error"),xr(y,e.name),xr(T,e.name),xr(S,e.name),xr(R,e.name),xr(x,e.name),xr(v,e.name);const I=new qn({uid:w,auth:e,email:m,emailVerified:N,displayName:d,isAnonymous:O,photoURL:T,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:x,lastLoginAt:v});return M&&Array.isArray(M)&&(I.providerData=M.map(A=>Object.assign({},A))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vs;i.updateFromServerResponse(n);const s=new qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lk(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Vs;a.updateFromIdToken(r);const l=new qn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function Kn(t){hr(t instanceof Function,"Expected a class definition");let e=Pw.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uk.type="NONE";const Cw=uk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Uu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Uu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Os(Kn(Cw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Kn(Cw);const o=Uu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const d=qn._fromJSON(e,h);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Os(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Os(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ck(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mk(e))return"Blackberry";if(gk(e))return"Webos";if(hk(e))return"Safari";if((e.includes("chrome/")||dk(e))&&!e.includes("edge/"))return"Chrome";if(pk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ck(t=Tt()){return/firefox\//i.test(t)}function hk(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dk(t=Tt()){return/crios\//i.test(t)}function fk(t=Tt()){return/iemobile/i.test(t)}function pk(t=Tt()){return/android/i.test(t)}function mk(t=Tt()){return/blackberry/i.test(t)}function gk(t=Tt()){return/webos/i.test(t)}function Yg(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YF(t=Tt()){var e;return Yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XF(){return HV()&&document.documentMode===10}function yk(t=Tt()){return Yg(t)||pk(t)||gk(t)||mk(t)||/windows phone/i.test(t)||fk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e=[]){let n;switch(t){case"Browser":n=Rw(Tt());break;case"Worker":n=`${Rw(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(t,e={}){return mr(t,"GET","/v2/passwordPolicy",pr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=6;class t5{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bw(this),this.idTokenSubscription=new bw(this),this.beforeStateQueue=new JF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ak(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(tr(this));const n=e?Oe(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZF(this),n=new t5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new io("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gr(t){return Oe(t)}class bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=XV(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r5(t){Vh=t}function _k(t){return Vh.loadJS(t)}function i5(){return Vh.recaptchaEnterpriseScript}function s5(){return Vh.gapiScript}function o5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const a5="recaptcha-enterprise",l5="NO_RECAPTCHA";class u5{constructor(e){this.type=a5,this.auth=gr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{BF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new UF(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(l5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=i5();l.length!==0&&(l+=a),_k(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Nw(t,e,n,r=!1){const i=new u5(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Fc(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Nw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Nw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){const n=qi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sc(s,e??{}))return i;an(i,"already-initialized")}return n.initialize({options:e})}function h5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function d5(t,e,n){const r=gr(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wk(e),{host:o,port:a}=f5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),p5()}function wk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f5(t){const e=wk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Dw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Dw(o)}}}function Dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function p5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function m5(t,e){return mr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return xl(t,"POST","/v1/accounts:signInWithPassword",pr(t,e))}async function y5(t,e){return mr(t,"POST","/v1/accounts:sendOobCode",pr(t,e))}async function v5(t,e){return y5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}async function w5(t,e){return xl(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Xg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,n,"signInWithPassword",g5);case"emailLink":return _5(e,{email:this._email,oobCode:this._password});default:an(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,r,"signUpPassword",m5);case"emailLink":return w5(e,{idToken:n,email:this._email,oobCode:this._password});default:an(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return xl(t,"POST","/v1/accounts:signInWithIdp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="http://localhost";class ji extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):an("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Wg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ji(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:x5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T5(t){const e=Ko(Go(t)).link,n=e?Ko(Go(e)).deep_link_id:null,r=Ko(Go(t)).deep_link_id;return(r?Ko(Go(r)).link:null)||r||n||e||t}class Jg{constructor(e){var n,r,i,s,o,a;const l=Ko(Go(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=E5((i=l.mode)!==null&&i!==void 0?i:null);X(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=T5(e);try{return new Jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jg.parseLink(n);return X(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends El{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bn.credential(n,r)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends El{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends El{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){return xl(t,"POST","/v1/accounts:signUp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await qn._fromIdTokenResponse(e,r,i),o=Vw(r);return new Fi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vw(r);return new Fi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends En{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Uc(e,n,r,i)}}function xk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(t,s,e,r):s})}async function S5(t,e,n=!1){const r=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e,n=!1){const{auth:r}=t;if(pn(r.app))return Promise.reject(tr(r));const i="reauthenticate";try{const s=await qa(t,xk(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=Qg(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),Fi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&an(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e,n=!1){if(pn(t.app))return Promise.reject(tr(t));const r="signIn",i=await xk(t,r,e),s=await Fi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function A5(t,e){return Ek(gr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tk(t){const e=gr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P5(t,e,n){const r=gr(t);await Fc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",v5)}async function C5(t,e,n){if(pn(t.app))return Promise.reject(tr(t));const r=gr(t),o=await Fc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Tk(t),l}),a=await Fi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function R5(t,e,n){return pn(t.app)?Promise.reject(tr(t)):A5(Oe(t),uo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Tk(t),r})}function b5(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function N5(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function D5(t){return Oe(t).signOut()}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=1e3,O5=10;class Sk extends Ik{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);XF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},V5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sk.type="LOCAL";const L5=Sk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk extends Ik{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kk.type="SESSION";const Ak=kk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await M5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=ey("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return window}function F5(t){bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function U5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $5(){return Pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="firebaseLocalStorageDb",z5=1,$c="firebaseLocalStorage",Rk="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(t,e){return t.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function H5(){const t=indexedDB.deleteDatabase(Ck);return new Tl(t).toPromise()}function Mp(){const t=indexedDB.open(Ck,z5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($c,{keyPath:Rk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await H5(),e(await Mp()))})})}async function Ow(t,e,n){const r=Lh(t,!0).put({[Rk]:e,value:n});return new Tl(r).toPromise()}async function W5(t,e){const n=Lh(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function Lw(t,e){const n=Lh(t,!0).delete(e);return new Tl(n).toPromise()}const q5=800,K5=3;class bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>K5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance($5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await U5(),!this.activeServiceWorker)return;this.sender=new j5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mp();return await Ow(e,Bc,"1"),await Lw(e,Bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ow(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>W5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Lh(i,!1).getAll();return new Tl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bk.type="LOCAL";const G5=bk;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){return e?Kn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q5(t){return Ek(t.auth,new ty(t),t.bypassAuthState)}function Y5(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),k5(n,new ty(t),t.bypassAuthState)}async function X5(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),S5(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q5;case"linkViaPopup":case"linkViaRedirect":return X5;case"reauthViaPopup":case"reauthViaRedirect":return Y5;default:an(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new wl(2e3,1e4);async function Z5(t,e,n){if(pn(t.app))return Promise.reject(vn(t,"operation-not-supported-in-this-environment"));const r=gr(t);NF(t,e,Zg);const i=Nk(r,n);return new Ei(r,"signInViaPopup",e,i).executeNotNull()}class Ei extends Dk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J5.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="pendingRedirect",Bu=new Map;class t3 extends Dk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Bu.get(this.auth._key());if(!e){try{const r=await n3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Bu.set(this.auth._key(),e)}return this.bypassAuthState||Bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n3(t,e){const n=s3(e),r=i3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r3(t,e){Bu.set(t._key(),e)}function i3(t){return Kn(t._redirectPersistence)}function s3(t){return Uu(e3,t.config.apiKey,t.name)}async function o3(t,e,n=!1){if(pn(t.app))return Promise.reject(tr(t));const r=gr(t),i=Nk(r,e),o=await new t3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=10*60*1e3;class l3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mw(e))}saveEventToCache(e){this.cachedEventUids.add(Mw(e)),this.lastProcessedEventTime=Date.now()}}function Mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e={}){return mr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d3=/^https?/;async function f3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c3(t);for(const n of e)try{if(p3(n))return}catch{}an(t,"unauthorized-domain")}function p3(t){const e=Op(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!d3.test(n))return!1;if(h3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new wl(3e4,6e4);function jw(){const t=bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g3(t){return new Promise((e,n)=>{var r,i,s;function o(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),n(vn(t,"network-request-failed"))},timeout:m3.get()})}if(!((i=(r=bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bn().gapi)===null||s===void 0)&&s.load)o();else{const a=o5("iframefcb");return bn()[a]=()=>{gapi.load?o():n(vn(t,"network-request-failed"))},_k(`${s5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $u=null,e})}let $u=null;function y3(t){return $u=$u||g3(t),$u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new wl(5e3,15e3),_3="__/auth/iframe",w3="emulator/auth/iframe",x3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T3(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gg(e,w3):`https://${t.config.authDomain}/${_3}`,r={apiKey:e.apiKey,appName:t.name,v:Ki},i=E3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ul(r).slice(1)}`}async function I3(t){const e=await y3(t),n=bn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:T3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=vn(t,"network-request-failed"),a=bn().setTimeout(()=>{s(o)},v3.get());function l(){bn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k3=500,A3=600,P3="_blank",C3="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R3(t,e,n,r=k3,i=A3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},S3),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tt().toLowerCase();n&&(a=dk(c)?P3:n),ck(c)&&(e=e||C3,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(YF(c)&&a!=="_self")return b3(e||"",a),new Fw(null);const d=window.open(e||"",a,h);X(d,t,"popup-blocked");try{d.focus()}catch{}return new Fw(d)}function b3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="__/auth/handler",D3="emulator/auth/handler",V3=encodeURIComponent("fac");async function Uw(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ki,eventId:i};if(e instanceof Zg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof El){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${V3}=${encodeURIComponent(l)}`:"";return`${O3(t)}?${ul(a).slice(1)}${c}`}function O3({config:t}){return t.emulator?Gg(t,D3):`https://${t.authDomain}/${N3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="webStorageSupport";class L3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ak,this._completeRedirectFn=o3,this._overrideRedirectResult=r3}async _openPopup(e,n,r,i){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Uw(e,n,r,Op(),i);return R3(e,o,ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Uw(e,n,r,Op(),i);return F5(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I3(e),r=new l3(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tf,{type:tf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tf];o!==void 0&&n(!!o),an(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yk()||hk()||Yg()}}const M3=L3;var Bw="@firebase/auth",$w="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U3(t){Dn(new wn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vk(t)},c=new n5(r,i,s,l);return h5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dn(new wn("auth-internal",e=>{const n=gr(e.getProvider("auth").getImmediate());return(r=>new j3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qt(Bw,$w,F3(t)),qt(Bw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=5*60,$3=fI("authIdTokenMaxAge")||B3;let zw=null;const z3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$3)return;const i=n==null?void 0:n.token;zw!==i&&(zw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H3(t=cl()){const e=qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=c5(t,{popupRedirectResolver:M3,persistence:[G5,L5,Ak]}),r=fI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=z3(s.toString());N5(n,o,()=>o(n.currentUser)),b5(n,a=>o(a))}}const i=hI("auth");return i&&d5(n,`http://${i}`),n}function W3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}r5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U3("Browser");const q3={apiKey:"AIzaSyDpY1J38Mf5V-XC3U3CgwlBT_mNexdYM2o",authDomain:"villa-altona-goa.firebaseapp.com",databaseURL:"https://villa-altona-goa-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"villa-altona-goa",storageBucket:"villa-altona-goa.firebasestorage.app",messagingSenderId:"686251298348",appId:"1:686251298348:web:d801992f8c1bbc1918cb89",measurementId:"G-XY8PM1G620"},Mh=yI(q3),jp=MS(Mh),jn=H3(Mh),Ji=kF(Mh,"asia-south1");Xi(Ji,"createBooking");Xi(Ji,"createPaymentIntent");Xi(Ji,"confirmPayment");Xi(Ji,"cancelBooking");Xi(Ji,"getUserBookings");Xi(Ji,"checkVillaAvailability");const K3=Xi(Ji,"sendContactForm"),G3=async()=>{try{const t=OS(jp,"bookings"),e=qS(t,KS("paymentStatus","in",["completed","pending"])),n=await JS(e),r=[];return n.forEach(i=>{var c,h;const s=i.data(),o=(c=s.checkIn)!=null&&c.toDate?s.checkIn.toDate():new Date(s.checkIn),a=(h=s.checkOut)!=null&&h.toDate?s.checkOut.toDate():new Date(s.checkOut),l=new Date(o);for(;l<a;)r.push(new Date(l)),l.setDate(l.getDate()+1)}),r}catch(t){return console.error("Error fetching booked dates:",t),[new Date("2024-03-15"),new Date("2024-03-16"),new Date("2024-04-10")]}},Hw=(t,e)=>e.some(n=>n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()),Q3=async t=>{try{await K3(t)}catch(e){throw console.error("Error sending contact form:",e),new Error("Failed to send contact form")}};function Y3({isAuthenticated:t,onShowAuth:e}){const[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(2),[l,c]=P.useState(0),[h,d]=P.useState(!1),[m,y]=P.useState(!1),[T,S]=P.useState([]),[R,x]=P.useState({checkIn:!1,checkOut:!1,dateOrder:!1});Xa.useEffect(()=>{(async()=>{try{const D=await G3();S(D)}catch{console.log("Using offline mode - some dates may not be accurate"),S([])}})()},[]);const v=b=>b.toISOString().split("T")[0],w=(b,D)=>{const C="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal";return D?`${C} bg-red-50 text-red-600 line-through`:`${C} bg-[#ededed]`},N=()=>{const b={checkIn:!n,checkOut:!i,dateOrder:!1};if(n&&i){const D=new Date(n),C=new Date(i);b.dateOrder=C<=D}return x(b),!Object.values(b).some(D=>D)},O=()=>n&&i&&new Date(i)>new Date(n),M=async()=>{if(!t){e();return}N()&&(d(!0),await new Promise(b=>setTimeout(b,2e3)),d(!1),y(!0))},k=n?new Date(n):null,_=i?new Date(i):null,I=k?Hw(k,T):!1,A=_?Hw(_,T):!1;return p.jsxs(p.Fragment,{children:[p.jsx("section",{id:"booking",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"w-full max-w-none px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Reserve Your Stay"}),p.jsxs("div",{className:"w-full space-y-3",children:[p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[I&&p.jsxs("div",{className:"mb-2 text-red-600 text-sm font-medium flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"This date is already booked"})]}),p.jsx("input",{type:"date",value:n,onChange:b=>r(b.target.value),placeholder:"Check-in Date",className:w(n,I),style:{fontFamily:'"Noto Sans", sans-serif'},min:v(new Date)})]})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[A&&p.jsxs("div",{className:"mb-2 text-red-600 text-sm font-medium flex items-center gap-1",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"This date is already booked"})]}),p.jsx("input",{type:"date",value:i,onChange:b=>s(b.target.value),placeholder:"Check-out Date",className:w(i,A),style:{fontFamily:'"Noto Sans", sans-serif'},min:n||v(new Date)})]})}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1 mr-2",children:[p.jsx("span",{className:"text-[#141414] text-sm font-medium mb-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Adults"}),p.jsx("select",{value:o,onChange:b=>a(Number(b.target.value)),className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:Array.from({length:12},(b,D)=>D+1).map(b=>p.jsxs("option",{value:b,children:[b," Adult",b>1?"s":""]},b))})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("span",{className:"text-[#141414] text-sm font-medium mb-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Children"}),p.jsx("select",{value:l,onChange:b=>c(Number(b.target.value)),className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:Array.from({length:7},(b,D)=>D).map(b=>p.jsxs("option",{value:b,children:[b," ",b===1?"Child":"Children"]},b))})]})]}),(R.checkIn||R.checkOut||R.dateOrder||I||A)&&p.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex w-full px-0 py-2",children:p.jsxs("div",{className:"w-full bg-red-50 border border-red-200 rounded-xl p-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[p.jsx(Vb,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Please fix the following errors:"})]}),p.jsxs("ul",{className:"mt-2 text-sm text-red-600 space-y-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:[R.checkIn&&p.jsx("li",{children:" Please select a check-in date"}),R.checkOut&&p.jsx("li",{children:" Please select a check-out date"}),R.dateOrder&&p.jsx("li",{children:" Check-out date must be after check-in date"}),I&&p.jsx("li",{children:" Check-in date is already booked. Please select another date."}),A&&p.jsx("li",{children:" Check-out date is already booked. Please select another date."})]})]})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"flex w-full px-0 py-3",children:p.jsx(B.button,{type:"button",disabled:h||!O()||I||A,whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-4 text-base font-bold leading-normal tracking-[0.015em] transition-all duration-300 ${O()&&!I&&!A?"bg-[#141414] text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"} disabled:opacity-50`,style:{fontFamily:'"Noto Sans", sans-serif'},onClick:M,children:h?p.jsxs(p.Fragment,{children:[p.jsx(ME,{className:"animate-spin h-4 w-4 mr-2"}),"Checking Availability..."]}):p.jsx("span",{className:"truncate",children:"Check Availability"})})})]})]})}),p.jsx(bV,{isOpen:m,onClose:()=>y(!1),bookingData:{checkIn:n,checkOut:i,adults:o,children:l}})]})}function X3(){const t=[{name:"Priya Sharma",location:"Mumbai, India",time:"2 weeks ago",rating:5,text:"Our stay at Villa Altona was nothing short of magical. The villa is beautifully decorated, and the views are simply stunning. The staff was incredibly attentive, and the private chef prepared delicious meals. We can't wait to return!",image:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",likes:15,dislikes:2},{name:"Rajesh Patel",location:"Delhi, India",time:"1 month ago",rating:4,text:"We had a wonderful time at Villa Altona. The villa is spacious and well-maintained, and the pool area is perfect for relaxing. The location is ideal for exploring Goa, and we enjoyed visiting the nearby beaches and markets.",image:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=150&h=150&fit=crop",likes:8,dislikes:1}],e=[{stars:5,percentage:70},{stars:4,percentage:20},{stars:3,percentage:5},{stars:2,percentage:3},{stars:1,percentage:2}];return p.jsx("section",{id:"testimonials",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Guest Reviews"}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"flex flex-wrap gap-x-8 gap-y-6 mb-8",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("p",{className:"text-[#141414] text-4xl font-black leading-tight tracking-[-0.033em]",style:{fontFamily:'"Noto Serif", serif'},children:"4.8"}),p.jsxs("div",{className:"flex gap-0.5",children:[[...Array(4)].map((n,r)=>p.jsx(bd,{className:"w-[18px] h-[18px] fill-[#141414] text-[#141414]"},r)),p.jsx(bd,{className:"w-[18px] h-[18px] text-[#c2c2c2]"})]}),p.jsx("p",{className:"text-[#141414] text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:"125 reviews"})]}),p.jsx("div",{className:"grid min-w-[200px] max-w-[400px] flex-1 grid-cols-[20px_1fr_40px] items-center gap-y-3",children:e.map(n=>p.jsxs(Xa.Fragment,{children:[p.jsx("p",{className:"text-[#141414] text-sm font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.stars}),p.jsx("div",{className:"flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbdbdb]",children:p.jsx(B.div,{initial:{width:0},whileInView:{width:`${n.percentage}%`},transition:{duration:1,delay:.5},viewport:{once:!0},className:"rounded-full bg-[#141414]"})}),p.jsxs("p",{className:"text-neutral-500 text-sm font-normal leading-normal text-right",style:{fontFamily:'"Noto Sans", sans-serif'},children:[n.percentage,"%"]})]},n.stars))})]}),p.jsx("div",{className:"flex flex-col gap-8",children:t.map((n,r)=>p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},whileHover:{scale:1.02,y:-5},transition:{duration:.8,delay:r*.2},viewport:{once:!0},className:"flex flex-col gap-4 bg-gradient-to-br from-neutral-50 to-neutral-100 p-6 rounded-lg border border-[#dbdbdb] hover:shadow-lg transition-all duration-300",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:`url("${n.image}")`}}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.name}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.time})]})]}),p.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((i,s)=>p.jsx(bd,{className:`w-5 h-5 ${s<n.rating?"fill-[#141414] text-[#141414]":"text-[#c2c2c2]"}`},s))}),p.jsx("p",{className:"text-[#141414] text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.text}),p.jsxs("div",{className:"flex gap-9 text-neutral-500",children:[p.jsxs(B.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"flex items-center gap-2 hover:text-[#141414] transition-colors duration-200",children:[p.jsx(i2,{className:"w-5 h-5"}),p.jsx("p",{className:"font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.likes})]}),p.jsxs(B.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"flex items-center gap-2 hover:text-[#141414] transition-colors duration-200",children:[p.jsx(r2,{className:"w-5 h-5"}),p.jsx("p",{className:"font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:n.dislikes})]})]})]},r))})]})})}const J3=async t=>{try{await Q3(t)}catch(e){throw console.error("Error sending contact email:",e),new Error("Failed to send contact form")}},Z3=()=>{const[t,e]=P.useState({name:"",email:"",phone:"",message:""}),[n,r]=P.useState(!1),[i,s]=P.useState(!1),[o,a]=P.useState(null),[l,c]=P.useState(null),h=[{question:"How do I book a villa?",answer:"You can book directly through our website by selecting your dates and completing the booking form. We'll confirm your reservation within 24 hours."},{question:"What is included in the rental?",answer:"The rental includes all amenities listed, housekeeping service, concierge support, and access to all villa facilities including the pool and gardens."},{question:"What is the cancellation policy?",answer:"Free cancellation up to 48 hours before check-in. Cancellations within 48 hours are subject to a 50% charge. No-shows are non-refundable."}],d=async m=>{m.preventDefault(),r(!0),a(null),s(!1);try{await J3(t),s(!0),e({name:"",email:"",phone:"",message:""})}catch(y){a(y instanceof Error?y.message:"Failed to send message")}finally{r(!1)}};return p.jsx("section",{id:"contact",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"px-4",children:[p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[p.jsxs("div",{children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Contact Form"}),i?p.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-8",children:[p.jsx(VE,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),p.jsx("h4",{className:"text-xl font-bold text-[#141414] mb-2",style:{fontFamily:'"Noto Serif", serif'},children:"Message Sent!"}),p.jsx("p",{className:"text-neutral-500",style:{fontFamily:'"Noto Sans", sans-serif'},children:"We'll get back to you within 24 hours."}),p.jsx("button",{type:"button",onClick:()=>s(!1),className:"mt-4 text-[#141414] hover:text-neutral-600 transition-colors duration-200",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Send another message"})]}):p.jsxs("form",{onSubmit:d,className:"space-y-3",children:[p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:p.jsx("input",{type:"text",name:"name",value:t.name,onChange:m=>e({...t,name:m.target.value}),required:!0,placeholder:"Your Name",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'}})})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:p.jsx("input",{type:"email",name:"email",value:t.email,onChange:m=>e({...t,email:m.target.value}),required:!0,placeholder:"Your Email",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'}})})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.7},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:p.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:m=>e({...t,phone:m.target.value}),placeholder:"Subject",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none h-14 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'}})})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"flex w-full flex-wrap items-end gap-4 px-0 py-3",children:p.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:p.jsx("textarea",{name:"message",value:t.message,onChange:m=>e({...t,message:m.target.value}),required:!0,placeholder:"Your Message",className:"form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#141414] focus:outline-0 focus:ring-0 border-none bg-[#ededed] focus:border-none min-h-36 placeholder:text-neutral-500 p-4 text-base font-normal leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'}})})}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.9},viewport:{once:!0},className:"flex px-0 py-3",children:p.jsx(B.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-4 bg-[#141414] text-white text-base font-bold leading-normal tracking-[0.015em] hover:bg-gray-800 transition-all duration-300 disabled:opacity-50",style:{fontFamily:'"Noto Sans", sans-serif'},children:n?p.jsxs(p.Fragment,{children:[p.jsx(B.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Sending..."]}):p.jsx("span",{className:"truncate",children:"Send Message"})})}),o&&p.jsx("p",{className:"text-red-600 text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:o})]})]}),p.jsxs("div",{children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Contact Us"}),p.jsx(B.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"text-[#141414] text-base font-normal leading-normal pb-3 pt-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"We're here to assist. Reach out with any questions or concerns, and we'll respond promptly."}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(Bm,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Phone"}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Available 24/7"})]})]}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(pc,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Email"}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Response within 24 hours"})]})]})]})]}),p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:1},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-12",style:{fontFamily:'"Noto Serif", serif'},children:"Frequently Asked Questions"}),p.jsx("div",{className:"flex flex-col gap-3",children:h.map((m,y)=>p.jsxs(B.details,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:1.1+y*.1},viewport:{once:!0},className:"flex flex-col rounded-xl border border-[#dbdbdb] bg-neutral-50 px-[15px] py-[7px] group",open:l===y,onToggle:T=>c(T.target.open?y:null),children:[p.jsxs("summary",{className:"flex cursor-pointer items-center justify-between gap-6 py-2 list-none",children:[p.jsx("p",{className:"text-[#141414] text-sm font-medium leading-normal",style:{fontFamily:'"Noto Sans", sans-serif'},children:m.question}),p.jsx(B.div,{animate:{rotate:l===y?180:0},transition:{duration:.2},className:"text-[#141414]",children:p.jsx(Fb,{className:"h-5 w-5"})})]}),l===y&&p.jsx(B.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-neutral-500 text-sm font-normal leading-normal pb-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:m.answer})]},y))})]})})};function eU(){const[t,e]=P.useState(""),[n,r]=P.useState(!1),[i,s]=P.useState(!1),o=[{label:"About Villa",href:"#about"},{label:"Amenities",href:"#amenities"},{label:"Gallery",href:"#gallery"},{label:"Reviews",href:"#testimonials"},{label:"Booking",href:"#booking"},{label:"Contact",href:"#contact"}],a=[{icon:Kb,href:"#",label:"Facebook"},{icon:Yb,href:"#",label:"Instagram"},{icon:o2,href:"#",label:"Twitter"},{icon:u2,href:"#",label:"YouTube"}],l=async c=>{c.preventDefault(),r(!0),await new Promise(h=>setTimeout(h,2e3)),r(!1),s(!0),e(""),setTimeout(()=>s(!1),3e3)};return p.jsxs("footer",{className:"bg-neutral-50",children:[p.jsx("div",{className:"px-4 py-12 border-t border-[#ededed]",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-4",children:[p.jsx("h3",{className:"luxury-heading text-[#141414] text-xl font-bold leading-tight",children:"Villa Altona"}),p.jsx("p",{className:"luxury-text text-neutral-500 text-sm leading-relaxed",children:"Experience unparalleled luxury in our exclusive villa nestled in the heart of Goa. Your extraordinary escape awaits."}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Bm,{className:"h-4 w-4 text-[#141414]"}),p.jsx("span",{className:"luxury-text text-neutral-500 text-sm",children:"+91 361 123 4567"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(pc,{className:"h-4 w-4 text-[#141414]"}),p.jsx("span",{className:"luxury-text text-neutral-500 text-sm",children:"reservations@villaaltona.com"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(jE,{className:"h-4 w-4 text-[#141414]"}),p.jsx("span",{className:"luxury-text text-neutral-500 text-sm",children:"Candolim Beach, Goa 403515"})]})]})]}),p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"space-y-4",children:[p.jsx("h3",{className:"luxury-heading text-[#141414] text-xl font-bold leading-tight",children:"Quick Links"}),p.jsx("ul",{className:"space-y-3",children:o.map((c,h)=>p.jsx("li",{children:p.jsx(B.a,{href:c.href,whileHover:{x:5},className:"luxury-text text-neutral-500 text-sm hover:text-[#141414] transition-colors duration-200",onClick:d=>{var m;d.preventDefault(),(m=document.getElementById(c.href.substring(1)))==null||m.scrollIntoView({behavior:"smooth"})},children:c.label})},h))})]}),p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"space-y-4",children:[p.jsx("h3",{className:"luxury-heading text-[#141414] text-xl font-bold leading-tight",children:"Services"}),p.jsxs("ul",{className:"space-y-3",children:[p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"24/7 Concierge"}),p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"Private Chef"}),p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"Housekeeping"}),p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"Transportation"}),p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"Spa Services"}),p.jsx("li",{className:"luxury-text text-neutral-500 text-sm",children:"Event Planning"})]})]}),p.jsxs(B.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"space-y-4",children:[p.jsx("h3",{className:"luxury-heading text-[#141414] text-xl font-bold leading-tight",children:"Stay Updated"}),p.jsx("p",{className:"luxury-text text-neutral-500 text-sm leading-relaxed",children:"Subscribe to our newsletter for exclusive offers and updates."}),i?p.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center py-4",children:[p.jsx("div",{className:"h-8 w-8 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2",children:p.jsx(x0,{className:"h-4 w-4 text-white"})}),p.jsx("p",{className:"luxury-text text-green-600 text-sm font-medium",children:"Successfully subscribed!"})]}):p.jsxs("form",{onSubmit:l,className:"space-y-3",children:[p.jsx("input",{type:"email",value:t,onChange:c=>e(c.target.value),placeholder:"Enter your email",required:!0,className:"luxury-text w-full p-3 border border-[#dbdbdb] rounded-lg text-[#141414] bg-white focus:ring-2 focus:ring-[#141414] focus:border-transparent text-sm transition-all duration-300"}),p.jsx(B.button,{type:"submit",disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"luxury-text w-full bg-[#141414] text-white font-medium py-3 px-4 rounded-lg text-sm hover:bg-gray-800 transition-all duration-300 flex items-center justify-center disabled:opacity-50",children:n?p.jsxs(p.Fragment,{children:[p.jsx(ME,{className:"animate-spin h-4 w-4 mr-2"}),"Subscribing..."]}):p.jsxs(p.Fragment,{children:[p.jsx(x0,{className:"h-4 w-4 mr-2"}),"Subscribe"]})})]})]})]}),p.jsx(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"mt-12 pt-8 border-t border-[#ededed]",children:p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"luxury-heading text-[#141414] text-lg font-bold mb-3",children:"Follow Us"}),p.jsx("div",{className:"flex gap-4",children:a.map((c,h)=>p.jsx(B.a,{href:c.href,whileHover:{scale:1.2,y:-2},whileTap:{scale:.9},className:"w-10 h-10 bg-[#141414] text-white rounded-full flex items-center justify-center hover:bg-gray-800 transition-colors duration-300","aria-label":c.label,children:p.jsx(c.icon,{className:"h-5 w-5"})},h))})]}),p.jsxs("div",{className:"text-center md:text-right",children:[p.jsx("p",{className:"luxury-text text-neutral-500 text-sm mb-2",children:"Experience Luxury"}),p.jsx("p",{className:"luxury-heading text-[#141414] text-lg font-bold",children:"Villa Altona"})]})]})})]})}),p.jsx("div",{className:"h-5 bg-neutral-50"}),p.jsx("div",{className:"px-4 py-4 border-t border-[#ededed]",children:p.jsx("p",{className:"text-neutral-500 text-sm text-center",style:{fontFamily:'"Noto Sans", sans-serif'},children:" 2025 Villa Altona. All rights reserved. | Privacy Policy | Terms of Service"})})]})}const tU=()=>{const t=()=>{const e="+919876543210",n=encodeURIComponent("Hi! I'm interested in booking Villa Altona. Could you please provide more information?"),r=`https://wa.me/${e}?text=${n}`;window.open(r,"_blank")};return p.jsxs(B.button,{onClick:t,className:"whatsapp-float bg-green-500 hover:bg-green-600 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all duration-300 z-50",whileHover:{scale:1.1},whileTap:{scale:.9},initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:2,duration:.5},"aria-label":"Contact us on WhatsApp",children:[p.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488",fill:"white"})}),p.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-20"})]})},nU=()=>p.jsx("section",{id:"location",className:"bg-neutral-50 py-8",children:p.jsxs("div",{className:"px-4",children:[p.jsx(B.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-[#141414] text-[28px] font-bold leading-tight tracking-[-0.015em] pb-3 pt-5",style:{fontFamily:'"Noto Serif", serif'},children:"Getting there"}),p.jsx(B.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"flex px-0 py-3",children:p.jsx("div",{className:"w-full aspect-video rounded-xl overflow-hidden",children:p.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3846.123456789012!2d73.7519139!3d15.5166667!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bbfba106336b741%3A0x3c12f7681185f869!2sCandolim%20Beach%2C%20Goa!5e0!3m2!1sen!2sin!4v1640995200000!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-xl"})})}),p.jsxs(B.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"flex items-center gap-4 bg-neutral-50 px-0 min-h-[72px] py-2",children:[p.jsx("div",{className:"text-[#141414] flex items-center justify-center rounded-lg bg-[#ededed] shrink-0 size-12",children:p.jsx(jE,{className:"h-6 w-6"})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsx("p",{className:"text-[#141414] text-base font-medium leading-normal line-clamp-1",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Address"}),p.jsx("p",{className:"text-neutral-500 text-sm font-normal leading-normal line-clamp-2",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Villa Altona, Candolim Beach Road, Candolim, Goa 403515, India"})]})]}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsxs(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"flex items-center gap-4 bg-gradient-to-r from-neutral-50 to-neutral-100 p-4 rounded-lg border border-[#dbdbdb]",children:[p.jsx(t2,{className:"h-5 w-5 text-[#141414]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#141414] text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Distance to Beach"}),p.jsx("p",{className:"text-neutral-500 text-xs",style:{fontFamily:'"Noto Sans", sans-serif'},children:"2 minutes walk to Candolim Beach"})]})]}),p.jsxs(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"flex items-center gap-4 bg-gradient-to-r from-neutral-50 to-neutral-100 p-4 rounded-lg border border-[#dbdbdb]",children:[p.jsx(Ub,{className:"h-5 w-5 text-[#141414]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#141414] text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Airport Transfer"}),p.jsx("p",{className:"text-neutral-500 text-xs",style:{fontFamily:'"Noto Sans", sans-serif'},children:"45 minutes from Goa International Airport"})]})]}),p.jsxs(B.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.7},viewport:{once:!0},className:"flex items-center gap-4 bg-gradient-to-r from-neutral-50 to-neutral-100 p-4 rounded-lg border border-[#dbdbdb]",children:[p.jsx(Bm,{className:"h-5 w-5 text-[#141414]"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#141414] text-sm font-medium",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Transportation Service"}),p.jsx("p",{className:"text-neutral-500 text-xs",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Complimentary pickup & drop available"})]})]})]})]})}),rU="modulepreload",iU=function(t){return"/"+t},Ww={},qw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=iU(l),l in Ww)return;Ww[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":rU,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((m,y)=>{d.addEventListener("load",m),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebasestorage.googleapis.com",Lk="storageBucket",sU=2*60*1e3,oU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends En{constructor(e,n,r=0){super(nf(e),`Firebase Storage: ${n} (${nf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function nf(t){return"storage/"+t}function Mk(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Je.UNKNOWN,t)}function aU(t){return new Ze(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function lU(t){return new Ze(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Je.UNAUTHENTICATED,t)}function cU(){return new Ze(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hU(t){return new Ze(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dU(){return new Ze(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fU(){return new Ze(Je.CANCELED,"User canceled the upload/download.")}function pU(t){return new Ze(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function mU(t){return new Ze(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gU(){return new Ze(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lk+"' property when initializing the app?")}function yU(){return new Ze(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zc(t){return new Ze(Je.INVALID_ARGUMENT,t)}function jk(){return new Ze(Je.APP_DELETED,"The Firebase app was deleted.")}function Fk(t){return new Ze(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bo(t){throw new Ze(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xt.makeFromUrl(e,n)}catch{return new xt(e,"")}if(r.path==="")return r;throw mU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${d}/${h}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},S=n===Ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",x=new RegExp(`^https?://${S}/${i}/${R}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:y,indices:T,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<w.length;N++){const O=w[N],M=O.regex.exec(e);if(M){const k=M[O.indices.bucket];let _=M[O.indices.path];_||(_=""),r=new xt(k,_),O.postModify(r);break}}if(r==null)throw pU(e);return r}}class vU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function d(R){i=setTimeout(()=>{i=null,t(y,l())},R)}function m(){s&&clearTimeout(s)}function y(R,...x){if(c){m();return}if(R){m(),h.call(null,R,...x);return}if(l()||o){m(),h.call(null,R,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let T=!1;function S(R){T||(T=!0,m(),!c&&(i!==null?(R||(a=2),clearTimeout(i),d(0)):R||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function wU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){return t!==void 0}function EU(t){return typeof t=="object"&&!Array.isArray(t)}function Uk(t){return typeof t=="string"||t instanceof String}function Fp(t,e,n,r){if(r<e)throw zc(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zc(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Bk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ai;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ai||(Ai={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n,r,i,s,o,a,l,c,h,d,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ai.NO_ERROR,l=s.getStatus();if(!a||TU(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Ai.ABORT;r(!1,new mu(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new mu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());xU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Mk();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?jk():fU();o(l)}else{const l=dU();o(l)}};this.canceled_?n(!1,new mu(!1,null,!0)):this.backoffId_=_U(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CU(t,e,n,r,i,s,o=!0){const a=Bk(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return AU(c,e),SU(c,n),kU(c,s),PU(c,r),new IU(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){let e;try{e=JSON.parse(t)}catch{return null}return EU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $k(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){return e}class At{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||NU}}let gu=null;function DU(t){return!Uk(t)||t.length<2?t:$k(t)}function VU(){if(gu)return gu;const t=[];t.push(new At("bucket")),t.push(new At("generation")),t.push(new At("metageneration")),t.push(new At("name","fullPath",!0));function e(s,o){return DU(o)}const n=new At("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new At("size");return i.xform=r,t.push(i),t.push(new At("timeCreated")),t.push(new At("updated")),t.push(new At("md5Hash",null,!0)),t.push(new At("cacheControl",null,!0)),t.push(new At("contentDisposition",null,!0)),t.push(new At("contentEncoding",null,!0)),t.push(new At("contentLanguage",null,!0)),t.push(new At("contentType",null,!0)),t.push(new At("metadata","customMetadata",!0)),gu=t,gu}function OU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new xt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function LU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return OU(r,t),r}function MU(t,e,n){const r=ry(e);return r===null?null:LU(t,r,n)}function jU(t,e,n,r){const i=ry(e);if(i===null||!Uk(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,d=t.fullPath,m="/b/"+o(h)+"/o/"+o(d),y=ny(m,n,r),T=Bk({alt:"media",token:c});return y+T})[0]}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="prefixes",Gw="items";function FU(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Kw])for(const i of n[Kw]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new xt(e,s));r.prefixes.push(o)}if(n[Gw])for(const i of n[Gw]){const s=t._makeStorageReference(new xt(e,i.name));r.items.push(s)}return r}function UU(t,e,n){const r=ry(n);return r===null?null:FU(t,e,r)}class zk{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){if(!t)throw Mk()}function BU(t,e){function n(r,i){const s=UU(t,e,i);return Hk(s!==null),s}return n}function $U(t,e){function n(r,i){const s=MU(t,i,e);return Hk(s!==null),jU(s,i,t.host,t._protocol)}return n}function Wk(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cU():i=uU():n.getStatus()===402?i=lU(t.bucket):n.getStatus()===403?i=hU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function zU(t){const e=Wk(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=aU(t.path)),s.serverResponse=i.serverResponse,s}return n}function HU(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=ny(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,h=new zk(a,l,BU(t,e.bucket),c);return h.urlParams=s,h.errorHandler=Wk(e),h}function WU(t,e,n){const r=e.fullServerUrl(),i=ny(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new zk(i,s,$U(t,n),o);return a.errorHandler=zU(e),a}class qU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ai.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ai.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ai.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Bo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KU extends qU{initXhr(){this.xhr_.responseType="text"}}function qk(){return new KU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this._service=e,n instanceof xt?this._location=n:this._location=xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ui(e,n)}get root(){const e=new xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $k(this._location.path)}get storage(){return this._service}get parent(){const e=RU(this._location.path);if(e===null)return null;const n=new xt(this._location.bucket,e);return new Ui(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Fk(e)}}function GU(t){const e={prefixes:[],items:[]};return Kk(t,e).then(()=>e)}async function Kk(t,e,n){const i=await QU(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await Kk(t,e,i.nextPageToken)}function QU(t,e){e!=null&&typeof e.maxResults=="number"&&Fp("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=HU(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,qk)}function YU(t){t._throwIfRoot("getDownloadURL");const e=WU(t.storage,t._location,VU());return t.storage.makeRequestWithTokens(e,qk).then(n=>{if(n===null)throw yU();return n})}function XU(t,e){const n=bU(t._location.path,e),r=new xt(t._location.bucket,n);return new Ui(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return/^[A-Za-z]+:\/\//.test(t)}function ZU(t,e){return new Ui(t,e)}function Gk(t,e){if(t instanceof iy){const n=t;if(n._bucket==null)throw gU();const r=new Ui(n,n._bucket);return e!=null?Gk(r,e):r}else return e!==void 0?XU(t,e):t}function e6(t,e){if(e&&JU(e)){if(t instanceof iy)return ZU(t,e);throw zc("To use ref(service, url), the first argument must be a Storage instance.")}else return Gk(t,e)}function Qw(t,e){const n=e==null?void 0:e[Lk];return n==null?null:xt.makeFromBucketSpec(n,t)}function t6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pI(i,t.app.options.projectId))}class iy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ok,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sU,this._maxUploadRetryTime=oU,this._requests=new Set,i!=null?this._bucket=xt.makeFromBucketSpec(i,this._host):this._bucket=Qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xt.makeFromBucketSpec(this._url,e):this._bucket=Qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ui(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new vU(jk());{const o=CU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Yw="@firebase/storage",Xw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="storage";function n6(t){return t=Oe(t),GU(t)}function r6(t){return t=Oe(t),YU(t)}function i6(t,e){return t=Oe(t),e6(t,e)}function s6(t=cl(),e){t=Oe(t);const r=qi(t,Qk).getImmediate({identifier:e}),i=hg("storage");return i&&Yk(r,...i),r}function Yk(t,e,n,r={}){t6(t,e,n,r)}function o6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iy(n,r,i,e,Ki)}function a6(){Dn(new wn(Qk,o6,"PUBLIC").setMultipleInstances(!0)),qt(Yw,Xw,""),qt(Yw,Xw,"esm2017")}a6();const l6=Object.freeze(Object.defineProperty({__proto__:null,StorageError:Ze,get StorageErrorCode(){return Je},_Location:xt,_invalidArgument:zc,_invalidRootOperation:Fk,connectStorageEmulator:Yk,getDownloadURL:r6,getStorage:s6,listAll:n6,ref:i6},Symbol.toStringTag,{value:"Module"})),Jw=({isOpen:t,onClose:e,onLogin:n})=>{const[r,i]=P.useState(!0),[s,o]=P.useState(!1),[a,l]=P.useState(!1),[c,h]=P.useState(!1),[d,m]=P.useState(!1),[y,T]=P.useState(!1),[S,R]=P.useState(!1),[x,v]=P.useState(null),[w,N]=P.useState(null),[O,M]=P.useState(0),[k,_]=P.useState(""),[I,A]=P.useState(!1),[b,D]=P.useState(0),[C,pe]=P.useState(!1),[Ke,we]=P.useState({hasSpecial:!1,hasCapital:!1,hasMinLength:!1,isValid:!1}),[re,$]=P.useState({name:"",email:"",password:"",confirmPassword:"",otp:""}),[G,Z]=P.useState(null),[Q,le]=P.useState(null),[fe,ht]=P.useState(null),[Fe,Ge]=P.useState(null),[It,ri]=P.useState([]);P.useEffect(()=>{jn.currentUser?(ht(jn.currentUser),qw(async()=>{const{getDoc:ie,doc:ke}=await Promise.resolve().then(()=>uF);return{getDoc:ie,doc:ke}},[]).then(({getDoc:ie,doc:ke})=>{ie(ke(jp,"users",jn.currentUser.uid)).then(Ue=>{Ge(Ue.exists()?Ue.data():null)})}),qw(async()=>{const{getStorage:ie,ref:ke,listAll:Ue,getDownloadURL:si}=await Promise.resolve().then(()=>l6);return{getStorage:ie,ref:ke,listAll:Ue,getDownloadURL:si}},void 0).then(({getStorage:ie,ref:ke,listAll:Ue,getDownloadURL:si})=>{const po=ie(),mo=ke(po,`user-images/${jn.currentUser.uid}`);Ue(mo).then(Sl=>{Promise.all(Sl.items.map(Be=>si(Be))).then(Be=>{ri(Be)})})})):(ht(null),Ge(null),ri([]))},[t,Q]);const ii=async()=>{await D5(jn),ht(null),Ge(null),ri([]),N("Signed out successfully!"),e()},ln=async(ie,ke)=>{T(!0),v(null);try{const Ue=await C5(jn,ie,ke);N("Signup successful!"),await Uh(Ue.user.uid,re.name,ie),n(ie)}catch(Ue){v(Ue.message)}finally{T(!1)}},Vt=async(ie,ke)=>{T(!0),v(null);try{const Ue=await R5(jn,ie,ke);N("Login successful!"),n(ie)}catch(Ue){v(Ue.message)}finally{T(!1)}},Zi=()=>{if(r){if(!re.email||!re.password)return v("Please enter email and password"),!1}else{if(!Ke.isValid)return v("Password does not meet requirements"),!1;if(re.password!==re.confirmPassword)return v("Passwords do not match"),!1}return!0},co=async ie=>{ie.preventDefault(),v(null),Zi()&&(r?await Vt(re.email,re.password):await ln(re.email,re.password),x||e())},ho=async()=>{R(!0),v(null);try{const ie=new Bn,Ue=(await Z5(jn,ie)).user;N("Google login successful!"),n(Ue.email||""),e()}catch(ie){v(ie.message||"Google login failed. Please try again.")}R(!1)},fo=async ie=>{if(ie.preventDefault(),v(null),N(null),!re.email){v("Please enter your email address");return}T(!0);try{await P5(jn,re.email),N(`Password reset email sent to ${re.email}. Check your inbox.`),o(!1)}catch(ke){v(ke.message||"Failed to send password reset email.")}T(!1)},Il=()=>{o(!1),l(!1),h(!1),$({name:"",email:"",password:"",confirmPassword:"",otp:""}),we({hasSpecial:!1,hasCapital:!1,hasMinLength:!1,isValid:!1}),D(0),pe(!1),M(0),_(""),A(!1)},Fh=()=>{Il(),v(null),N(null),e()},Uh=async(ie,ke,Ue)=>{try{await ZS(LS(jp,"users",ie),{name:ke,email:Ue,createdAt:new Date().toISOString()}),N("User profile saved to Firestore!")}catch(si){v("Failed to save user profile: "+si.message)}};return p.jsx(ja,{children:t&&p.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:[(y||S)&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 z-50",children:p.jsx(B.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-10 w-10 border-4 border-white border-t-blue-600 rounded-full"})}),p.jsxs(B.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"bg-neutral-50 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto relative","aria-modal":"true",role:"dialog",tabIndex:-1,children:[(x||w)&&p.jsx("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 px-4 py-2 rounded-lg shadow-lg z-50 text-sm font-medium ${x?"bg-red-600 text-white":"bg-green-600 text-white"}`,role:"alert","aria-live":"assertive",children:x||w}),p.jsx("div",{className:"flex items-center bg-neutral-50 p-4 pb-2 justify-between border-b border-[#ededed]",children:p.jsx("button",{onClick:Fh,className:"text-[#141414] flex size-12 shrink-0 items-center justify-center hover:bg-[#ededed] rounded-lg transition-colors duration-200",title:"Close","aria-label":"Close modal",children:p.jsx(ro,{className:"h-6 w-6"})})}),p.jsxs("div",{className:"p-6",children:[fe&&p.jsxs("div",{className:"flex flex-col items-center mb-6","aria-label":"User Info",children:[fe.photoURL?p.jsx("img",{src:fe.photoURL,alt:"User avatar",className:"h-16 w-16 rounded-full mb-2"}):p.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center mb-2",children:p.jsx(mc,{className:"h-8 w-8 text-gray-500"})}),p.jsx("div",{className:"text-lg font-bold text-[#141414]",children:fe.displayName||(Fe==null?void 0:Fe.name)||"No Name"}),p.jsx("div",{className:"text-sm text-gray-600 max-w-[220px] truncate text-center",title:fe.email,children:fe.email}),p.jsx("button",{onClick:ii,className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Sign out",children:"Sign Out"})]}),Fe&&p.jsxs("div",{className:"mb-6","aria-label":"Profile Data",children:[p.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Profile Data:"}),p.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 text-sm",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-bold",children:"Name:"})," ",Fe.name]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold",children:"Email:"})," ",Fe.email]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold",children:"Created At:"})," ",Fe.createdAt]})]})]}),It.length>0&&p.jsxs("div",{className:"mb-6","aria-label":"Uploaded Images",children:[p.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Uploaded Images:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:It.map((ie,ke)=>p.jsx("a",{href:ie,target:"_blank",rel:"noopener noreferrer",className:"block",children:p.jsx("img",{src:ie,alt:`User upload ${ke+1}`,className:"h-16 w-16 object-cover rounded-lg border"})},ke))})]}),p.jsxs("div",{className:"flex flex-col gap-6 items-center",children:[p.jsxs("div",{className:"mb-2 text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:"Villa Altona"}),p.jsx("div",{className:"text-gray-500 text-sm mt-1",children:r?"Sign in to your account":"Create your account"})]}),p.jsxs("button",{onClick:ho,className:"flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-lg px-4 py-3 w-full font-medium hover:bg-gray-100 transition","aria-label":"Continue with Google",disabled:S,children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"h-5 w-5"}),S?"Loading...":"Continue with Google"]}),p.jsxs("div",{className:"flex items-center w-full my-2",children:[p.jsx("hr",{className:"flex-grow border-gray-200"}),p.jsx("span",{className:"mx-2 text-gray-400 text-xs",children:"or"}),p.jsx("hr",{className:"flex-grow border-gray-200"})]}),s?p.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:fo,children:[p.jsxs("div",{className:"mb-2 text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:"Villa Altona"}),p.jsx("div",{className:"text-gray-500 text-sm mt-1",children:"Reset your password"})]}),p.jsxs("div",{className:"w-full relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:p.jsx(pc,{size:18})}),p.jsx("input",{type:"email",placeholder:"Email Address",value:re.email,onChange:ie=>$({...re,email:ie.target.value}),className:"pl-10 pr-3 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-black","aria-label":"Email Address",required:!0})]}),(x||w)&&p.jsx("div",{className:`w-full text-center text-sm py-2 rounded ${x?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:x||w}),p.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white px-4 py-3 rounded-lg font-semibold hover:bg-black transition","aria-label":"Send Reset Email",disabled:y,children:y?"Sending...":"Send Reset Email"}),p.jsx("button",{type:"button",className:"text-black underline font-medium mt-2",onClick:()=>{o(!1),i(!0)},children:"Back to Login"})]}):p.jsxs("form",{className:"w-full flex flex-col gap-4",onSubmit:co,children:[!r&&p.jsxs("div",{className:"w-full relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:p.jsx(mc,{size:18})}),p.jsx("input",{type:"text",placeholder:"Name",value:re.name,onChange:ie=>$({...re,name:ie.target.value}),className:"pl-10 pr-3 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-black","aria-label":"Name",required:!0})]}),p.jsxs("div",{className:"w-full relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:p.jsx(pc,{size:18})}),p.jsx("input",{type:"email",placeholder:"Email Address",value:re.email,onChange:ie=>$({...re,email:ie.target.value}),className:"pl-10 pr-3 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-black","aria-label":"Email Address",required:!0})]}),p.jsxs("div",{className:"w-full relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:p.jsx(Xb,{size:18})}),p.jsx("input",{type:d?"text":"password",placeholder:"Password",value:re.password,onChange:ie=>$({...re,password:ie.target.value}),className:"pl-10 pr-10 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-black","aria-label":"Password",required:!0}),p.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",onClick:()=>m(!d),"aria-label":d?"Hide password":"Show password",tabIndex:0,children:d?p.jsx(Wb,{size:18}):p.jsx(qb,{size:18})})]}),!r&&p.jsx("div",{className:"w-full relative",children:p.jsx("input",{type:"password",placeholder:"Confirm Password",value:re.confirmPassword,onChange:ie=>$({...re,confirmPassword:ie.target.value}),className:"pl-3 pr-3 py-2 border rounded-lg w-full focus:outline-none focus:ring-2 focus:ring-black","aria-label":"Confirm Password",required:!0})}),!r&&p.jsxs("div",{className:"w-full text-xs text-gray-600 mt-1",children:[p.jsx("div",{children:"Password must contain:"}),p.jsxs("ul",{className:"list-disc ml-4",children:[p.jsx("li",{className:Ke.hasSpecial?"text-green-600 font-bold":"text-red-600",children:"Special character"}),p.jsx("li",{className:Ke.hasCapital?"text-green-600 font-bold":"text-red-600",children:"Capital letter"}),p.jsx("li",{className:Ke.hasMinLength?"text-green-600 font-bold":"text-red-600",children:"At least 8 characters"})]})]}),(x||w)&&p.jsx("div",{className:`w-full text-center text-sm py-2 rounded ${x?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:x||w}),p.jsx("button",{type:"submit",className:"w-full bg-gray-700 text-white px-4 py-3 rounded-lg font-semibold hover:bg-black transition","aria-label":r?"Sign In":"Sign Up",disabled:y,children:y?"Loading...":r?"Sign In":"Sign Up"})]}),p.jsx("div",{className:"text-center w-full text-sm text-gray-600 mt-2",children:r?p.jsxs(p.Fragment,{children:["Don't have an account?"," ",p.jsx("button",{type:"button",className:"text-black underline font-medium",onClick:()=>{i(!1),v(null),N(null)},children:"Sign up here"})]}):p.jsxs(p.Fragment,{children:["Already have an account?"," ",p.jsx("button",{type:"button",className:"text-black underline font-medium",onClick:()=>{i(!0),v(null),N(null)},children:"Log in here"})]})})]})]})]})]})})},u6=()=>{const[t,e]=P.useState(!0);return t?p.jsx(ja,{children:p.jsx(B.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-3 shadow-lg",children:p.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Qb,{className:"h-5 w-5 flex-shrink-0"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("span",{className:"font-semibold",children:"Demo Mode:"})," This is a fully functional villa booking system.",p.jsx("span",{className:"hidden sm:inline",children:" All features are working including payments, bookings, and admin dashboard."})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("a",{href:"https://github.com/your-repo/villa-altona",target:"_blank",rel:"noopener noreferrer",className:"hidden sm:flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full transition-colors duration-200",children:[p.jsx(Hb,{className:"h-3 w-3"}),"View Code"]}),p.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors duration-200","aria-label":"Close notice",children:p.jsx(ro,{className:"h-4 w-4"})})]})]})})}):null};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,Xk={activated:!1,tokenObservers:[]},c6={initialized:!1,enabled:!1};function Xe(t){return Up.get(t)||Object.assign({},Xk)}function h6(t,e){return Up.set(t,e),Up.get(t)}function jh(){return c6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="https://content-firebaseappcheck.googleapis.com/v1",d6="exchangeRecaptchaV3Token",f6="exchangeDebugToken",Zw={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},p6=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Fa,this.pending.promise.catch(n=>{}),await g6(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Fa,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function g6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Mt=new io("appCheck","AppCheck",y6);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function sy(t){if(!Xe(t).activated)throw Mt.create("use-before-activation",{appName:t.name})}function Zk(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=yu(n)+"d:"),r&&(o+=yu(r)+"h:"),o+=yu(i)+"m:"+yu(s)+"s",o}function yu(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Mt.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Mt.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Mt.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=Number(l[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+c,issuedAtTimeMillis:h}}function v6(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Jk}/projects/${n}/apps/${r}:${d6}?key=${i}`,body:{recaptcha_v3_token:e}}}function eA(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Jk}/projects/${n}/apps/${r}:${f6}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="firebase-app-check-database",w6=1,Ga="firebase-app-check-store",tA="debug-token";let vu=null;function nA(){return vu||(vu=new Promise((t,e)=>{try{const n=indexedDB.open(_6,w6);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Mt.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ga,{keyPath:"compositeKey"})}}}catch(n){e(Mt.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),vu)}function x6(t){return iA(sA(t))}function E6(t,e){return rA(sA(t),e)}function T6(t){return rA(tA,t)}function I6(){return iA(tA)}async function rA(t,e){const r=(await nA()).transaction(Ga,"readwrite"),s=r.objectStore(Ga).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Mt.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}async function iA(t){const n=(await nA()).transaction(Ga,"readonly"),i=n.objectStore(Ga).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Mt.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function sA(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new yh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t){if(dg()){let e;try{e=await x6(t)}catch(n){Qa.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function rf(t,e){return dg()?E6(t,e).catch(n=>{Qa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function k6(){let t;try{t=await I6()}catch{}if(t)return t;{const e=eO();return T6(e).catch(n=>Qa.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){return jh().enabled}async function ly(){const t=jh();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function A6(){const t=cI(),e=jh();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Fa;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(k6())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6={error:"UNKNOWN_ERROR"};function C6(t){return cg.encodeString(JSON.stringify(t),!1)}async function Bp(t,e=!1){const n=t.app;sy(n);const r=Xe(n);let i=r.token,s;if(i&&!Ss(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(Ss(l)?i=l:await rf(n,void 0))}if(!e&&i&&Ss(i))return{token:i.token};let o=!1;if(ay()){r.exchangeTokenPromise||(r.exchangeTokenPromise=oy(eA(n,await ly()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await rf(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Xe(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Qa.warn(l.message):Qa.error(l),s=l}let a;return i?s?Ss(i)?a={token:i.token,internalError:s}:a=n1(s):(a={token:i.token},r.token=i,await rf(n,i)):a=n1(s),o&&lA(n,a),a}async function R6(t){const e=t.app;sy(e);const{provider:n}=Xe(e);if(ay()){const r=await ly(),{token:i}=await oy(eA(e,r),t.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function oA(t,e,n,r){const{app:i}=t,s=Xe(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ss(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),t1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>t1(t))}function aA(t,e){const n=Xe(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function t1(t){const{app:e}=t,n=Xe(e);let r=n.tokenRefresher;r||(r=b6(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function b6(t){const{app:e}=t;return new m6(async()=>{const n=Xe(e);let r;if(n.token?r=await Bp(t,!0):r=await Bp(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Xe(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Zw.RETRIAL_MIN_WAIT,Zw.RETRIAL_MAX_WAIT)}function lA(t,e){const n=Xe(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ss(t){return t.expireTimeMillis-Date.now()>0}function n1(t){return{token:C6(P6),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Xe(this.app);for(const n of e)aA(this.app,n.next);return Promise.resolve()}}function D6(t,e){return new N6(t,e)}function V6(t){return{getToken:e=>Bp(t,e),getLimitedUseToken:()=>R6(t),addTokenListener:e=>oA(t,"INTERNAL",e),removeTokenListener:e=>aA(t.app,e)}}const O6="@firebase/app-check",L6="0.8.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="https://www.google.com/recaptcha/api.js";function j6(t,e){const n=new Fa,r=Xe(t);r.reCAPTCHAState={initialized:n};const i=F6(t),s=e1(!1);return s?r1(t,e,s,i,n):$6(()=>{const o=e1(!1);if(!o)throw new Error("no recaptcha");r1(t,e,o,i,n)}),n.promise}function r1(t,e,n,r,i){n.ready(()=>{B6(t,e,n,r),i.resolve(n)})}function F6(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function U6(t){sy(t);const n=await Xe(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Xe(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function B6(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible",callback:()=>{Xe(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Xe(t).reCAPTCHAState.succeeded=!1}}),s=Xe(t);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function $6(t){const e=document.createElement("script");e.src=M6,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,n,r;H6(this._throttleData);const i=await U6(this._app).catch(o=>{throw Mt.create("recaptcha-error")});if(!(!((e=Xe(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw Mt.create("recaptcha-error");let s;try{s=await oy(v6(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=z6(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Mt.create("throttled",{time:Zk(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(e){this._app=e,this._heartbeatServiceProvider=qi(e,"heartbeat"),j6(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof uy?this._siteKey===e._siteKey:!1}}function z6(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+p6,httpStatus:t};{const n=e?e.backoffCount:0,r=sO(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function H6(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Mt.create("throttled",{time:Zk(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t=cl(),e){t=Oe(t);const n=qi(t,"app-check");if(jh().initialized||A6(),ay()&&ly().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Mt.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return q6(t,e.provider,e.isTokenAutoRefreshEnabled),Xe(t).isTokenAutoRefreshEnabled&&oA(r,"INTERNAL",()=>{}),r}function q6(t,e,n){const r=h6(t,Object.assign({},Xk));r.activated=!0,r.provider=e,r.cachedTokenPromise=S6(t).then(i=>(i&&Ss(i)&&(r.token=i,lA(t,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,r.provider.initialize(t)}const K6="app-check",i1="app-check-internal";function G6(){Dn(new wn(K6,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return D6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(i1).initialize()})),Dn(new wn(i1,t=>{const e=t.getProvider("app-check").getImmediate();return V6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),qt(O6,L6)}G6();const Q6=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";Q6&&(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0);W6(Mh,{provider:new uy("38187e2d-8c85-4053-8d4b-1d228f249d55"),isTokenAutoRefreshEnabled:!0});function Y6(){const[t,e]=P.useState(!1),[n,r]=P.useState(!1),[i,s]=P.useState(""),[o,a]=P.useState(null),[l,c]=P.useState(!1);P.useEffect(()=>{const S=localStorage.getItem("villa_auth");if(S){const R=JSON.parse(S);e(!0),s(R.email),c(!0)}else{const R=setTimeout(()=>{r(!0),c(!0)},4e3);a(R)}return()=>{o&&clearTimeout(o)}},[o]);const h=()=>{if(r(!1),!t){const S=setTimeout(()=>{r(!0)},4e3);a(S)}},d=S=>{e(!0),s(S),localStorage.setItem("villa_auth",JSON.stringify({email:S,loginTime:Date.now()})),r(!1),o&&(clearTimeout(o),a(null))},m=()=>{e(!1),s(""),localStorage.removeItem("villa_auth"),c(!1);const S=setTimeout(()=>{r(!0),c(!0)},4e3);a(S)},y=()=>{r(!0)},T=n&&!t;return!t&&!l?p.jsxs("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",style:{fontFamily:'"Inter", "Noto Sans", sans-serif'},children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold text-[#141414] mb-4",style:{fontFamily:'"Noto Serif", serif'},children:"Villa Altona"}),p.jsx("p",{className:"text-neutral-500",style:{fontFamily:'"Noto Sans", sans-serif'},children:"Welcome to Villa Altona"})]}),p.jsx(Jw,{isOpen:T,onClose:h,onLogin:d})]}):p.jsxs(Eb,{children:[p.jsxs("div",{className:"min-h-screen bg-neutral-50",style:{fontFamily:'"Inter", "Noto Sans", sans-serif'},children:[p.jsx(u6,{}),p.jsx(c2,{userEmail:i,onLogout:m,onShowAuth:y}),p.jsx(AV,{}),p.jsx(PV,{}),p.jsx(CV,{}),p.jsx(RV,{}),p.jsx(Y3,{isAuthenticated:t,onShowAuth:()=>r(!0)}),p.jsx(X3,{}),p.jsx(nU,{}),p.jsx(Z3,{}),p.jsx(eU,{}),p.jsx(tU,{}),p.jsx(Jw,{isOpen:T,onClose:h,onLogin:d})]}),p.jsx(ZR,{})]})}sf.createRoot(document.getElementById("root")).render(p.jsx(Xa.StrictMode,{children:p.jsx(Y6,{})}));
